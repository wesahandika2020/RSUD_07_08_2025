<script>
    var nomer = 1;
    $(function() {

        nomer++;

        $("#wizard_form_resume").bwizard();
        $("#wizard-resume-group").bwizard();
        $("#wizard-transfer-group").bwizard();
        $('#surveilans-tanggal-ttd-perawat, #surveilans-tanggal-ttd-ipcn, #ek-tanggal-mulai, #ek-tanggal-selesai, #ek-tanggal-mulai-edit, #ek-tanggal-selesai-edit, #ek_tanggal_ttd_perawat, #ek_tanggal_verifikasi_dokter, #ek_tanggal_verifikasi_penerima, #pundpn-tanggal-pengkajian, #plsp-tanggal-ttd-petugas, #tanggal-dan-waktu-assesment, #an_tanggal_pemeriksaan_pasien, #tanggal_masuk_pasien_tf, #tanggal_pindah_pasien_tf, #waktu_ttd_petugas, #waktu_ttd_petugas_penerima, #tpi_waktu_ttd_petugas_dua, #tpi_waktu_ttd_petugas_penerima, #waktu_ttd_petugas_setelah_tindakan, #waktu_ttd_petugas_penerima_setelah_tindakan, #apb_tanggal_verifiaksi_dokter_dpjp, #apb_tanggal_verifiaksi_pasien, #tangal-waktu-visit, #tanggal-waktu-pagi, #tanggal-waktu-sore, #tanggal-waktu-malam')
            .datetimepicker({
                format: 'DD/MM/YYYY HH:mm',
                pickSecond: false,
                pick12HourFormat: false,
                maxDate: new Date(),
                beforeShow: function(i) {
                    if ($(i).attr('readonly')) {
                        return false;
                    }
                }
            });

        $('#sirs-tanggal-antibiotik, #sirs-antibiotik-selesai, #sirs-tanggal-keluars, #sirs-tanggal-diagnosis-satu, #ek-tanggal-tindakan, #sirs-tanggal-mulai, #sirs-tanggal-selesai, #sirs-tanggal-pasang, #sirs-tanggal-lepas, #sirs-tanggal-diagnosis, #tpi-tanggal-infus, #tpi-tanggal-ngt, #tpi-tanggal-ett, #tpi-tanggal-cvc, #tpi-tanggal-dc, #tpi-tanggal-lain, #tanggal-mulai-dpjp, #tanggal-mulai-dpjp-utama, #tanggal-akhir-dpjp, #tanggal-akhir-dpjp-utama, #ek-tanggal-catatan-tindakan, #ek-edit-tanggal-catatan-tindakan ')
            .datetimepicker({
                format: 'DD/MM/YYYY',
                maxDate: new Date(),
                beforeShow: function(i) {
                    if ($(i).attr('readonly')) {
                        return false;
                    }
                }
            });

        let currentDate = new Date();
        $('#ek_kontrol_dokter, #tanggal-dan-waktu-assesment').datetimepicker({
            format: 'DD/MM/YYYY HH:mm',
            pickSecond: false,
            pick12HourFormat: false,
            maxDate: new Date(currentDate.getFullYear(), currentDate.getMonth() + 2, 0),
            beforeShow: function(i) {
                if ($(i).attr('readonly')) {
                    return false;
                }
            }

        });

        let tindakanDate = new Date();
        $('#ek-tanggal-tindakan-satu, #ek-tanggal-tindakan-dua, #ek-tanggal-tindakan-tiga').datetimepicker({
            format: 'DD/MM/YYYY',
            maxDate: new Date(tindakanDate.getFullYear(), tindakanDate.getMonth() + 3, 0),
            beforeShow: function(i) {
                if ($(i).attr('readonly')) {
                    return false;
                }
            }

        });

        $('#ek_jam_pemberian, #ek_jam_pemberian_satu, #ek_jam_pemberian_dua, #ek_jam_pemberian_tiga, #ek_jam_pemberian_empat, #ek_jam_pemberian_lima, #ek-jam-pagi, #ek-jam-sore, #ek-jam-malam')
            .timepicker({
                format: 'HH:mm',
                showInputs: true,
                showMeridian: false
            });

        $('#rs-waktu-search').datepicker({
            format: 'dd/mm/yyyy',
            endDate: new Date(),
        }).on('changeDate', function() {
            $(this).datepicker('hide');
        });

        $('#rs-img-calendar').click(function() {
            $('#rs-waktu-search').datepicker('show')
        });

        $('#ek_btn_expand_all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#ek_btn_collapse_all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

        $('#ak_btn_expand_all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#ak_btn_collapse_all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

        $('#ctk_btn_expand_all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#ctk_btn_collapse_all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

        $('#pur-btn-expand-all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#pur-btn-collapse-all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

        $('#pun-btn-expand-all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#pun-btn-collapse-all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

        $('#pls-btn-expand-all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#pls-btn-collapse-all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

        $('#sirs-btn-expand-all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#sirs-btn-collapse-all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

        $('#tf_btn_expand_all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#tf_btn_collapse_all').click(function() {
            $('.multi-collapse').removeClass('show');
        });


        // CPDPO WPT ALL
        $('#cpdpo_btn_expand_all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#cpdpo_btn_collapse_all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

        //  MP-A MPP ALL A-B-C
        $('#mp_btn_expand_all').click(function() {
            $('.multi-collapse').addClass('show');
        });

        $('#mp_btn_collapse_all').click(function() {
            $('.multi-collapse').removeClass('show');
        });

//transfer pasien
        $('#tpi_tanggal_masuk, #tpi_tanggal_pindah, #tpi_kp_waktu_ttd_petugas_tf, #tpi_kp_waktu_ttd_petugas_penerima, #tpi_st_waktu_ttd_petugas_tf, #tpi_st_waktu_ttd_petugas_penerima').datetimepicker({
            format: 'DD/MM/YYYY HH:mm',
            pickSecond: false,
            pick12HourFormat: false,
            maxDate: new Date(currentDate.getFullYear(), currentDate.getMonth() + 2, 0),
            beforeShow: function(i) {
                if ($(i).attr('readonly')) {
                    return false;
                }
            }
        });

        $('#tpi_pf_tanggal_infus, #tpi_pf_tanggal_ngt, #tpi_pf_tanggal_ett, #tpi_pf_tanggal_cvc, #tpi_pf_tanggal_dc, #tpi_pf_tanggal_lain').datetimepicker({
            format: 'DD/MM/YYYY',
            maxDate: new Date(),
            beforeShow: function(i) {
                if ($(i).attr('readonly')) {
                    return false;
                }
            }
        });

        $('#tpi_kp_petugas_tansfer, #tpi_kp_petugas_terima_transfer, #tpi_st_petugas_tansfer, #tpi_st_petugas_terima_transfer').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#tpi_dpjp').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#tpi_pf_infus').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pf_tanggal_infus').prop('disabled', false)
            } else {
                $('#tpi_pf_tanggal_infus').val('').prop('disabled', true)
            }
        });

        $('#tpi_pf_ngt_pasien').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pf_tanggal_ngt').prop('disabled', false)
            } else {
                $('#tpi_pf_tanggal_ngt').val('').prop('disabled', true)
            }
        });

        $('#tpi_pf_ett').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pf_tanggal_ett').prop('disabled', false)
            } else {
                $('#tpi_pf_tanggal_ett').val('').prop('disabled', true)
            }
        });

        $('#tpi_pf_cvc').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pf_tanggal_cvc').prop('disabled', false)
            } else {
                $('#tpi_pf_tanggal_cvc').val('').prop('disabled', true)
            }
        });
        
        $('#tpi_pf_dc').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pf_tanggal_dc').prop('disabled', false)
            } else {
                $('#tpi_pf_tanggal_dc').val('').prop('disabled', true)
            }
        });
        
        $('#tpi_pf_lain').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pf_tanggal_lain').prop('disabled', false)
            } else {
                $('#tpi_pf_tanggal_lain').val('').prop('disabled', true)
            }
        });

        $('#tpi_pp_labolatorium').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pp_ket_labolatorium').prop('disabled', false)
            } else {
                $('#tpi_pp_ket_labolatorium').val('').prop('disabled', true)
            }
        });
        
        $('#tpi_pp_radiologi').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pp_ket_radiologi').prop('disabled', false)
            } else {
                $('#tpi_pp_ket_radiologi').val('').prop('disabled', true)
            }
        });
        
        $('#tpi_pp_lainnya').click(function() {
            if ($(this).is(':checked')) {
                $('#tpi_pp_ket_lainnya').prop('disabled', false)
            } else {
                $('#tpi_pp_ket_lainnya').val('').prop('disabled', true)
            }
        });


        //form lina
        $('input[type=radio][name=aas_riwayat_alergi]').change(function() {
            if (this.value == 'Keterangan') {
                $('#aas_riwayat_alergi_lain').prop('disabled', false);
            } else {
                $('#aas_riwayat_alergi_lain').val('');
                $('#aas_riwayat_alergi_lain').prop('disabled', true);
            }
        });

        // APBT KOREKSI
        $('[name="apb_riwayat_alergi"]').on('change', function() {
            if ($(this).attr('id') === 'riwayat_alergi_ya' && $(this).is(':checked')) {
                $('#jenis_riwayat_alergi').prop('disabled', false);
            } else {
                $('#jenis_riwayat_alergi').prop('disabled', true);
            }
        })

        $('[name="rawat_inap"]').on('change', function() {
            if ($(this).attr('id') === 'apb_rawat_inap_ya' && $(this).is(':checked')) {
                $('#apb_rawat_inap_indikasi').prop('disabled', false);
            } else {
                $('#apb_rawat_inap_indikasi').prop('disabled', true);
            }
        })

        $('#apb_keluarga').click(function() {
            if ($(this).is(":checked")) {
                $('#apb_keluarga_keterangan').prop('disabled', false);
            } else {
                $('#apb_keluarga_keterangan').val('');
                $('#apb_keluarga_keterangan').prop('disabled', true);
            }
        });

        $('#apb_tidak_edukasi').click(function() {
            if ($(this).is(":checked")) {
                $('#apb_keterangan_edukasi').prop('disabled', false);
            } else {
                $('#apb_keterangan_edukasi').val('');
                $('#apb_keterangan_edukasi').prop('disabled', true);
            }
        });

        $('input[type=radio][name=aas_anamnesa]').change(function() {
            if (this.value == 'Lainnya') {
                $('#aas_riwayat_lainnya').prop('disabled', false);
            } else {
                $('#aas_riwayat_lainnya').val('');
                $('#aas_riwayat_lainnya').prop('disabled', true);
            }
        });

        $('input[type=radio][name=aas_komplikasi_anestesi]').change(function() {
            if (this.value == 'komplikasi anestesi') {
                $('#aas_komplikasi_anestesi_lain').prop('disabled', false);
            } else {
                $('#aas_komplikasi_anestesi_lain').val('');
                $('#aas_komplikasi_anestesi_lain').prop('disabled', true);
            }
        });

        $('input[type=radio][name=aas_riwayat_anestesi]').change(function() {
            if (this.value == 'riwayat anestesi') {
                $('#riwayat_anestesi_lain').prop('disabled', false);
            } else {
                $('#riwayat_anestesi_lain').val('');
                $('#riwayat_anestesi_lain').prop('disabled', true);
            }
        });

        $('input[type=radio][name=aas_buka_mulut]').change(function() {
            if (this.value == 1) {
                $('#aas_riwayat_buka_mulut').prop('disabled', false);
            } else {
                $('#aas_riwayat_buka_mulut').val('');
                $('#aas_riwayat_buka_mulut').prop('disabled', true);
            }
        });

        $('input[type=radio][name=aas_mentohyoid]').change(function() {
            if (this.value == 1) {
                $('#aas_mentohyoid_riwayat').prop('disabled', false);
            } else {
                $('#aas_mentohyoid_riwayat').val('');
                $('#aas_mentohyoid_riwayat').prop('disabled', true);
            }
        });

        $('input[type=radio][name=aas_jarak_hyothyoroid]').change(function() {
            if (this.value == 1) {
                $('#aas_ket_jarak_hyothyoroid').prop('disabled', false);
            } else {
                $('#aas_ket_jarak_hyothyoroid').val('');
                $('#aas_ket_jarak_hyothyoroid').prop('disabled', true);
            }
        });

        $('input[type=radio][name=teknik_khusus]').change(function() {
            if (this.value == 'lainnya') {
                $('#ass_tk_riwayat_lain').prop('disabled', false);
            } else {
                $('#ass_tk_riwayat_lain').val('');
                $('#ass_tk_riwayat_lain').prop('disabled', true);
            }
        });

        $('input[type=radio][name=monitoring]').change(function() {
            if (this.value == 'lainnya') {
                $('#aas_riwayat_tas_lain').prop('disabled', false);
            } else {
                $('#aas_riwayat_tas_lain').val('');
                $('#aas_riwayat_tas_lain').prop('disabled', true);
            }
        });

        $('input[type=radio][name=alat_khusus]').change(function() {
            if (this.value == 'lainnya') {
                $('#aas_ak_riwayat_lainnya').prop('disabled', false);
            } else {
                $('#aas_ak_riwayat_lainnya').val('');
                $('#aas_ak_riwayat_lainnya').prop('disabled', true);
            }
        });

        $('input[type=radio][name=perawatan_pasca_anestesi]').change(function() {
            if (this.value == 'lainnya') {
                $('#aas_ppa_riwayat_lain').prop('disabled', false);
            } else {
                $('#aas_ppa_riwayat_lain').val('');
                $('#aas_ppa_riwayat_lain').prop('disabled', true);
            }
        });

        // $('input[type=radio][name=kewaspadaan]').change(function() {
        //     if (this.value == 'Ada cairan dari luka') {
        //         $('#tpi_riwayat_kewaspadan').prop('disabled', false);
        //     } else {
        //         $('#tpi_riwayat_kewaspadan').val('');
        //         $('#tpi_riwayat_kewaspadan').prop('disabled', true);
        //     }
        // });

        $('input[type=radio][name=alergi_tf_pasien]').change(function() {
            if (this.value == 'Ya') {
                $('#alergi-tpi-pasien-riwayat').prop('disabled', false);
            } else {
                $('#alergi-tpi-pasien-riwayat').val('');
                $('#alergi-tpi-pasien-riwayat').prop('disabled', true);
            }
        });

        $('input[type=radio][name=skala_nyeri_pasien_tpi]').change(function() {
            if (this.value == 'Ya') {
                $('#riwayat_nyeri_pasien_tpi').prop('disabled', false);
            } else {
                $('#riwayat_nyeri_pasien_tpi').val('');
                $('#riwayat_nyeri_pasien_tpi').prop('disabled', true);
            }
        });

        $('input[type=radio][name=resiko_jatuh_pasien_tpi]').change(function() {
            if (this.value == 'Ya') {
                $('#_riwayat_resiko_jatuh_pasien_tpi').prop('disabled', false);
            } else {
                $('#_riwayat_resiko_jatuh_pasien_tpi').val('');
                $('#_riwayat_resiko_jatuh_pasien_tpi').prop('disabled', true);
            }
        });

        $('input[type=radio][name=resiko_dekubitus_pasien_tpi]').change(function() {
            if (this.value == 'Ya') {
                $('#riwayat_resiko_dekubitus_pasien_tpi').prop('disabled', false);
            } else {
                $('#riwayat_resiko_dekubitus_pasien_tpi').val('');
                $('#riwayat_resiko_dekubitus_pasien_tpi').prop('disabled', true);
            }
        });

        $('input[type=radio][name=infus_pasien_tpi]').change(function() {
            if (this.value == 'Infus') {
                $('#tpi-tanggal-infus').prop('disabled', false);
            } else {
                $('#tpi-tanggal-infus').val('');
                $('#tpi-tanggal-infus').prop('disabled', true);
            }
        });

        $('input[type=radio][name=ngt_pasien_tf]').change(function() {
            if (this.value == 'NGT') {
                $('#tpi-tanggal-ngt').prop('disabled', false);
            } else {
                $('#tpi-tanggal-ngt').val('');
                $('#tpi-tanggal-ngt').prop('disabled', true);
            }
        });

        $('input[type=radio][name=ett_pasien_tf]').change(function() {
            if (this.value == 'ETT') {
                $('#tpi-tanggal-ett').prop('disabled', false);
            } else {
                $('#tpi-tanggal-ett').val('');
                $('#tpi-tanggal-ett').prop('disabled', true);
            }
        });

        $('input[type=radio][name=ecc_pasien_tf]').change(function() {
            if (this.value == 'CVC') {
                $('#tpi-tanggal-cvc').prop('disabled', false);
            } else {
                $('#tpi-tanggal-cvc').val('');
                $('#tpi-tanggal-cvc').prop('disabled', true);
            }
        });

        $('input[type=radio][name=dc_pasien_tf]').change(function() {
            if (this.value == 'DC') {
                $('#tpi-tanggal-dc').prop('disabled', false);
            } else {
                $('#tpi-tanggal-dc').val('');
                $('#tpi-tanggal-dc').prop('disabled', true);
            }
        });

        $('input[type=radio][name=lainnya_tf]').change(function() {
            if (this.value == 'Lainnya') {
                $('#tpi-tanggal-lain').prop('disabled', false);
            } else {
                $('#tpi-tanggal-lain').val('');
                $('#tpi-tanggal-lain').prop('disabled', true);
            }
        });

        $('input[type=radio][name=tpi-labolatorium]').change(function() {
            if (this.value == 'Labolatorium') {
                $('#tpi-lab-lain').prop('disabled', false);
            } else {
                $('#tpi-lab-lain').val('');
                $('#tpi-lab-lain').prop('disabled', true);
            }
        });

        $('input[type=radio][name=tpi-radiologi]').change(function() {
            if (this.value == 'Radiologi') {
                $('#tpi-rad-lain').prop('disabled', false);
            } else {
                $('#tpi-rad-lain').val('');
                $('#tpi-rad-lain').prop('disabled', true);
            }
        });

        $('input[type=radio][name=tpi-penunjang-lainnya]').change(function() {
            if (this.value == 'Penunjang Lain') {
                $('#tpi-riwayat-penunjang-lain').prop('disabled', false);
            } else {
                $('#tpi-riwayat-penunjang-lain').val('');
                $('#tpi-riwayat-penunjang-lain').prop('disabled', true);
            }
        });

        $('input[type=radio][name=nama_obat]').change(function() {
            if (this.value == 1) {
                $('#tpi_nama_obat_riwayat').prop('disabled', false);
            } else {
                $('#tpi_nama_obat_riwayat').val('');
                $('#tpi_nama_obat_riwayat').prop('disabled', true);
            }
        });

        $('input[type=radio][name=pemeriksaan_penunjang_pasien]').change(function() {
            if (this.value == 1) {
                $('#tpi_riwayat_penunjang').prop('disabled', false);
            } else {
                $('#tpi_riwayat_penunjang').val('');
                $('#tpi_riwayat_penunjang').prop('disabled', true);
            }
        });

        $('input[type=radio][name=tpi_kpst_nama_obat_kondisi_pasien]').change(function() {
            if (this.value == 1) {
                $('#tpi_dua_nama_obat_kondisi_pasien_riwayat').prop('disabled', false);
            } else {
                $('#tpi_dua_nama_obat_kondisi_pasien_riwayat').val('');
                $('#tpi_dua_nama_obat_kondisi_pasien_riwayat').prop('disabled', true);
            }
        });

        $('input[type=radio][name=tpi_kpst_skala_nyeri_pasien_tf]').change(function() {
            if (this.value == 1) {
                $('#tpi_dua_riwayat_nyeri_pasien_tf').prop('disabled', false);
            } else {
                $('#tpi_dua_riwayat_nyeri_pasien_tf').val('');
                $('#tpi_dua_riwayat_nyeri_pasien_tf').prop('disabled', true);
            }
        });

        $('#sm_bak_kateter').datetimepicker({
            format: 'DD/MM/YYYY HH:mm',
            pickSecond: false,
            pick12HourFormat: false,
            maxDate: new Date(),
            beforeShow: function(i) {
                if ($(i).attr('readonly')) {
                    return false;
                }
            }
        });

        $('#barang_auto').select2c({
            minimumInputLength: 2,
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2

                    return {
                        q: term, //search term
                        page: page // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },

            formatResult: function(data) {
                var markup = data.nama;

                return markup;
            },
            formatSelection: function(data) {

                return data.nama;

            }
        });

        $('#ek-rencana-tindakan').select2c({
            ajax: {
                url: "<?= base_url('pelayanan/api/pelayanan/rencana_tindakan_keperawatan') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number

                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama;
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#sirs-nama-antibiotika').select2c({
            minimumInputLength: 2,
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2

                    return {
                        q: term, //search term
                        page: page // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },

            formatResult: function(data) {
                var markup = data.nama;

                return markup;
            },
            formatSelection: function(data) {

                return data.nama;

            }
        });

        $('#aturan_pakai').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/aturan_pakai_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2


                    return {
                        q: term, //search term
                        page: page
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.signa + ' ' + data.keterangan;
                return markup;
            },
            formatSelection: function(data) {
                $('#aturanpakai').val(data.signa);
                $('#aturanpakai2').val(data.keterangan);
                $('#timing').focus();
                dinamicJamMinum(parseFloat(data.jml_pemberian));
                return '';
            }
        });

        $('#ek_nama_dokter').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#sirs-ruang-rawat').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/kamar_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama;
                return markup;
            },
            formatSelection: function(data) {
                getNoBed(data.id);
                return data.nama;
            }
        });

        $('#ruangan_asal_rawat_inap').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/kamar_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama;
                return markup;
            },
            formatSelection: function(data) {
                getNoBed(data.id);
                return data.nama;
            }
        });

        function getNoBed(id_kamar) {
            $.ajax({
                type: 'GET',
                url: '<?= base_url("bed/api/bed/get_no_bed") ?>/' + id_kamar,
                cache: false,
                dataType: 'JSON',
                success: function(data) {
                    if (data !== null) {
                        $('#no-bed').val(data.no_bed);
                    } else {
                        $('#no-bed').val('');
                    }

                    syams_validation_remove('#no-bed');
                },
                error: function(e) {
                    accessFailed(e.status);
                }
            });
        }

        $('#t-op-lain').click(function() {
            if ($(this).is(':checked')) {
                $('#sm-top-lain').prop('disabled', false)
            } else {
                $('#sm-top-lain').val('').prop('disabled', true)
            }
        });

        $('#sirs-antibiotik').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-antibiotik-profilaksis').prop('disabled', false)
                $('#sirs-dosis-antibiotik').prop('disabled', false)
            } else {
                $('#sirs-antibiotik-profilaksis').val('').prop('disabled', true)
                $('#sirs-dosis-antibiotik').val('').prop('disabled', true)
            }
        });

        $('#sirs-antibiotik-satu').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-antibiotik-profilaksis-satu').prop('disabled', false)
                $('#sirs-dosis-antibiotik-satu').prop('disabled', false)
            } else {
                $('#sirs-antibiotik-profilaksis-satu').val('').prop('disabled', true)
                $('#sirs-dosis-antibiotik-satu').val('').prop('disabled', true)
            }
        });

        $('#sirs-ada-ido').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-komplikasi-ido').prop('disabled', false)
                $('#sirs-kultur-ido').prop('disabled', false)
            } else {
                $('#sirs-komplikasi-ido').val('').prop('disabled', true)
                $('#sirs-kultur-ido').val('').prop('disabled', true)
            }
        });

        $('#sirs-ada-iad').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-komplikasi-iad').prop('disabled', false)
                $('#sirs-kultur-iad').prop('disabled', false)
            } else {
                $('#sirs-komplikasi-iad').val('').prop('disabled', true)
                $('#sirs-kultur-iad').val('').prop('disabled', true)
            }
        });

        $('#sirs-ada-isk').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-komplikasi-isk').prop('disabled', false)
                $('#sirs-kultur-isk').prop('disabled', false)
            } else {
                $('#sirs-komplikasi-isk').val('').prop('disabled', true)
                $('#sirs-kultur-isk').val('').prop('disabled', true)
            }
        });

        $('#sirs-ada-hap').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-komplikasi-hap').prop('disabled', false)
                $('#sirs-kultur-hap').prop('disabled', false)
            } else {
                $('#sirs-komplikasi-hap').val('').prop('disabled', true)
                $('#sirs-kultur-hap').val('').prop('disabled', true)
            }
        });

        $('#sirs-ada-vap').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-komplikasi-vap').prop('disabled', false)
                $('#sirs-kultur-vap').prop('disabled', false)
            } else {
                $('#sirs-komplikasi-vap').val('').prop('disabled', true)
                $('#sirs-kultur-vap').val('').prop('disabled', true)
            }
        });

        $('#sirs-ada-plebitis').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-komplikasi-plebitis').prop('disabled', false)
                $('#sirs-kultur-plebitis').prop('disabled', false)
            } else {
                $('#sirs-komplikasi-plebitis').val('').prop('disabled', true)
                $('#sirs-kultur-plebitis').val('').prop('disabled', true)
            }
        });

        $('#sirs-ada-dekubitus').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-komplikasi-dekubitus').prop('disabled', false)
                $('#sirs-kultur-dekubitus').prop('disabled', false)
            } else {
                $('#sirs-komplikasi-dekubitus').val('').prop('disabled', true)
                $('#sirs-kultur-dekubitus').val('').prop('disabled', true)
            }
        });

        $('#sirs-ada-lain').click(function() {
            if ($(this).is(':checked')) {
                $('#sirs-komplikasi-lain').prop('disabled', false)
                $('#sirs-kultur-lain').prop('disabled', false)
            } else {
                $('#sirs-komplikasi-lain').val('').prop('disabled', true)
                $('#sirs-kultur-lain').val('').prop('disabled', true)
            }
        });

        $('#diet_khusus').click(function() {
            if ($(this).is(':checked')) {
                $('#sm_diet_khusus').prop('disabled', false)
            } else {
                $('#sm_diet_khusus').val('').prop('disabled', true)
            }
        });

        $('#batasan_cairan').click(function() {
            if ($(this).is(':checked')) {
                $('#sm_batasan_cairan').prop('disabled', false)
            } else {
                $('#sm_batasan_cairan').val('').prop('disabled', true)
            }
        });

        $('input[name="bak"]').change(function() {
            if ($(this).val() === 'Kateter, tanggal pasang terakhir') {
                $('#sm_bak_kateter').prop('disabled', false);
            } else {
                $('#sm_bak_kateter').prop('disabled', true);
                $('#sm_bak_kateter').val('');
            }
        });

        $('input[name="luka_operasi"]').change(function() {
            if ($(this).val() === 'Ada cairan dari luka') {
                $('#sm_cairan_luka').prop('disabled', false);
            } else {
                $('#sm_cairan_luka').prop('disabled', true);
                $('#sm_cairan_luka').val('');
            }
        });

        $('input[name="alat_bantu"]').change(function() {
            if ($(this).val() === 'Lain - lain') {
                $('#sm_alat_lain').prop('disabled', false);
            } else {
                $('#sm_alat_lain').prop('disabled', true);
                $('#sm_alat_lain').val('');
            }
        });

        $('#cairan_luka').click(function() {
            if ($(this).is(':checked')) {
                $('#sm_cairan_luka').prop('disabled', false)
            } else {
                $('#sm_cairan_luka').val('').prop('disabled', true)
            }
        });

        $('#alat_lain').click(function() {
            if ($(this).is(':checked')) {
                $('#sm_alat_lain').prop('disabled', false)
            } else {
                $('#sm_alat_lain').val('').prop('disabled', true)
            }
        });

        $('#perawat_medis').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#petugas_tansfer').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#petugas_tansfer_dua').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#tpi_petugas_terima_transfer').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#tpi_petugas_tansfer').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#tpi_petugas_terima_transfer_dua').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#petugas_terima_transfer_dua_st').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#pemeriksa_asesmen_anestesi').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#aas_perawat').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#perawat-terapi, #ek-edit-perawat-tindakan-pagi, #ek-edit-perawat-tindakan-sore, #ek-edit-perawat-tindakan-malam, #ek-perawat-tindakan-pagi, #ek-perawat-tindakan-sore, #ek-perawat-tindakan-malam').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#sirs-perawat-pasang').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#sirs-perawat-lepas').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#surveilans-perawat').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#perawat-mengover-pagi').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-perawat-mengover-pagi-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#perawat-menerima-pagi').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-perawat-menerima-pagi-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#perawat-mengover-sore').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-perawat-mengover-sore-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#perawat-menerima-sore').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-perawat-menerima-sore-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#perawat-mengover-malam').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-perawat-mengover-malam-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#perawat-menerima-malam').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-perawat-menerima-malam-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#surveilans-ipcn').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#ek-masalah-keperawatan').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/masalah_keperawatan_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number

                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama;
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#ek-catatan-tindakan').select2c({
            ajax: {
                url: "<?= base_url('pelayanan/api/pelayanan/catatan_tindakan_keperawatan') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number

                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama;
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        let waktu_tindakan = '';
        waktu_tindakan = '\<select name=\"waktu_tindakan\" class=\"custom-select clear-input d-inline-block col-lg-5 ml-2\" id=\"ek-tindakan-waktu\">\
                <option value="Pagi">Pagi</option>\
                <option value="Siang">Siang</option>\
                <option value="Malam">Malam</option>\
                </select>';

        $('#ek-waktu-tindakan').append(waktu_tindakan);

        $('#ek-tindakan-keperawatan').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/masalah_keperawatan_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number

                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama;
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#verifikasi_dokter').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#apb_dokter_dpjp').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $('#id_dokter_dpjp_pra_bedah').val(data.id);
                return data.nama;
            }
        });

        $('#nama-dokter-visit').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $('#id_dokter_dpjp_pra_bedah').val(data.id);
                return data.nama;
            }
        });

        $('#nama-dokter-dpjp').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $('#id_dokter_dpjp_pra_bedah').val(data.id);
                return data.nama;
            }
        });

        $('#nama-dokter-dpjp-utama').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $('#id_dokter_dpjp_pra_bedah').val(data.id);
                return data.nama;
            }
        });

        $('#nama-dokter-visit').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#dpjp-utama-pagi').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-dpjp-utama-pagi-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#konsulen-pagi').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#dokter-dpjp-sore').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-dokter-dpjp-sore-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#konsulen-sore').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#dokter-dpjp-malam').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                $("#id-dokter-dpjp-malam-hidden").val(data.id);
                return data.nama;
            }
        });

        $('#konsulen-malam').select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });

        $('#sirs-tindakan').select2c({
            ajax: {
                url: "<?= base_url('intensive_care/api/intensive_care/tindakan_icare') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.layanan + '</b> <br/>' + data.layanan_parent;

                return markup;
            },
            formatSelection: function(data) {
                return data.layanan
            }
        });

        function showPengkajianUlangAnak(num) {

            let html = bukaLebar('Form Pengkajian Ulang Anak', num);

            html += /* html */ `
                    <table class="table table-no-border table-sm table-striped">
                        <tr>
                            <td>
                                Tanggal Pengkajian
                            </td>
                            <td>
                                :
                            </td>
                            <td>
                                <input type="text" name="purja_tanggal_pengkajian" id="purjpa-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-lg-5 ml-2" placeholder="dd/mm/yyyy">
                            </td>
                        </tr>
                    </table>
                    <hr>
                    <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-purjpa">
                        <thead>
                            <tr>
                                <th width="20%" class="center"><b>Parameter</b></th>
                                <th width="60%" class="center"><b>Kriteria</b></th>
                                <th width="20%" class="center"><b>Skor</b></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td rowspan="4"><input type="hidden" id="purjpa-umur">Umur</td>
                                <td>
                                    <input type="radio" name="purjpa_umur" id="purjpa-umur-4" value="4" class="mr-1" onchange="calcscorepurjpa()">
                                    Dibawah 3 tahun
                                </td>
                                <td class="center">4</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_umur" id="purjpa-umur-3" value="3" class="mr-1" onchange="calcscorepurjpa()">3-7 tahun</td>
                                <td class="center">3</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_umur" id="purjpa-umur-2" value="2" class="mr-1" onchange="calcscorepurjpa()">7-13 tahun</td>
                                <td class="center">2</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_umur" id="purjpa-umur-1" value="1" class="mr-1" onchange="calcscorepurjpa()">>13 tahun</td>
                                <td class="center">1</td>
                            </tr>
                            <tr>
                                <td rowspan="2"><input type="hidden" id="purjpa-jenis-kelamin">Jenis kelamin</td>
                                <td><input type="radio" name="purjpa_jenis_kelamin" id="purjpa-jenis-kelamin-2" value="2" class="mr-1" onchange="calcscorepurjpa()">Laki-laki</td>
                                <td class="center">2</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_jenis_kelamin" id="purjpa-jenis-kelamin-1" value="1" class="mr-1" onchange="calcscorepurjpa()">perempuan</td>
                                <td class="center">1</td>
                            </tr>
                            <tr>
                                <td rowspan="4"><input type="hidden" id="purjpa-diagnosis">Diagnosis</td>
                                <td><input type="radio" name="purjpa_diagnosis" id="purjpa-diagnosis-4" value="4" class="mr-1 disabled" onchange="calcscorepurjpa()">Kelainan Neurologi</td>
                                <td class="center">4</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_diagnosis" id="purjpa-diagnosis-3" value="3" class="mr-1" onchange="calcscorepurjpa()">Respiratori, dehidrasi, anemia, anoreksia, syncope</td>
                                <td class="center">3</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_diagnosis" id="purjpa-diagnosis-2" value="2" class="mr-1" onchange="calcscorepurjpa()">Perilaku</td>
                                <td class="center">2</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_diagnosis" id="purjpa-diagnosis-1" value="1" class="mr-1" onchange="calcscorepurjpa()">Lain-lain</td>
                                <td class="center">1</td>
                            </tr>
                            <tr>
                                <td rowspan="3"><input type="hidden" id="purjpa-gangguan-kognitif">Gangguan kognitif</td>
                                <td><input type="radio" name="purjpa_gangguan_kognitif" id="purjpa-gangguan-kognitif-3" value="3" class="mr-1" onchange="calcscorepurjpa()">Keterbatasan daya pikir</td>
                                <td class="center">3</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_gangguan_kognitif" id="purjpa-gangguan-kognitif-2" value="2" class="mr-1" onchange="calcscorepurjpa()">Pelupa, berkurangnya orientasi sekitar</td>
                                <td class="center">2</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_gangguan_kognitif" id="purjpa-gangguan-kognitif-1" value="1" class="mr-1" onchange="calcscorepurjpa()">Dapat menggunakan daya pikir tanpa hambatan</td>
                                <td class="center">1</td>
                            </tr>
                            <tr>
                                <td rowspan="4"><input type="hidden" id="purjpa-faktor-lingkungan">Faktor lingkungan</td>
                                <td><input type="radio" name="purjpa_faktor_lingkungan" id="purjpa-faktor-lingkungan-4" value="4" class="mr-1 disabled" onchange="calcscorepurjpa()">Riwayat jatuh atau bayi/balita yang ditempatkan di tempat tidur</td>
                                <td class="center">4</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_faktor_lingkungan" id="purjpa-faktor-lingkungan-3" value="3" class="mr-1" onchange="calcscorepurjpa()" >Pasien menggunakan alat bantu atau bayi/balita dalam ayunan</td>
                                <td class="center">3</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_faktor_lingkungan" id="purjpa-faktor-lingkungan-2" value="2" class="mr-1" onchange="calcscorepurjpa()" >Pasien di tempat tidur standar</td>
                                <td class="center">2</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_faktor_lingkungan" id="purjpa-faktor-lingkungan-1" value="1" class="mr-1" onchange="calcscorepurjpa()" >Area pasien rawat jalan</td>
                                <td class="center">1</td>
                            </tr>
                            <tr>
                                <td rowspan="3"><input type="hidden" id="purjpa-respon-pembedahan">Respon terhadap pembedahan, sedasi dan anastesi</td>
                                <td><input type="radio" name="purjpa_respon_pembedahan" id="purjpa-respon-pembedahan-3" value="3" class="mr-1 disabled" onchange="calcscorepurjpa()">Dalam 24 jam</td>
                                <td class="center">3</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_respon_pembedahan" id="purjpa-respon-pembedahan-2" value="2" class="mr-1" onchange="calcscorepurjpa()" >Dalam 48 jam</td>
                                <td class="center">2</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_respon_pembedahan" id="purjpa-respon-pembedahan-1" value="1" class="mr-1" onchange="calcscorepurjpa()" >Lebih dari 48 jam/ tidak ada respon</td>
                                <td class="center">1</td>
                            </tr>
                            <tr>
                                <td rowspan="3"><input type="hidden" id="purjpa-penggunaan-obat">Penggunaan obat-obatan</td>
                                <td><input type="radio" name="purjpa_penggunaan_obat" id="purjpa-penggunaan-obat-3" value="3" class="mr-1 disabled" onchange="calcscorepurjpa()">Penggunaan bersamaan sedative barbiturate, anti depresan,diuretic, narkotik</td>
                                <td class="center">3</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_penggunaan_obat" id="purjpa-penggunaan-obat-2" value="2" class="mr-1" onchange="calcscorepurjpa()" >Salah satu dari obat diatas</td>
                                <td class="center">2</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="purjpa_penggunaan_obat" id="purjpa-penggunaan-obat-1" value="1" class="mr-1" onchange="calcscorepurjpa()" >Obat-obatan lainnya/tanpa obat</td>
                                <td class="center">1</td>
                            </tr>
                            <tr>
                                <td colspan="2" class="bold">JUMLAH SKOR</td>
                                <td class="center"><input type="number" min="0" name="purjpa_jumlah_skor" id="purjpa-jumlah-skor" class="custom-form clear-input center" placeholder="Jumlah" value="0" readonly></td>
                            </tr>
                            <tr>
                                <td class="bold">Paraf</td>
                                <td colspan="2"><input type="checkbox" id="purjpa-paraf" aria-label="Checkbox for paraf"/></td>
                            </tr>
                            <tr>
                                <td class="bold">Perawat</td>
                                <td colspan="2">
                                    <div class="input-group">
                                        <input type="text" name="purjpa_perawat" id="purjpa-perawat" class="select2c-input ml-2">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" title="Tambah Pengkajian" class="btn btn-info" onclick="tambahPengkajianAnak()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Pengkajian</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>`;

            html += tutupRapet();

            $('#buka-tutup-pengkajian-anak').append(html);
        }

        $('#data-pengkajian-ulang-resiko-pasien-anak ').one('click', function() {
            $('#purjpa-perawat, #purjpa-edit-perawat').select2c({
                ajax: {
                    url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                    dataType: 'json',
                    quietMillis: 100,
                    data: function(term,
                        page) { // page is the one-based page number tracked by Select2
                        return {
                            q: term, //search term
                            page: page, // page number
                            jenis: $('#c_profesi').val(),
                        };
                    },
                    results: function(data, page) {
                        var more = (page * 20) < data
                            .total; // whether or not there are more results available

                        // notice we return the value of more so Select2 knows if more results can be loaded
                        return {
                            results: data.data,
                            more: more
                        };
                    }
                },
                formatResult: function(data) {
                    var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                    return markup;
                },
                formatSelection: function(data) {
                    return data.nama;
                }
            });
        })

        $('#data-pemantauan-pasien-resiko-jatuh-pasien-anak').one('click', function() {
            $('#pprjpa-perawat, #pprjpa-edit-perawat').select2c({
                ajax: {
                    url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                    dataType: 'json',
                    quietMillis: 100,
                    data: function(term,
                        page) { // page is the one-based page number tracked by Select2
                        return {
                            q: term, //search term
                            page: page, // page number
                            jenis: $('#c_profesi').val(),
                        };
                    },
                    results: function(data, page) {
                        var more = (page * 20) < data
                            .total; // whether or not there are more results available

                        // notice we return the value of more so Select2 knows if more results can be loaded
                        return {
                            results: data.data,
                            more: more
                        };
                    }
                },
                formatResult: function(data) {
                    var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                    return markup;
                },
                formatSelection: function(data) {
                    return data.nama;
                }
            });
        })

        function showPengkajianUlangRisikoJatuhPasienLansia(num) {

            let html = bukaLebar('Form Pengkajian Ulang Lansia', num);

            html += /* html */ `
                    <table class="table table-no-border table-sm table-striped">
                        <tr>
                            <td>
                                Tanggal Pengkajian
                            </td>
                            <td>
                                :
                            </td>
                            <td>
                                <input type="text" name="purjpl_tanggal_pengkajian" id="purjpl-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-lg-5 ml-2" placeholder="dd/mm/yyyy">
                            </td>
                        </tr>
                    </table>
                    <hr>
                    <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-purjpl">
                        <thead>
                            <tr>
								<th width="5%" class="center">no</th>
                                <th width="15%" class="center"><b>Parameter</b></th>
                                <th width="60%" class="center"><b>Skrining</b></th>
                                <th width="10%" class="center"><b>Jawaban</b></th>
                                <th width="10%" class="center"><b>Skor</b></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
								<td class="center" rowspan="2">1</td>
                                <td rowspan="2"><input type="hidden" id="purjpl-riwayat-jatuh">Riwayat Jatuh</td>
                                <td>
                                    <input type="hidden" id="purjpl-pasien-datang-karena-jatuh">Apakah pasien datang ke RS karena jatuh?
                                </td>
                                <td class="center">
                                	<input type="radio" name="purjpl_pasien_datang_karena_jatuh" id="purjpl-pasien-datang-karena-jatuh-1" value="6" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_pasien_datang_karena_jatuh" id="purjpl-pasien-datang-karena-jatuh-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
								<td rowspan="2">
									Salah satu jawaban ya = 6
								</td>
                            </tr>
                            <tr>
								<td>
                                    <input type="hidden" id="purjpl-jatuh-2-bulan-terakhir">Jika tidak, apakah pasien mengalami jatuh dalam 2 bulan terakhir?
                                </td>
                                <td class="center">
									<input type="radio" name="purjpl_jatuh_2_bulan_terakhir" id="purjpl-jatuh-2-bulan-terakhir-1" value="6" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_jatuh_2_bulan_terakhir" id="purjpl-jatuh-2-bulan-terakhir-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
                            </tr>
							<tr>
								<td class="center" rowspan="3">2</td>
                                <td rowspan="3"><input type="hidden" id="purjpl-mental">Status Mental</td>
                                <td>
                                    <input type="hidden" id="purjpl-pasien-delirium">Apakah pasien delirium? (Tidak dapat membuat keputusan, pola pikir tidak terorganisir, gangguan daya ingat)
                                </td>
                                <td class="center">
                                	<input type="radio" name="purjpl_pasien_delirium" id="purjpl-pasien-delirium-1" value="14" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_pasien_delirium" id="purjpl-pasien-delirium-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
								<td rowspan="3">
									Salah satu jawaban ya = 14
								</td>
                            </tr>
                            <tr>
								<td>
                                    <input type="hidden" id="purjpl-pasien-disorientasi">Apakah pasien disorientasi? (salah menyebutkan waktu, tempat atau orang)
                                </td>
                                <td class="center">
									<input type="radio" name="purjpl_pasien_disorientasi" id="purjpl-pasien-disorientasi-1" value="14" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_pasien_disorientasi" id="purjpl-pasien-disorientasi-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
                            </tr>
							<tr>
								<td>
                                    <input type="hidden" id="purjpl-pasien-agitasi">Apakah pasien mengalami agitasi? (ketakutan, gelisah, dan cemas)
                                </td>
                                <td class="center">
									<input type="radio" name="purjpl_pasien_agitasi" id="purjpl-pasien-agitasi-1" value="14" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_pasien_agitasi" id="purjpl-pasien-agitasi-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
                            </tr>
							<tr>
								<td class="center" rowspan="3">3</td>
                                <td rowspan="3"><input type="hidden" id="purjpl-penglihatan">Penglihatan</td>
                                <td>
                                    <input type="hidden" id="purjpl-pasien-kacamata">Apakah pasien memakai kacamata?
                                </td>
                                <td class="center">
                                	<input type="radio" name="purjpl_pasien_kacamata" id="purjpl-pasien-kacamata-1" value="1" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_pasien_kacamata" id="purjpl-pasien-kacamata-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
								<td rowspan="3">
									Salah satu jawaban ya = 1
								</td>
                            </tr>
                            <tr>
								<td>
                                    <input type="hidden" id="purjpl-pasien-buram">Apakah pasien mengeluh adanya penegelihatan buram?
                                </td>
                                <td class="center">
									<input type="radio" name="purjpl_pasien_buram" id="purjpl-pasien-buram-1" value="1" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_pasien_buram" id="purjpl-pasien-buram-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
                            </tr>
							<tr>
								<td>
                                    <input type="hidden" id="purjpl-pasien-glaukoma">Apakah pasien mempunyai glaukoma? Katarak / degenerasi makula?
                                </td>
                                <td class="center">
									<input type="radio" name="purjpl_pasien_glaukoma" id="purjpl-pasien-glaukoma-1" value="1" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_pasien_glaukoma" id="purjpl-pasien-glaukoma-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
                            </tr>
							<tr>
								<td class="center">4</td>
                                <td><input type="hidden" id="purjpl-berkemih">Kebiasaan Berkemih</td>
                                <td>
                                    <input type="hidden" id="purjpl-pasien-berkemih">Apakah terdapat perunbahan perilaku berkemih? (frekuensi, urgensi, inkonteinensia, nokturia)
                                </td>
                                <td class="center">
                                	<input type="radio" name="purjpl_pasien_berkemih" id="purjpl-pasien-berkemih-1" value="2" class="mr-1" onchange="calcscorepurjpl()">
									Ya
									<input type="radio" name="purjpl_pasien_berkemih" id="purjpl-pasien-berkemih-2" value="0" class="mr-1" onchange="calcscorepurjpl()">
									Tidak
								</td>
								<td>
									Salah satu jawaban ya = 2
								</td>
                            </tr>
							<tr>
								<td class="center" rowspan="4">5</td>
                                <td rowspan="4"><input type="hidden" id="purjpl-transfer">Transfer (dari tempat tidur ke kursi dan kembali lagi ketempat tidur)</td>
                                <td>
                                    <input type="hidden" id="purjpl-mandiri">Mandiri (boleh memakai alat bantu jalan)
                                </td>
                                <td class="center">
                                	<input type="checkbox" name="purjpl_pasien_mandiri" id="purjpl-pasien-mandiri" class="mr-1" onchange="calcscorepurjpl()">
									0
								</td>
								<td rowspan="8">
									<div style="display: flex;flex-direction: column;">
										Jumlah nilai transfer dan mobilitas jika
										<span>nilai total 0 - 3 = 0</span>
										<span>nilai total 4 - 6 = 7</span>
									</div>
								</td>
                            </tr>
                            <tr>
								<td>
                                    <input type="hidden" id="purjpl-sedikit-bantuan">Memerlukan sedikit bantuan (1 orang) / dalam pengawasan
                                </td>
                                <td class="center">
									<input type="checkbox" name="purjpl_pasien_sedikit_bantuan" id="purjpl-pasien-sedikit-bantuan" class="mr-1" onchange="calcscorepurjpl()">
									1
								</td>
                            </tr>
							<tr>
								<td>
                                    <input type="hidden" id="purjpl-bantuan-nyata">Memerlukan bantuan yang nyata (2 orang)
                                </td>
                                <td class="center">
									<input type="checkbox" name="purjpl_pasien_bantuan_nyata" id="purjpl-pasien-bantuan-nyata" class="mr-1" onchange="calcscorepurjpl()">
									2
								</td>
                            </tr>
							<tr>
								<td>
                                    <input type="hidden" id="purjpl-bantuan-total">Tidak dapat duduk dengan seimbang, perlu bantuan total
                                </td>
                                <td class="center">
									<input type="checkbox" name="purjpl_pasien_bantuan_total" id="purjpl-pasien-bantuan-total" class="mr-1" onchange="calcscorepurjpl()">
									3
								</td>
                            </tr>
							<tr>
								<td class="center" rowspan="4">6</td>
                                <td rowspan="4"><input type="hidden" id="purjpl-mobilitas">Mobilitas</td>
                                <td>
                                    <input type="hidden" id="purjpl-m-mandiri">Mandiri (boleh memakai alat bantu jalan)
                                </td>
                                <td class="center">
                                	<input type="checkbox" name="purjpl_pasien_m_mandiri" id="purjpl-pasien-m-mandiri" class="mr-1" onchange="calcscorepurjpl()">
									0
								</td>
                            </tr>
                            <tr>
								<td>
                                    <input type="hidden" id="purjpl-m-sedikit-bantuan">Memerlukan sedikit bantuan 1 orang (verbal/fisik)
                                </td>
                                <td class="center">
									<input type="checkbox" name="purjpl_pasien_m_sedikit_bantuan" id="purjpl-pasien-m-sedikit-bantuan" class="mr-1" onchange="calcscorepurjpl()">
									1
								</td>
                            </tr>
							<tr>
								<td>
                                    <input type="hidden" id="purjpl-kursi-roda">Menggunakan kursi roda
                                </td>
                                <td class="center">
									<input type="checkbox" name="purjpl_pasien_kursi_roda" id="purjpl-pasien-kursi-roda" class="mr-1" onchange="calcscorepurjpl()">
									2
								</td>
                            </tr>
							<tr>
								<td>
                                    <input type="hidden" id="purjpl-imobilisasi">Imobilisasi
                                </td>
                                <td class="center">
									<input type="checkbox" name="purjpl_pasien_imobilisasi" id="purjpl-pasien-imobilisasi" class="mr-1" onchange="calcscorepurjpl()">
									3
								</td>
                            </tr>
							<tr>
                                <td colspan="3" class="bold">JUMLAH SKOR</td>
                                <td colspan="2" class="center"><input type="number" min="0" name="purjpl_jumlah_skor" id="purjpl-jumlah-skor" class="custom-form clear-input center" placeholder="Jumlah" value="0" readonly></td>
                            </tr>
							<tr>
                                <td class="bold">Paraf</td>
                                <td colspan="2"><input type="checkbox" id="purjpl-paraf" aria-label="Checkbox for paraf"/></td>
                            </tr>
                            <tr>
                                <td class="bold">Perawat</td>
                                <td colspan="5">
                                    <div class="input-group">
                                        <input type="text" name="purjpl_perawat" id="purjpl-perawat" class="select2c-input ml-2">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="5">
                                    <button type="button" title="Tambah Pengkajian" class="btn btn-info" onclick="tambahPengkajianLansia()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Pengkajian</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>`;

            html += tutupRapet();

            $('#buka-tutup-purjpl').append(html);
        }

        function showUpayaPencegahanRisikoJatuhPasienLansia(num) {

            let html = bukaLebar('Form Upaya Pencegahan Lansia', num);

            html += /* html */ `
					<div class="from-group">
						<label for="uprjpl-tanggal-pengkajian">Tanggal Tindakan Pencegahan : </label>
                        <input type="text" name="uprjpl_tanggal_pengkajian" id="uprjpl-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-lg-3 ml-2" placeholder="dd/mm/yyyy">
					</div>
                    <hr>
                    <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-uprjpl">
                        <thead>
							<tr>
								<th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
								<th class="center" colspan="2">Pagi</th>
								<th class="center" colspan="2">Siang</th>
								<th class="center" colspan="3">Malam</th>
							</tr>
							<tr>
								<th class="center">Hand Over</th>
								<th class="center">Jam 10</th>
								<th class="center">Hand Over</th>
								<th class="center">Jam 18</th>
								<th class="center">Hand Over</th>
								<th class="center">Jam 23</th>
								<th class="center">Jam 4</th>
							</tr>
						</thead>
                        <tbody>
							<tr>
								<td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
							</tr>
                            <tr>
								<td>Bel berfungsi dan mudah dijangkau</td>
								<td class="center"><input type="checkbox" name="uprjpl_bel_p_ho" id="uprjpl-bel-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_bel_p_10" id="uprjpl-bel-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_bel_s_ho" id="uprjpl-bel-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_bel_s_18" id="uprjpl-bel-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_bel_m_ho" id="uprjpl-bel-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_bel_m_23" id="uprjpl-bel-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_bel_m_4" id="uprjpl-bel-m-4"></td>
							</tr>
                            <tr>
								<td>Roda tempat tidur terkunci</td>
								<td class="center"><input type="checkbox" name="uprjpl_roda_p_ho" id="uprjpl-roda-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_roda_p_10" id="uprjpl-roda-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_roda_s_ho" id="uprjpl-roda-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_roda_s_18" id="uprjpl-roda-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_roda_m_ho" id="uprjpl-roda-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_roda_m_23" id="uprjpl-roda-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_roda_m_4" id="uprjpl-roda-m-4"></td>
							</tr>
							<tr>
								<td>Posisikan tempat tidur pada posisi terendah</td>
								<td class="center"><input type="checkbox" name="uprjpl_ptt_p_ho" id="uprjpl-ptt-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ptt_p_10" id="uprjpl-ptt-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ptt_s_ho" id="uprjpl-ptt-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ptt_s_18" id="uprjpl-ptt-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ptt_m_ho" id="uprjpl-ptt-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ptt_m_23" id="uprjpl-ptt-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ptt_m_4" id="uprjpl-ptt-m-4"></td>
							</tr>
                            <tr>
								<td>Pagar pengaman tempat tidur dinaikan</td>
								<td class="center"><input type="checkbox" name="uprjpl_ppt_p_ho" id="uprjpl-ppt-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ppt_p_10" id="uprjpl-ppt-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ppt_s_ho" id="uprjpl-ppt-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ppt_s_18" id="uprjpl-ppt-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ppt_m_ho" id="uprjpl-ppt-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ppt_m_23" id="uprjpl-ppt-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_ppt_m_4" id="uprjpl-ppt-m-4"></td>
							</tr>
                            <tr>
								<td>Penerangan cukup</td>
								<td class="center"><input type="checkbox" name="uprjpl_penerangan_p_ho" id="uprjpl-penerangan-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_penerangan_p_10" id="uprjpl-penerangan-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_penerangan_s_ho" id="uprjpl-penerangan-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_penerangan_s_18" id="uprjpl-penerangan-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_penerangan_m_ho" id="uprjpl-penerangan-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_penerangan_m_23" id="uprjpl-penerangan-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_penerangan_m_4" id="uprjpl-penerangan-m-4"></td>
							</tr>
                            <tr>
								<td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
								<td class="center"><input type="checkbox" name="uprjpl_alas_p_ho" id="uprjpl-alas-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alas_p_10" id="uprjpl-alas-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alas_s_ho" id="uprjpl-alas-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alas_s_18" id="uprjpl-alas-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alas_m_ho" id="uprjpl-alas-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alas_m_23" id="uprjpl-alas-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alas_m_4" id="uprjpl-alas-m-4"></td>
							</tr>
                            <tr>
								<td>Lantai kering dan tidak licin</td>
								<td class="center"><input type="checkbox" name="uprjpl_lantai_p_ho" id="uprjpl-lantai-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_lantai_p_10" id="uprjpl-lantai-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_lantai_s_ho" id="uprjpl-lantai-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_lantai_s_18" id="uprjpl-lantai-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_lantai_m_ho" id="uprjpl-lantai-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_lantai_m_23" id="uprjpl-lantai-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_lantai_m_4" id="uprjpl-lantai-m-4"></td>
							</tr>
                            <tr>
								<td>Dekatkan alat-alat pasien</td>
								<td class="center"><input type="checkbox" name="uprjpl_alat_p_ho" id="uprjpl-alat-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alat_p_10" id="uprjpl-alat-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alat_s_ho" id="uprjpl-alat-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alat_s_18" id="uprjpl-alat-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alat_m_ho" id="uprjpl-alat-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alat_m_23" id="uprjpl-alat-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_alat_m_4" id="uprjpl-alat-m-4"></td>
							</tr>
                            <tr>
								<td>Edukasi pasien tentang efek samping obat yang diberikan</td>
								<td class="center"><input type="checkbox" name="uprjpl_edukasi_p_ho" id="uprjpl-edukasi-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_edukasi_p_10" id="uprjpl-edukasi-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_edukasi_s_ho" id="uprjpl-edukasi-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_edukasi_s_18" id="uprjpl-edukasi-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_edukasi_m_ho" id="uprjpl-edukasi-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_edukasi_m_23" id="uprjpl-edukasi-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_edukasi_m_4" id="uprjpl-edukasi-m-4"></td>
							</tr>
                            <tr>
								<td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
								<td class="center"><input type="checkbox" name="uprjpl_commode_p_ho" id="uprjpl-commode-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_commode_p_10" id="uprjpl-commode-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_commode_s_ho" id="uprjpl-commode-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_commode_s_18" id="uprjpl-commode-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_commode_m_ho" id="uprjpl-commode-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_commode_m_23" id="uprjpl-commode-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_commode_m_4" id="uprjpl-commode-m-4"></td>
							</tr>
                            <tr>
								<td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
							</tr>
                            <tr>
								<td>Pasang gelang khusus (Warna Kuning)</td>
								<td class="center"><input type="checkbox" name="uprjpl_gelang_p_ho" id="uprjpl-gelang-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_gelang_p_10" id="uprjpl-gelang-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_gelang_s_ho" id="uprjpl-gelang-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_gelang_s_18" id="uprjpl-gelang-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_gelang_m_ho" id="uprjpl-gelang-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_gelang_m_23" id="uprjpl-gelang-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_gelang_m_4" id="uprjpl-gelang-m-4"></td>
							</tr>
                            <tr>
								<td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
								<td class="center"><input type="checkbox" name="uprjpl_station_p_ho" id="uprjpl-station-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_station_p_10" id="uprjpl-station-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_station_s_ho" id="uprjpl-station-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_station_s_18" id="uprjpl-station-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_station_m_ho" id="uprjpl-station-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_station_m_23" id="uprjpl-station-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_station_m_4" id="uprjpl-station-m-4"></td>
							</tr>
							<tr>
                                <td class="bold">Paraf</td>
								<td class="center"><input type="checkbox" name="uprjpl_paraf_p_ho" id="uprjpl-paraf-p-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_paraf_p_10" id="uprjpl-paraf-p-10"></td>
								<td class="center"><input type="checkbox" name="uprjpl_paraf_s_ho" id="uprjpl-paraf-s-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_paraf_s_18" id="uprjpl-paraf-s-18"></td>
								<td class="center"><input type="checkbox" name="uprjpl_paraf_m_ho" id="uprjpl-paraf-m-ho"></td>
								<td class="center"><input type="checkbox" name="uprjpl_paraf_m_23" id="uprjpl-paraf-m-23"></td>
								<td class="center"><input type="checkbox" name="uprjpl_paraf_m_4" id="uprjpl-paraf-m-4"></td>
                            </tr>
                            <tr>
                                <td class="bold">Perawat</td>
                                <td colspan="2">
                                    <div class="input-group">
                                        <input type="text" name="uprjpl_perawat_p" id="uprjpl-perawat-p" class="select2c-input ml-2">
                                    </div>
                                </td>
								<td colspan="2">
                                    <div class="input-group">
                                        <input type="text" name="uprjpl_perawat_s" id="uprjpl-perawat-s" class="select2c-input ml-2">
                                    </div>
                                </td>
								<td colspan="3">
                                    <div class="input-group">
                                        <input type="text" name="uprjpl_perawat_m" id="uprjpl-perawat-m" class="select2c-input ml-2">
                                    </div>
                                </td>
                            </tr>
							<tr>
								<td colspan="8">
									<button type="button" title="Tambah Upaya Pencegahan" class="btn btn-info" onclick="tambahUpayaPencegahanLansia()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Upaya Pencegahan</button>
								</td>
							</tr>
                        </tbody>
                    </table>`;

            html += tutupRapet();

            $('#buka-tutup-uprjpl').append(html);
        }

        $('#data-upaya-pencegahan-risiko-jatuh-pasien-lansia').one('click', function() {
            $('#uprjpl-perawat-p, #uprjpl-perawat-s, #uprjpl-perawat-m, #uprjpl-edit-perawat-p, #uprjpl-edit-perawat-s, #uprjpl-edit-perawat-m')
                .select2c({
                    ajax: {
                        url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                        dataType: 'json',
                        quietMillis: 100,
                        data: function(term,
                            page) { // page is the one-based page number tracked by Select2
                            return {
                                q: term, //search term
                                page: page, // page number
                                jenis: $('#c_profesi').val(),
                            };
                        },
                        results: function(data, page) {
                            var more = (page * 20) < data
                                .total; // whether or not there are more results available

                            // notice we return the value of more so Select2 knows if more results can be loaded
                            return {
                                results: data.data,
                                more: more
                            };
                        }
                    },
                    formatResult: function(data) {
                        var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                        return markup;
                    },
                    formatSelection: function(data) {
                        return data.nama;
                    }
                });
        })

        $('#data-pengkajian-ulang-risiko-jatuh-pasien-lansia').one('click', function() {
            $('#purjpl-perawat, #purjpl-edit-perawat').select2c({
                ajax: {
                    url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                    dataType: 'json',
                    quietMillis: 100,
                    data: function(term,
                        page) { // page is the one-based page number tracked by Select2
                        return {
                            q: term, //search term
                            page: page, // page number
                            jenis: $('#c_profesi').val(),
                        };
                    },
                    results: function(data, page) {
                        var more = (page * 20) < data
                            .total; // whether or not there are more results available

                        // notice we return the value of more so Select2 knows if more results can be loaded
                        return {
                            results: data.data,
                            more: more
                        };
                    }
                },
                formatResult: function(data) {
                    var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                    return markup;
                },
                formatSelection: function(data) {
                    return data.nama;
                }
            });
        })































         // UPRJPN
        // Upaya Pencegahan Risiko  Jatuh Pada Neonatus AWAL
        function showUpayaPencegahanRisikoJatuhPadaNeonatus(num) {

            let html = bukaLebar('Form Upaya Pencegahan Neonatus', num);

            html += /* html */ `
                    <div class="from-group">
                        <label for="uprjpn-tanggal-pengkajian">Tanggal Tindakan Pencegahan : </label>
                        <input type="text" name="uprjpn_tanggal_pengkajian" id="uprjpn-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-lg-3 ml-2" placeholder="dd/mm/yyyy">
                    </div>
                    <hr>
                    <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-uprjpn">
                        <thead>
                            <tr>
                                <th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
                                <th class="center" colspan="2">Pagi</th>
                                <th class="center" colspan="2">Siang</th>
                                <th class="center" colspan="3">Malam</th>
                            </tr>
                            <tr>
                                <th class="center">Hand Over</th>
                                <th class="center">Jam 10</th>
                                <th class="center">Hand Over</th>
                                <th class="center">Jam 18</th>
                                <th class="center">Hand Over</th>
                                <th class="center">Jam 23</th>
                                <th class="center">Jam 4</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="8" class="bold text-uppercase"></td>
                            </tr>
                            <tr>
                                <td>Posisi tanda Risiko  jatuh tetap ada/terpasang</td> 
                                <td class="center"><input type="checkbox" name="terpasang_p_ho" id="terpasang-p-ho"></td>
                                <td class="center"><input type="checkbox" name="terpasang_p_10" id="terpasang-p-10"></td>
                                <td class="center"><input type="checkbox" name="terpasang_s_ho" id="terpasang-s-ho"></td>
                                <td class="center"><input type="checkbox" name="terpasang_s_18" id="terpasang-s-18"></td>
                                <td class="center"><input type="checkbox" name="terpasang_m_ho" id="terpasang-m-ho"></td>
                                <td class="center"><input type="checkbox" name="terpasang_m_23" id="terpasang-m-23"></td>
                                <td class="center"><input type="checkbox" name="terpasang_m_4" id="terpasang-m-4"></td>
                            </tr>
                            <tr>
                                <td>Pastikan roda box/incubator pada posisi terkunci</td>
                                <td class="center"><input type="checkbox" name="terkunci_p_ho" id="terkunci-p-ho"></td>
                                <td class="center"><input type="checkbox" name="terkunci_p_10" id="terkunci-p-10"></td>
                                <td class="center"><input type="checkbox" name="terkunci_s_ho" id="terkunci-s-ho"></td>
                                <td class="center"><input type="checkbox" name="terkunci_s_18" id="terkunci-s-18"></td>
                                <td class="center"><input type="checkbox" name="terkunci_m_ho" id="terkunci-m-ho"></td>
                                <td class="center"><input type="checkbox" name="terkunci_m_23" id="terkunci-m-23"></td>
                                <td class="center"><input type="checkbox" name="terkunci_m_4" id="terkunci-m-4"></td>
                            </tr>
                            <tr>
                                <td>Pastikan pintu inkubator tertutup bila tidak ada tindakan</td>
                                <td class="center"><input type="checkbox" name="tindakan_p_ho" id="tindakan-p-ho"></td>
                                <td class="center"><input type="checkbox" name="tindakan_p_10" id="tindakan-p-10"></td>
                                <td class="center"><input type="checkbox" name="tindakan_s_ho" id="tindakan-s-ho"></td>
                                <td class="center"><input type="checkbox" name="tindakan_s_18" id="tindakan-s-18"></td>
                                <td class="center"><input type="checkbox" name="tindakan_m_ho" id="tindakan-m-ho"></td>
                                <td class="center"><input type="checkbox" name="tindakan_m_23" id="tindakan-m-23"></td>
                                <td class="center"><input type="checkbox" name="tindakan_m_4" id="tindakan-m-4"></td>
                            </tr>
                        
                            <tr>
                                <td class="bold">Paraf</td>
                                <td class="center"><input type="checkbox" name="paraff_p_ho" id="paraff-p-ho"></td>
                                <td class="center"><input type="checkbox" name="paraff_p_10" id="paraff-p-10"></td>
                                <td class="center"><input type="checkbox" name="paraff_s_ho" id="paraff-s-ho"></td>
                                <td class="center"><input type="checkbox" name="paraff_s_18" id="paraff-s-18"></td>
                                <td class="center"><input type="checkbox" name="paraff_m_ho" id="paraff-m-ho"></td>
                                <td class="center"><input type="checkbox" name="paraff_m_23" id="paraff-m-23"></td>
                                <td class="center"><input type="checkbox" name="paraff_m_4" id="paraff-m-4"></td>
                            </tr>
                            <tr>
                                <td class="bold">Perawat</td>
                                <td colspan="2">
                                    <div class="input-group">
                                        <input type="text" name="perawat_1" id= "perawat-1" class="select2c-input ml-2">  
                                    </div>
                                </td>
                                <td colspan="2">
                                    <div class="input-group">
                                        <input type="text" name="perawat_2" id= "perawat-2" class="select2c-input ml-2">
                                    </div>
                                </td>
                                <td colspan="3">
                                    <div class="input-group">
                                        <input type="text" name="perawat_3" id= "perawat-3" class="select2c-input ml-2">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="8">
                                    <button type="button" title="Tambah Upaya Pencegahan" class="btn btn-info" onclick="tambahUpayaPencegahanNeonatus()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Upaya Pencegahan</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>`;
                html += tutupRapet();
                $('#buka-tutup-uprjpn').append(html);
            }

            $('#data-upaya-pencegahan-risiko-jatuh-pada-neonatus').one('click', function() {
                $('#perawat-1, #perawat-2, #perawat-3, #perawat-edit-1, #perawat-edit-2, #perawat-edit-3')
                    .select2c({
                        ajax: {
                            url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                            dataType: 'json',
                            quietMillis: 100,
                            data: function(term,
                                page) { // page is the one-based page number tracked by Select2
                                return {
                                    q: term, //search term
                                    page: page, // page number
                                    jenis: $('#c_profesi').val(),
                                };
                            },
                            results: function(data, page) {
                                var more = (page * 20) < data
                                    .total; // whether or not there are more results available

                                // notice we return the value of more so Select2 knows if more results can be loaded
                                return {
                                    results: data.data,
                                    more: more
                                };
                            }
                        },
                        formatResult: function(data) {
                            var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                            return markup;
                        },
                        formatSelection: function(data) {
                            return data.nama;
                        }
                    });
                })

            $('#data-upaya-pencegahan-risiko-jatuh-pada-neonatus').one('click', function() {
                $('#uprjpn-perawat, #uprjpn-edit-perawat').select2c({
                    ajax: {
                        url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                        dataType: 'json',
                        quietMillis: 100,
                        data: function(term,
                            page) { // page is the one-based page number tracked by Select2
                            return {
                                q: term, //search term
                                page: page, // page number
                                jenis: $('#c_profesi').val(),
                            };
                        },
                        results: function(data, page) {
                            var more = (page * 20) < data
                                .total; // whether or not there are more results available

                            // notice we return the value of more so Select2 knows if more results can be loaded
                            return {
                                results: data.data,
                                more: more
                            };
                        }
                    },
                    formatResult: function(data) {
                        var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                        return markup;
                    },
                    formatSelection: function(data) {
                        return data.nama;
                    }
                });
            })
            // Upaya Pencegahan Risiko  Jatuh Pada Neonatus AKHIR 









    
    // CPDPO 
    function showRiwayatPemakaianObat(num) {
    let html = bukaLebar('Form Riwayat Pemakaian Obat', num);
    html += /* html */ `
            <div class="from-group">
                <label for="rpo-alergi">Alergi : &nbsp;&nbsp;&nbsp; </label>
                <input type="radio" name="alergii" id="alergii-2"class="mr-1 ml-1" value="0" checked> Tidak Ada
                <input type="radio" name="alergii" id="alergii-1" class="mr-1 ml-2"value="1">Ada          
                <input type="text" name="alergii_ob"id="alergii-3"class="custom-form clear-input d-inline-block col-lg-3 ml-2"placeholder="sebutkan">
            </div>
            <hr>
            <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-rpo">
                <thead>
                    <tr>
                        <th class="center"></th>
                        <th class="center"></th>
                        <th class="center"></th>
                        <th class="center"></th>
                        <th class="center" colspan="2">Mulai</th>
                        <th class="center" colspan="2">Stop</th>
                        <th class="center"></th>
                        <th class="center"></th>
                    </tr>
                    <tr>
                        <th class="center">Nama Obat</th>
                        <th class="center">Rute</th>
                        <th class="center">Dosis</th>
                        <th class="center">Frekuensi</th>
                        <th class="center">Tanggal Mulai</th>
                        <th class="center">Dokter</th>
                        <th class="center">Tanggal Stop</th>
                        <th class="center">Dokter</th>
                        <th class="center">Efek Samping Obat</th>
                        <th class="center">Review Farmasi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="11" class="bold text-uppercase"></td>
                    </tr>
                    <tr>
                        <td class="center"><input type="text" name="nama_obat_rpo" id="nama-obat-rpo"class="select2c-input ml-2"></td>
                        <td class="center"><input type="text" name="rute_rpo" id="rute-rpo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="dosis_rpo" id="dosis-rpo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="frekuensi_rpo" id="frekuensi-rpo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="tanggal_rpo" id="tanggal-rpo"class="custom-form clear-input d-inline-block col-lg-10" placeholder="dd/mm/yyyy"></td>
                        <td class="center"><input type="text" name="dokter_1_rpo" id="dokter-1-rpo"class="select2c-input ml-2"></td>
                        <td class="center"><input type="text" name="tangggal_rpo" id="tangggal-rpo"class="custom-form clear-input d-inline-block col-lg-10" placeholder="dd/mm/yyyy"></td>
                        <td class="center"><input type="text" name="dokter_2_rpo" id="dokter-2-rpo"class="select2c-input ml-2"></td>
                        <td class="center"><input type="text" name="eso_rpo" id="eso-rpo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="r_farmasi_rpo" id="r-farmasi-rpo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                    </tr>

                    <tr>
                        <td colspan="11">
                            <button type="button" title="Tambah Riwayat Pemakaian Obat" class="btn btn-info" onclick="tambahRiwayatPemakaianObat()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Riwayat Pemakaian Obat</button>
                        </td>
                    </tr>
                </tbody>
            </table>`;
        html += tutupRapet();
        $('#buka-tutup-rpo').append(html);
    }


    // ILLIS
    function showRiwayatPemakaianObatInfus(num) {
    let html = bukaLebar('Form Infus Inhalasi Suppositoria', num);
    html += /* html */ `
            <div class="from-group">
                <label for="rpo-alergi">Alergi : &nbsp;&nbsp;&nbsp; </label>
                <input type="radio" name="alergiii" id="alergiii-2"class="mr-1 ml-1" value="0" checked> Tidak Ada
                <input type="radio" name="alergiii" id="alergiii-1" class="mr-1 ml-2"value="1">Ada          
                <input type="text" name="alergii_obb"id="alergiii-3"class="custom-form clear-input d-inline-block col-lg-3 ml-2"placeholder="sebutkan">
            </div>
            <hr>
            <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-rpo-infus">
                <thead>
                    <tr>
                        <th class="center"></th>
                        <th class="center"></th>
                        <th class="center"></th>
                        <th class="center"></th>
                        <th class="center" colspan="2">Mulai</th>
                        <th class="center" colspan="2">Stop</th>
                        <th class="center"></th>
                        <th class="center"></th>
                    </tr>
                    <tr>
                        <th class="center">Nama Obat</th>
                        <th class="center">Rute</th>
                        <th class="center">Dosis</th>
                        <th class="center">Frekuensi</th>
                        <th class="center">Tanggal Mulai</th>
                        <th class="center">Dokter</th>
                        <th class="center">Tanggal Stop</th>
                        <th class="center">Dokter</th>
                        <th class="center">Efek Samping Obat</th>
                        <th class="center">Review Farmasi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="10" class="bold text-uppercase"></td>
                    </tr>
                    <tr>
                        <td class="center"><input type="text" name="nama_obat_rpoo" id="nama-obat-rpoo"class="select2c-input ml-2"></td>
                        <td class="center"><input type="text" name="rute_rpoo" id="rute-rpoo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="dosis_rpoo" id="dosis-rpoo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="frekuensi_rpoo" id="frekuensi-rpoo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="tanggal_rpoo" id="tanggal-rpoo"class="custom-form clear-input d-inline-block col-lg-10" placeholder="dd/mm/yyyy"></td>
                        <td class="center"><input type="text" name="dokter_1_rpoo" id="dokter-1-rpoo"class="select2c-input ml-2"></td>
                        <td class="center"><input type="text" name="tangggal_rpoo" id="tangggal-rpoo"class="custom-form clear-input d-inline-block col-lg-10" placeholder="dd/mm/yyyy"></td>
                        <td class="center"><input type="text" name="dokter_2_rpoo" id="dokter-2-rpoo"class="select2c-input ml-2"></td>
                        <td class="center"><input type="text" name="eso_rpoo" id="eso-rpoo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="r_farmasi_rpoo" id="r-farmasi-rpoo"class="custom-form clear-input d-inline-block col-lg-10"></td>
                    </tr>

                    <tr>
                        <td colspan="10">
                            <button type="button" title="Tambah Infus Inhalasi Suppositoria" class="btn btn-info" onclick="tambahRiwayatPemakaianObatInfus()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Infus Inhalasi Suppositoria</button>
                        </td>
                    </tr>
                </tbody>
            </table>`;
        html += tutupRapet();
        $('#buka-tutup-rpo-infus').append(html);
    }



        
    // CPDPO
    $('#data-riwayat-pemakaian-obat').one('click', function() {  
        $('#nama-obat-rpo, #nama-obat-rpo-edit')
            .select2c({
            minimumInputLength: 2,
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term,
                    page) { // page is the one-based page number tracked by Select2

                    return {
                        q: term, //search term
                        page: page // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama;

                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });
    })


    // CPDPO
    $('#data-riwayat-pemakaian-obat').one('click', function() {  
        $('#dokter-1-rpo, #dokter-2-rpo, #dokter-1-rpo-edit, #dokter-2-rpo-edit')
            .select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });
    })


    // ILLIS
    $('#data-riwayat-pemakaian-obat-infus').one('click', function() {  
        $('#nama-obat-rpoo, #nama-obat-rpoo-edit')
            .select2c({
            minimumInputLength: 2,
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term,
                    page) { // page is the one-based page number tracked by Select2

                    return {
                        q: term, //search term
                        page: page // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama;

                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });
    })

    // ILLIS
    $('#data-riwayat-pemakaian-obat-infus').one('click', function() {  
        $('#dokter-1-rpoo, #dokter-2-rpoo, #dokter-1-rpoo-edit, #dokter-2-rpoo-edit')
            .select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term, page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });
    })


    // WPT
    function showWaktuPemberianTanggal(num) {
        let html = bukaLebar('Form Waktu Pemberian Tanggal ', num);
        html += /* html */ `
            <div class="from-group">
            </div>
            <hr>
            <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-wpt">
                <thead>
                    <tr>
                        <th class="center">Tanggal</th>
                        <th class="center">Hari Ke</th>
                        <th class="center">Jam</th>
                        <th class="center">Perawat</th>
                        <th class="center">Pasien / Keluarga</th>
                        <th class="center">Pagi</th>
                        <th class="center">Siang</th>
                        <th class="center">Sore</th>
                        <th class="center">Malam</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="10" class="bold text-uppercase"></td>
                    </tr>
                    <tr>
                        <td class="center"><input type="text" name="tanggal_wpt" id="tanggal-wpt"class="custom-form clear-input d-inline-block col-lg-10" placeholder="dd/mm/yyyy"></td>
                        <td class="center"><input type="text" name="hari_wpt" id="hari-wpt"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="jam_wpt" id="jam-wpt"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="perawat_1_wpt" id="perawat-1-wpt"class="select2c-input ml-2"></td>
                        <td class="center"><input type="text" name="pasien_keluarga_wpt" id="pasien-keluarga-wpt"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="checkbox" name="pagi_wpt" id="pagi-wpt"></td>
                        <td class="center"><input type="checkbox" name="siang_wpt" id="siang-wpt"></td>
                        <td class="center"><input type="checkbox" name="sore_wpt" id="sore-wpt"></td>
                        <td class="center"><input type="checkbox" name="malam_wpt" id="malam-wpt"></td>
                    </tr>
                    <tr>
                        <td colspan="8">
                            <button type="button" title="Tambah Waktu Pemberian Tanggal" class="btn btn-info" onclick="tambahWaktuPemberianTanggal()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Waktu Pemberian Tanggal</button>
                        </td>
                    </tr>
                </tbody>
            </table>`;
        html += tutupRapet();
        $('#buka-tutup-wpt').append(html);
    }


    // WPT
    $('#waktu-pemberian-tanggal').one('click', function() {  
        $('#perawat-1-wpt, #perawat-1-wpt-edit')
            .select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term,
                    page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });
    })


    // IWPT
    function showWaktuPemberianTanggalInfus(num) {
        let html = bukaLebar('Form Tanggal Infus Inhalasi Suppositoria ', num);
        html += /* html */ `
            <div class="from-group">
            </div>
            <hr>
            <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-wpt-infus">
                <thead>
                    <tr>
                        <th class="center">Tanggal</th>
                        <th class="center">Hari Ke</th>
                        <th class="center">Jam</th>
                        <th class="center">Perawat</th>
                        <th class="center">Pasien / Keluarga</th>
                        <th class="center">Pagi</th>
                        <th class="center">Siang</th>
                        <th class="center">Sore</th>
                        <th class="center">Malam</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="10" class="bold text-uppercase"></td>
                    </tr>
                    <tr>
                        <td class="center"><input type="text" name="tanggal_wptt" id="tanggal-wptt"class="custom-form clear-input d-inline-block col-lg-10" placeholder="dd/mm/yyyy"></td>
                        <td class="center"><input type="text" name="hari_wptt" id="hari-wptt"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="jam_wptt" id="jam-wptt"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="text" name="perawat_2_wptt" id="perawat-2-wptt"class="select2c-input ml-2"></td>
                        <td class="center"><input type="text" name="pasien_keluarga_wptt" id="pasien-keluarga-wptt"class="custom-form clear-input d-inline-block col-lg-10"></td>
                        <td class="center"><input type="checkbox" name="pagi_wptt" id="pagi-wptt"></td>
                        <td class="center"><input type="checkbox" name="siang_wptt" id="siang-wptt"></td>
                        <td class="center"><input type="checkbox" name="sore_wptt" id="sore-wptt"></td>
                        <td class="center"><input type="checkbox" name="malam_wptt" id="malam-wptt"></td>
                    </tr>
                    <tr>
                        <td colspan="8">
                            <button type="button" title="Tambah Infus Inhalasi Suppositoria" class="btn btn-info" onclick="tambahWaktuPemberianTanggalInfus()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Infus Inhalasi Suppositoria</button>
                        </td>
                    </tr>
                </tbody>
            </table>`;
        html += tutupRapet();
        $('#buka-tutup-wpt-infus').append(html);
    }

    // IWPT
    $('#waktu-pemberian-tanggal-infus').one('click', function() {  
        $('#perawat-2-wptt, #perawat-2-wptt-edit')
            .select2c({
            ajax: {
                url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                dataType: 'json',
                quietMillis: 100,
                data: function(term,
                    page) { // page is the one-based page number tracked by Select2
                    return {
                        q: term, //search term
                        page: page, // page number
                        jenis: $('#c_profesi').val(),
                    };
                },
                results: function(data, page) {
                    var more = (page * 20) < data
                        .total; // whether or not there are more results available

                    // notice we return the value of more so Select2 knows if more results can be loaded
                    return {
                        results: data.data,
                        more: more
                    };
                }
            },
            formatResult: function(data) {
                var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                return markup;
            },
            formatSelection: function(data) {
                return data.nama;
            }
        });
    })


        // PKN
        function showPengawasanKhususNeonatus(num) {
            let html = bukaLebar('Form Pengawasan Khusus Neonatus ', num);
            html += /* html */ `
                <div class="from-group">
                                   
                </div>
                <hr>
                <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-pkn">
                    <thead>
                        <tr>
                            <td>
                                <b>Bb</b><input type="text" name="bb_pkn"id="bb-pkn" class="custom-form clear-input d-inline-block col-lg-4 ml-1" placeholder="B badan">&nbsp;&nbsp;
                                <b>Lp</b><input type="text" name="lp_pkn"id="lp-pkn" class="custom-form clear-input d-inline-block col-lg-5 ml-1" placeholder="L pinggang">  
                            </td> 
                        </tr>
                        <tr>
                            <td colspan="10"><b>Obvervasi</b></td>                            
                        </tr>                      
                        <tr>
                            <th class="center">Tanggal</th>
                            <th class="center">Jam</th>
                            <th class="center">Kesadaran</th>
                            <th class="center">Pasien</th>
                            <th class="center">Inkubator</th>
                            <th class="center">Nadi</th>
                            <th class="center">Rr</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="10" class="bold text-uppercase"></td>
                        </tr>
                        <tr>
                            <td class="center"><input type="text" name="tgl_pkn" id="tgl-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="jam_pkn" id="jam-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="kesadaran_pkn" id="kesadaran-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="pasien_pkn" id="pasien-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="inkubator_pkn" id="inkubator-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="nadi_pkn" id="nadi-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="rr_pkn" id="rr-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>                           
                        </tr>
                        <tr>
                            <td colspan="10"><b>Ventilasi</b></td>                            
                        </tr>
                        <tr>
                            <th class="center">Modus</th>
                            <th class="center">Peep Cm H20</th>
                            <th class="center">Buble</th>
                            <th class="center">Fio2</th>
                            <th class="center">Sp02</th>
                            <th class="center">Flow</th>
                            <th class="center">Air</th>
                            <th class="center">Suhu</th>
                        </tr>
                        <tr>
                            <td colspan="10" class="bold text-uppercase"></td>
                        </tr>
                        <tr>
                            <td class="center"><input type="text" name="modus_pkn" id="modus-pkn"class="custom-form clear-input d-inline-block col-lg-6"></td>
                            <td class="center"><input type="text" name="peep_pkn" id="peep-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="buble_pkn" id="buble-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="fio2_pkn" id="fio2-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="spo2_pkn" id="spo2-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="flow_pkn" id="flow-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="air_pkn" id="air-pkn"class="custom-form clear-input d-inline-block col-lg-3"></td>
                            <td class="center"><input type="text" name="suhu_pkn" id="suhu-pkn"class="custom-form clear-input d-inline-block col-lg-3"></td>                            
                        </tr>
                        <tr>
                            <td colspan="10"><b>Cairan Masuk</b></td>                         
                        </tr>
                            <tr>
                                <th class="center">Line 1</th>
                                <th class="center">Line 2</th>
                                <th class="center">Plebitis</th>
                                <th class="center">Oral</th>
                            </tr>
                        <tr>
                            <td class="center"><input type="text" name="line1_pkn" id="line1-pkn"class="custom-form clear-input d-inline-block col-lg-6"></td>
                            <td class="center"><input type="text" name="line2_pkn" id="line2-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="plebitis_pkn" id="plebitis-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="oral_pkn" id="oral-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                        </tr>
                        <tr>
                            <td colspan="10"><b>Cairan Keluar</b></td>                         
                        </tr>
                            <tr>
                                <th class="center">Jml</th>
                                <th class="center">Muntah</th>
                                <th class="center">Residu</th>
                                <th class="center">BAK</th>
                                <th class="center">BAB</th>
                                <th class="center">Foto Therapy</th>
                                <th class="center">Obat</th>
                                <th class="center">Perawat</th>
                            </tr>
                        <tr>
                            <td class="center"><input type="text" name="jml_pkn" id="jml-pkn"class="custom-form clear-input d-inline-block col-lg-6"></td>
                            <td class="center"><input type="text" name="muntah_pkn" id="muntah-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="residu_pkn" id="residu-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="bak_pkn" id="bak-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="bab_pkn" id="bab-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="foto_therapy_pkn" id="foto-therapy-pkn"class="custom-form clear-input d-inline-block col-lg-8"></td>
                            <td class="center"><input type="text" name="obat_pkn" id="obat-pkn"class="select2c-input ml-2"></td>
                            <td class="center"><input type="text" name="perawat_pkn" id="perawat-pkn"class="select2c-input ml-2"></td>
                        </tr>
                       
                        <tr>
                            <td colspan="10">
                                <button type="button" title="Tambah Pengawasan Khusus Neonatus" class="btn btn-info" onclick="tambahPengawasanKhususNeonatus()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Pengawasan Khusus Neonatus</button>
                            </td>
                        </tr>
                    </tbody>
                </table>`;
            html += tutupRapet();
            $('#buka-tutup-pkn').append(html);
        }




        $('#buka-tutup-surgical-safety-ceklis').one('click', function() {
            $('#ssc-dokter-operator, #ssc-dokter-anestesi, #ssc-dokter-anestesi-sign-in, #ssc-dokter-anestesi-time-out, #ssc-dokter-anestesi-sign-out')
                .select2c({
                    ajax: {
                        url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                        dataType: 'json',
                        quietMillis: 100,
                        data: function(term,
                            page) { // page is the one-based page number tracked by Select2
                            return {
                                q: term, //search term
                                page: page, // page number
                                jenis: 18,
                            };
                        },
                        results: function(data, page) {
                            var more = (page * 20) < data
                                .total; // whether or not there are more results available

                            // notice we return the value of more so Select2 knows if more results can be loaded
                            return {
                                results: data.data,
                                more: more
                            };
                        }
                    },
                    formatResult: function(data) {
                        var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                        return markup;
                    },
                    formatSelection: function(data) {
                        return data.nama;
                    }
                });

            $('#ssc-perawat-sign-in, #ssc-perawat-time-out, #ssc-perawat-sign-out')
                .select2c({
                    ajax: {
                        url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                        dataType: 'json',
                        quietMillis: 100,
                        data: function(term,
                            page) { // page is the one-based page number tracked by Select2
                            return {
                                q: term, //search term
                                page: page, // page number
                                jenis: $('#c_profesi').val(),
                            };
                        },
                        results: function(data, page) {
                            var more = (page * 20) < data
                                .total; // whether or not there are more results available

                            // notice we return the value of more so Select2 knows if more results can be loaded
                            return {
                                results: data.data,
                                more: more
                            };
                        }
                    },
                    formatResult: function(data) {
                        var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                        return markup;
                    },
                    formatSelection: function(data) {
                        return data.nama;
                    }
                });

            $('#ssc-premedikasi-obat, #ssc-antibiotik-obat').select2c({
                minimumInputLength: 2,
                ajax: {
                    url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
                    dataType: 'json',
                    quietMillis: 100,
                    data: function(term,
                        page) { // page is the one-based page number tracked by Select2

                        return {
                            q: term, //search term
                            page: page // page number
                        };
                    },
                    results: function(data, page) {
                        var more = (page * 20) < data
                            .total; // whether or not there are more results available

                        // notice we return the value of more so Select2 knows if more results can be loaded
                        return {
                            results: data.data,
                            more: more
                        };
                    }
                },

                formatResult: function(data) {
                    var markup = data.nama;

                    return markup;
                },
                formatSelection: function(data) {

                    return data.nama;

                }

            });


            $('#ssc-tanggal-sign-in, #ssc-tanggal-time-out, #ssc-tanggal-sign-out, #ssc-tanggal-obat')
                .datetimepicker({
                    format: 'DD/MM/YYYY HH:mm',
                    maxDate: new Date(),
                    beforeShow: function(i) {
                        if ($(i).attr('readonly')) {
                            return false;
                        }
                    }
                });

            // $('#ssc-jam-antibiotik-obat')
            //     .timepicker({
            //         format: 'HH:mm',
            //         showInputs: true,
            //         showMeridian: false
            //     });

            $('#ssc-jam-antibiotik-obat')
                .datetimepicker({
                    format: 'HH:mm',
                    maxDate: new Date(),
                    beforeShow: function(i) {
                        if ($(i).attr('readonly')) {
                            return false;
                        }
                    }
                });

            //form surgical
            $('input[type=radio][name=ssc_alergi]').change(function() {
                if (this.value == '0') {
                    $('#ssc-alergi-ket').val('');
                    $('#ssc-alergi-ket').prop('disabled', true);
                } else {
                    $('#ssc-alergi-ket').val('');
                    $('#ssc-alergi-ket').prop('disabled', false);
                }
            });

            $('input[type=radio][name=ssc_lengkap]').change(function() {
                if (this.value == '1') {
                    $('#ssc-alasan').val('');
                    $('#ssc-alasan').prop('disabled', true);
                } else {
                    $('#ssc-alasan').val('');
                    $('#ssc-alasan').prop('disabled', false);
                }
            });

            $('input[type=radio][name=ssc_premedikasi]').change(function() {
                if (this.value == '0') {
                    $('#ssc-premedikasi-obat, #ssc-tanggal-obat').val('');
                    $('#ssc-premedikasi-obat, #ssc-tanggal-obat').prop('disabled', true);
                } else {
                    $('#ssc-premedikasi-obat, #ssc-tanggal-obat').val('');
                    $('#ssc-premedikasi-obat, #ssc-tanggal-obat').prop('disabled', false);
                }
            });

            $('input[type=radio][name=ssc_antibiotik]').change(function() {
                if (this.value == '0') {
                    $('#ssc-antibiotik-obat, #ssc-antibiotik-dosis, #ssc-jam-antibiotik-obat').val(
                        '');
                    $('#ssc-antibiotik-obat, #ssc-antibiotik-dosis, #ssc-jam-antibiotik-obat').prop(
                        'disabled', true);
                } else {
                    $('#ssc-antibiotik-obat, #ssc-antibiotik-dosis, #ssc-jam-antibiotik-obat').val(
                        '');
                    $('#ssc-antibiotik-obat, #ssc-antibiotik-dosis, #ssc-jam-antibiotik-obat').prop(
                        'disabled', false);
                }
            });

            $('input[type=radio][name=ssc_implant]').change(function() {
                if (this.value == '0') {
                    $('#ssc-jenis-ket').val('');
                    $('#ssc-jenis-ya, #ssc-jenis-tidak, #ssc-jenis-ket').prop('disabled', true);
                    $('#ssc-jenis-ya, #ssc-jenis-tidak').prop('checked', false);
                } else {
                    $('#ssc-jenis-ket').val('');
                    $('#ssc-jenis-ya, #ssc-jenis-ket, #ssc-jenis-tidak').prop('disabled', false);
                }
            });

            $('input[type=radio][name=ssc_preparat]').change(function() {
                if (this.value == '0') {
                    $('#ssc-preparat-pa, #ssc-preparat-kultur, #ssc-preparat-sitologi').prop(
                        'checked', false);
                    $('#ssc-preparat-pa, #ssc-preparat-kultur, #ssc-preparat-sitologi').prop(
                        'disabled', true);
                } else {
                    $('#ssc-preparat-pa, #ssc-preparat-kultur, #ssc-preparat-sitologi').prop(
                        'checked', false);
                    $('#ssc-preparat-pa, #ssc-preparat-kultur, #ssc-preparat-sitologi').prop(
                        'disabled', false);
                }
            });

            $('input[type=radio][name=ssc_penjelasan_keluarga]').change(function() {
                if (this.value == '1') {
                    $('#ssc-penjelasan-keluarga-ket').val('');
                    $('#ssc-penjelasan-keluarga-ket').prop('disabled', true);
                } else {
                    $('#ssc-penjelasan-keluarga-ket').val('');
                    $('#ssc-penjelasan-keluarga-ket').prop('disabled', false);
                }
            });

            $('input[type=radio][name=ssc_obat_operasi]').change(function() {
                if (this.value == '0') {
                    $('#ssc-obat-operasi-ya-alasan').val('');
                    $('#ssc-obat-operasi-ya-alasan').prop('disabled', true);
                    $('#ssc-obat-operasi-tidak-alasan').val('');
                    $('#ssc-obat-operasi-tidak-alasan').prop('disabled', false);
                } else {
                    $('#ssc-obat-operasi-ya-alasan').val('');
                    $('#ssc-obat-operasi-ya-alasan').prop('disabled', false);
                    $('#ssc-obat-operasi-tidak-alasan').val('');
                    $('#ssc-obat-operasi-tidak-alasan').prop('disabled', true);
                }
            });
        })


        







        showPengkajianUlang(nomer);
        showFormPemantauanDewasa(nomer);
        showPengkajianUlangAnak(nomer)
        showFormPemantauanAnak(nomer);
        showPengkajianUlangRisikoJatuhPasienLansia(nomer);
        showUpayaPencegahanRisikoJatuhPasienLansia(nomer);
        showPemantauanUlang(nomer);
        showPemantauanSholat(nomer);
        showFormSurgicalSafetyCeklis(nomer);            
        showUpayaPencegahanRisikoJatuhPadaNeonatus(nomer); 

        // CPDPO 2
        showRiwayatPemakaianObat(nomer); 

        // ILLIS
        showRiwayatPemakaianObatInfus(nomer); 

        // WPT 
        showWaktuPemberianTanggal(nomer); 

        // IWPT
        showWaktuPemberianTanggalInfus(nomer); 
        
        // MPP-C 2
        // showMonitoringPasieen(nomer);

        // PKN
        showPengawasanKhususNeonatus(nomer);


        // CPDPO // ILLIS Tanggal 
        $('#tanggal-rpo, #tanggal-rpo-edit, #tangggal-rpo, #tangggal-rpo-edit, #tanggal-rpoo, #tanggal-rpoo-edit, #tangggal-rpoo, #tangggal-rpoo-edit')
        .datetimepicker({
            format: 'DD/MM/YYYY',
            pickSecond: false,
            pick12HourFormat: false,
            maxDate: new Date(),
            beforeShow: function(i) {
                if ($(i).attr('readonly')) {
                    return false;
                }
            }
        });

        // WPT // IWPT
        $('#jam-wpt, #jam-wptt, #jam-wpt-edit, #jam-wptt-edit')
        .on('click', function() {
            $(this).timepicker({
                format: 'HH:mm',
                showInputs: false,
                showMeridian: false
            });
        })


        // WPT  // IWPT
        $('#tanggal-wpt, #tanggal-wptt, #tanggal-wpt-edit, #tanggal-wptt-edit')
        .datetimepicker({
            format: 'DD/MM/YYYY',
            maxDate: new Date(),
            beforeShow: function(i) {
                if ($(i).attr('readonly')) {
                    return false;
                }
            }
        });

            
        // PKN-C Tanggal
        $('#tgl-pkn, #tgl-pkn-edit')
            .datetimepicker({
                format: 'DD/MM/YYYY',
                pickSecond: false,
                pick12HourFormat: false,
                maxDate: new Date(),
                beforeShow: function(i) {
                    if ($(i).attr('readonly')) {
                        return false;
                    }
                }
            });

        // PKN-C JAM
        $('#jam-pkn, #jam-pkn-edit')
        .on('click', function() {
            $(this).timepicker({
                format: 'HH:mm',
                showInputs: false,
                showMeridian: false
            });
        })

    // PKN 
    $('#obat-pkn').select2c({
        minimumInputLength: 2,
        ajax: {
            url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
            dataType: 'json',
            quietMillis: 100,
            data: function(term,
                page) { // page is the one-based page number tracked by Select2

                return {
                    q: term, //search term
                    page: page // page number
                };
            },
            results: function(data, page) {
                var more = (page * 20) < data
                    .total; // whether or not there are more results available

                // notice we return the value of more so Select2 knows if more results can be loaded
                return {
                    results: data.data,
                    more: more
                };
            }
        },
        formatResult: function(data) {
            var markup = data.nama;

            return markup;
        },
        formatSelection: function(data) {
            return data.nama;
        }
    });


    // PKN
    $('#obat-pkn-edit').select2c({
        minimumInputLength: 2,
        ajax: {
            url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
            dataType: 'json',
            quietMillis: 100,
            data: function(term,
                page) { // page is the one-based page number tracked by Select2

                return {
                    q: term, //search term
                    page: page // page number
                };
            },
            results: function(data, page) {
                var more = (page * 20) < data
                    .total; // whether or not there are more results available

                // notice we return the value of more so Select2 knows if more results can be loaded
                return {
                    results: data.data,
                    more: more
                };
            }
        },

        formatResult: function(data) {
            var markup = data.nama;

            return markup;
        },
        formatSelection: function(data) {

            return data.nama;

        }

    })




   // PKN  BIDAN OR PERAWAT
   $('#perawat-pkn').select2c({
        ajax: {
            url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
            dataType: 'json',
            quietMillis: 100,
            data: function(term, page) { // page is the one-based page number tracked by Select2
                return {
                    q: term, //search term
                    page: page, // page number
                    jenis: $('#c_profesi').val(),
                };
            },
            results: function(data, page) {
                var more = (page * 20) < data
                    .total; // whether or not there are more results available

                // notice we return the value of more so Select2 knows if more results can be loaded
                return {
                    results: data.data,
                    more: more
                };
            }
        },
        formatResult: function(data) {
            var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
            return markup;
        },
        formatSelection: function(data) {
            return data.nama;
        }
    });


    // PKN  BIDAN OR PERAWAT
    $('#perawat-pkn-edit').select2c({
        ajax: {
            url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
            dataType: 'json',
            quietMillis: 100,
            data: function(term, page) { // page is the one-based page number tracked by Select2
                return {
                    q: term, //search term
                    page: page, // page number
                    jenis: $('#c_profesi').val(),
                };
            },
            results: function(data, page) {
                var more = (page * 20) < data
                    .total; // whether or not there are more results available

                // notice we return the value of more so Select2 knows if more results can be loaded
                return {
                    results: data.data,
                    more: more
                };
            }
        },
        formatResult: function(data) {
            var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
            return markup;
        },
        formatSelection: function(data) {
            return data.nama;
        }
    });


 

    // MPP-C BIDAN OR PERAWAT
        // $('#perawat-mpp').select2c({
        //     ajax: {
        //         url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
        //         dataType: 'json',
        //         quietMillis: 100,
        //         data: function(term, page) { // page is the one-based page number tracked by Select2
        //             return {
        //                 q: term, //search term
        //                 page: page, // page number
        //                 jenis: $('#c_profesi').val(),
        //             };
        //         },
        //         results: function(data, page) {
        //             var more = (page * 20) < data
        //                 .total; // whether or not there are more results available

        //             // notice we return the value of more so Select2 knows if more results can be loaded
        //             return {
        //                 results: data.data,
        //                 more: more
        //             };
        //         }
        //     },
        //     formatResult: function(data) {
        //         var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
        //         return markup;
        //     },
        //     formatSelection: function(data) {
        //         return data.nama;
        //     }
        // });
    // 


    // MPP-C BIDAN OR PERAWAT
        // $('#perawat-mpp-edit').select2c({
        //     ajax: {
        //         url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
        //         dataType: 'json',
        //         quietMillis: 100,
        //         data: function(term, page) { // page is the one-based page number tracked by Select2
        //             return {
        //                 q: term, //search term
        //                 page: page, // page number
        //                 jenis: $('#c_profesi').val(),
        //             };
        //         },
        //         results: function(data, page) {
        //             var more = (page * 20) < data
        //                 .total; // whether or not there are more results available

        //             // notice we return the value of more so Select2 knows if more results can be loaded
        //             return {
        //                 results: data.data,
        //                 more: more
        //             };
        //         }
        //     },
        //     formatResult: function(data) {
        //         var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
        //         return markup;
        //     },
        //     formatSelection: function(data) {
        //         return data.nama;
        //     }
        // });
    //

        





        $('#pslw-pemantauan').datetimepicker({
            format: 'DD/MM/YYYY HH:mm',
            pickSecond: false,
            pick12HourFormat: false,
            maxDate: new Date(),
            beforeShow: function(i) {
                if ($(i).attr('readonly')) {
                    return false;
                }
            }
        });





        // SKALA EARLY WARNING NEWS AWAL 1 MONITORING PASIEN
        $('.mpnews').change(function() {
            // console.log(hitungSkalaEarlyNews());
            hitungSkalaEarlyNewsMp()
        })

        $('.mpmeows').change(function() {
            hitungSkalaEarlyMeowsMp()
        })

        $('.skalapews').change(function() {
            hitungSkalaEarlyPews()
        })

    })

    

    function timerzmysql(waktu) {
        var tm = waktu.split(':');
        return tm[0] + ':' + tm[1];
    }


    function bukaLebar(title, num) {
        let html = /* html */ `
            <div class="accordion">
                <div class="card">
                    <div class="card-header" id="heading-${num}">
                        <h2 class="mb-0">
                            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse-${num}" aria-expanded="false" aria-controls="collapse-${num}">
                                ${title}
                            </button>
                        </h2>
                    </div>
                    <div id="collapse-${num}" class="collapse" aria-labelledby="heading-${num}">
                        <div class="card-body">       
        `;

        return html;
    }

    function tutupRapet(title, num) {
        let html = /* html */ `
                        </div>
                    </div>
                </div>
            </div>
        `;

        return html;
    }

    function calcscorepurjpd() {
        var score = 0;
        $("input[name='purjpd_riwayat_jatuh']:checked").each(function() {
            if ($(this).val() == '25') {
                score += parseInt(25);
                $('#purjpd-riwayat-jatuh').val(25);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpd-riwayat-jatuh').val(0);
            }
        });
        $("input[name='purjpd_diagnosis_sekunder']:checked").each(function() {
            if ($(this).val() == '15') {
                score += parseInt(15);
                $('#purjpd-diagnosis-sekunder').val(15);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpd-diagnosis-sekunder').val(0);
            }
        });
        $("input[name='purjpd_terpasang_infus']:checked").each(function() {
            if ($(this).val() == '20') {
                score += parseInt(20);
                $('#purjpd-terpasang-infus').val(20);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpd-terpasang-infus').val(0);
            }
        });
        $("input[name='purjpd_alat_bantu_jalan_1_ya']:checked").each(function() {
            if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpd-alat-bantu-jalan').val(0);
            }
        });
        $("input[name='purjpd_alat_bantu_jalan_2_ya']:checked").each(function() {
            if ($(this).val() == '15') {
                score += parseInt(15);
                $('#purjpd-alat-bantu-jalan').val(15);
            }
        });
        $("input[name='purjpd_alat_bantu_jalan_3_ya']:checked").each(function() {
            if ($(this).val() == '30') {
                score += parseInt(30);
                $('#purjpd-alat-bantu-jalan').val(30);
            }
        });
        $("input[name='purjpd_cara_berjalan_ya']:checked").each(function() {
            if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpd-cara-berpindah').val(0);
            }
        });
        $("input[name='purjpd_cara_berjalan_2_ya']:checked").each(function() {
            if ($(this).val() == '10') {
                score += parseInt(10);
                $('#purjpd-cara-berpindah').val(10);
            }
        });
        $("input[name='purjpd_cara_berjalan_3_ya']:checked").each(function() {
            if ($(this).val() == '20') {
                score += parseInt(20);
                $('#purjpd-cara-berpindah').val(20);
            }
        });
        $("input[name='purjpd_status_mental_1_ya']:checked").each(function() {
            if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpd-status-mental').val(0);
            }
        });
        $("input[name='purjpd_status_mental_2_ya']:checked").each(function() {
            if ($(this).val() == '15') {
                score += parseInt(15);
                $('#purjpd-status-mental').val(15);
            }
        });

        $("input[name='purjpd_jumlah_skor']").val(score);
    }

    function calcscorepurjpa() {
        let score = 0;
        $("input[name='purjpa_umur']:checked").each(function() {
            if ($(this).val() == '4') {
                score += parseInt(4);
                $('#purjpa-umur').val(4);
            } else if ($(this).val() == '3') {
                score += parseInt(3);
                $('#purjpa-umur').val(3);
            } else if ($(this).val() == '2') {
                score += parseInt(2);
                $('#purjpa-umur').val(2);
            } else if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpa-umur').val(1);
            }
        });
        $("input[name='purjpa_jenis_kelamin']:checked").each(function() {
            if ($(this).val() == '2') {
                score += parseInt(2);
                $('#purjpa-jenis-kelamin').val(2);
            } else if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpa-jenis-kelamin').val(1);
            }
        });
        $("input[name='purjpa_diagnosis']:checked").each(function() {
            if ($(this).val() == '4') {
                score += parseInt(4);
                $('#purjpa-diagnosis').val(4);
            } else if ($(this).val() == '3') {
                score += parseInt(3);
                $('#purjpa-diagnosis').val(3);
            } else if ($(this).val() == '2') {
                score += parseInt(2);
                $('#purjpa-diagnosis').val(2);
            } else if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpa-diagnosis').val(1);
            }
        });
        $("input[name='purjpa_gangguan_kognitif']:checked").each(function() {
            if ($(this).val() == '3') {
                score += parseInt(3);
                $('#purjpa-gangguan-kognitif').val(3);
            } else if ($(this).val() == '2') {
                score += parseInt(2);
                $('#purjpa-gangguan-kognitif').val(2);
            } else if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpa-gangguan-kognitif').val(1);
            }
        });
        $("input[name='purjpa_faktor_lingkungan']:checked").each(function() {
            if ($(this).val() == '4') {
                score += parseInt(4);
                $('#purjpa-faktor-lingkungan').val(4);
            } else if ($(this).val() == '3') {
                score += parseInt(3);
                $('#purjpa-faktor-lingkungan').val(3);
            } else if ($(this).val() == '2') {
                score += parseInt(2);
                $('#purjpa-faktor-lingkungan').val(2);
            } else if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpa-faktor-lingkungan').val(1);
            }
        });
        $("input[name='purjpa_respon_pembedahan']:checked").each(function() {
            if ($(this).val() == '3') {
                score += parseInt(3);
                $('#purjpa-respon-pembedahan').val(3);
            } else if ($(this).val() == '2') {
                score += parseInt(2);
                $('#purjpa-respon-pembedahan').val(2);
            } else if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpa-respon-pembedahan').val(1);
            }
        });
        $("input[name='purjpa_penggunaan_obat']:checked").each(function() {
            if ($(this).val() == '3') {
                score += parseInt(3);
                $('#purjpa-penggunaan-obat').val(3);
            } else if ($(this).val() == '2') {
                score += parseInt(2);
                $('#purjpa-penggunaan-obat').val(2);
            } else if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpa-penggunaan-obat').val(1);
            }
        });

        $("input[name='purjpa_jumlah_skor']").val(score);
    }

    function calcscorepurjpl() {
        let score = 0;
        $("input[name='purjpl_pasien_datang_karena_jatuh']:checked").each(function() {
            if ($(this).val() == '6') {
                score += parseInt(6);
                $('#purjpl-pasien-datang-karena-jatuh').val(6);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-pasien-datang-karena-jatuh').val(0);
            }
            $('#purjpl-riwayat-jatuh').val(score)
        });

        $("input[name='purjpl_jatuh_2_bulan_terakhir']:checked").each(function() {
            if ($(this).val() == '6') {
                score += parseInt(6);
                $('#purjpl-jatuh-2-bulan-terakhir').val(6);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-jatuh-2-bulan-terakhir').val(0);
            }
            $('#purjpl-riwayat-jatuh').val(score)
        });

        $("input[name='purjpl_pasien_delirium']:checked").each(function() {
            if ($(this).val() == '14') {
                score += parseInt(14);
                $('#purjpl-pasien-delirium').val(14);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-pasien-delirium').val(0);
            }
            $('#purjpl-mental').val(score)
        });
        $("input[name='purjpl_pasien_disorientasi']:checked").each(function() {
            if ($(this).val() == '14') {
                score += parseInt(14);
                $('#purjpl-pasien-disorientasi').val(14);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-pasien-disorientasi').val(0);
            }
            $('#purjpl-mental').val(score)
        });
        $("input[name='purjpl_pasien_agitasi']:checked").each(function() {
            if ($(this).val() == '14') {
                score += parseInt(14);
                $('#purjpl-pasien-agitasi').val(14);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-pasien-agitasi').val(0);
            }
            $('#purjpl-mental').val(score)
        });
        $("input[name='purjpl_pasien_kacamata']:checked").each(function() {
            if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpl-pasien-kacamata').val(1);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-pasien-kacamata').val(0);
            }
            $('#purjpl-penglihatan').val(score)
        });
        $("input[name='purjpl_pasien_buram']:checked").each(function() {
            if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpl-pasien-buram').val(1);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-pasien-buram').val(0);
            }
            $('#purjpl-penglihatan').val(score)
        });
        $("input[name='purjpl_pasien_glaukoma']:checked").each(function() {
            if ($(this).val() == '1') {
                score += parseInt(1);
                $('#purjpl-pasien-glaukoma').val(1);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-pasien-glaukoma').val(0);
            }
            $('#purjpl-penglihatan').val(score)
        });
        $("input[name='purjpl_pasien_berkemih']:checked").each(function() {
            if ($(this).val() == '2') {
                score += parseInt(2);
                $('#purjpl-pasien-berkemih').val(2);
            } else if ($(this).val() == '0') {
                score += parseInt(0);
                $('#purjpl-pasien-berkemih').val(0);
            }
            $('#purjpl-berkemih').val(score)
        });

        if ($('#purjpl-pasien-mandiri').is(':checked')) {
            score += parseInt(0);
            $('#purjpl-mandiri').val(0);
            $('#purjpl-transfer').val(score)
        } else {
            $('#purjpl-mandiri').val('');
        }
        if ($('#purjpl-pasien-sedikit-bantuan').is(':checked')) {
            score += parseInt(1);
            $('#purjpl-sedikit-bantuan').val(1);
            $('#purjpl-transfer').val(score)
        } else {
            $('#purjpl-sedikit-bantuan').val('');
        }
        if ($('#purjpl-pasien-bantuan-nyata').is(':checked')) {
            score += parseInt(2);
            $('#purjpl-bantuan-nyata').val(2);
            $('#purjpl-transfer').val(score)
        } else {
            $('#purjpl-bantuan-nyata').val('');
        }
        if ($('#purjpl-pasien-bantuan-total').is(':checked')) {
            score += parseInt(3);
            $('#purjpl-bantuan-total').val(3);
            $('#purjpl-transfer').val(score)
        } else {
            $('#purjpl-bantuan-total').val('');
        }
        if ($('#purjpl-pasien-m-mandiri').is(':checked')) {
            score += parseInt(0);
            $('#purjpl-m-mandiri').val(0);
            $('#purjpl-mobilitas').val(score)
        } else {
            $('#purjpl-m-mandiri').val('');
        }
        if ($('#purjpl-pasien-m-sedikit-bantuan').is(':checked')) {
            score += parseInt(1);
            $('#purjpl-m-sedikit-bantuan').val(1);
            $('#purjpl-mobilitas').val(score)
        } else {
            $('#purjpl-m-sedikit-bantuan').val('');
        }
        if ($('#purjpl-pasien-kursi-roda').is(':checked')) {
            score += parseInt(2);
            $('#purjpl-kursi-roda').val(2);
            $('#purjpl-mobilitas').val(score)
        } else {
            $('#purjpl-kursi-roda').val('');
        }
        if ($('#purjpl-pasien-imobilisasi').is(':checked')) {
            score += parseInt(3);
            $('#purjpl-imobilisasi').val(3);
            $('#purjpl-mobilitas').val(score)
        } else {
            $('#purjpl-imobilisasi').val('');
        }

        if ($('#purjpl-edit-pasien-mandiri').is(':checked')) {
            score += parseInt(0);
            $('#purjpl-edit-mandiri').val(0);
            $('#purjpl-edit-transfer').val(score)
        } else {
            $('#purjpl-edit-mandiri').val('');
        }
        if ($('#purjpl-edit-pasien-sedikit-bantuan').is(':checked')) {
            score += parseInt(1);
            $('#purjpl-edit-sedikit-bantuan').val(1);
            $('#purjpl-edit-transfer').val(score)
        } else {
            $('#purjpl-edit-sedikit-bantuan').val('');
        }
        if ($('#purjpl-edit-pasien-bantuan-nyata').is(':checked')) {
            score += parseInt(2);
            $('#purjpl-edit-bantuan-nyata').val(2);
            $('#purjpl-edit-transfer').val(score)
        } else {
            $('#purjpl-edit-bantuan-nyata').val('');
        }
        if ($('#purjpl-edit-pasien-bantuan-total').is(':checked')) {
            score += parseInt(3);
            $('#purjpl-edit-bantuan-total').val(3);
            $('#purjpl-edit-transfer').val(score)
        } else {
            $('#purjpl-edit-bantuan-total').val('');
        }
        if ($('#purjpl-edit-pasien-m-mandiri').is(':checked')) {
            score += parseInt(0);
            $('#purjpl-edit-m-mandiri').val(0);
            $('#purjpl-edit-mobilitas').val(score)
        } else {
            $('#purjpl-edit-m-mandiri').val('');
        }
        if ($('#purjpl-edit-pasien-m-sedikit-bantuan').is(':checked')) {
            score += parseInt(1);
            $('#purjpl-edit-m-sedikit-bantuan').val(1);
            $('#purjpl-edit-mobilitas').val(score)
        } else {
            $('#purjpl-edit-m-sedikit-bantuan').val('');
        }
        if ($('#purjpl-edit-pasien-kursi-roda').is(':checked')) {
            score += parseInt(2);
            $('#purjpl-edit-kursi-roda').val(2);
            $('#purjpl-edit-mobilitas').val(score)
        } else {
            $('#purjpl-edit-kursi-roda').val('');
        }
        if ($('#purjpl-edit-pasien-imobilisasi').is(':checked')) {
            score += parseInt(3);
            $('#purjpl-edit-imobilisasi').val(3);
            $('#purjpl-edit-mobilitas').val(score)
        } else {
            $('#purjpl-edit-imobilisasi').val('');
        }

        $("input[name='purjpl_jumlah_skor']").val(score);
    }

    function removeList(el) {
        var parent = el.parentNode.parentNode;
        parent.parentNode.removeChild(parent);
    }

    function removeListTable(el) {
        var parent = el.parentNode.parentNode.parentNode;
        parent.parentNode.removeChild(parent);
    }

    function lihatFORM_PMD_28_01(data) {
        let pasien = data.pasien;
        let layanan = data.layanan;
        let bed = layanan.bangsal + ' kelas ' + layanan.kelas + ' ruang ' + layanan.no_ruang + ' No. Bed ' + layanan.no_bed;
        let action = 'lihat';

        entriKeperawatan(layanan.id_pendaftaran, layanan.id, bed, action);
    }

    function editFORM_PMD_28_01(data) {
        let pasien = data.pasien;
        let layanan = data.layanan;
        let bed = layanan.bangsal + ' kelas ' + layanan.kelas + ' ruang ' + layanan.no_ruang + ' No. Bed ' + layanan.no_bed;
        let action = 'edit';

        entriKeperawatan(layanan.id_pendaftaran, layanan.id, bed, action);
    }

    function tambahFORM_PMD_28_01(data) {
        let pasien = data.pasien;
        let layanan = data.layanan;
        let bed = layanan.bangsal + ' kelas ' + layanan.kelas + ' ruang ' + layanan.no_ruang + ' No. Bed ' + layanan.no_bed;
        let action = 'tambah';

        entriKeperawatan(layanan.id_pendaftaran, layanan.id, bed, action);
    }

    function entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed, action) {
        $('#wizard_form_resume').bwizard('show', '0');

        $('#btn-simpan').hide();

        var groupAccount = '<?= $this->session->userdata('account_group') ?>';
        var profesi = '<?= $this->session->userdata('profesinadis') ?>';
        if (groupAccount == 'Admin') {
            profesi = 'Perawat';
        }

        if (action !== 'lihat' ) {
            $('#btn-simpan').show();
        } else {
            $('#btn-simpan').hide();
        }

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_data_entri_keperawatan") ?>/id/' + id_pendaftaran +
                '/id_layanan/' + id_layanan_pendaftaran,
            cache: false,
            dataType: 'JSON',
            beforeSend: function() {
                showLoader()
            },
            success: function(data) {

                $('#purjpd-tanggal-pengkajian').datetimepicker({
                    format: 'DD/MM/YYYY',
                    maxDate: new Date(),
                    beforeShow: function(i) {
                        if ($(i).attr('readonly')) {
                            return false;
                        }
                    }
                });

                
                // UPRJPN
                $('#purjpa-tanggal-pengkajian, #purjpa-edit-tanggal-pengkajian, #purjpl-tanggal-pengkajian, #purjpl-edit-tanggal-pengkajian, #uprjpl-tanggal-pengkajian, #uprjpl-edit-tanggal-pengkajian, #uprjpa-tanggal-pengkajian, #uprjpa-edit-tanggal-pengkajian, #uprjpd-tanggal-pengkajian, #uprjpd-edit-tanggal-pengkajian, #uprjpn-tanggal-pengkajian, #uprjpn-edit-tanggal-pengkajian')
                    .datetimepicker({
                        format: 'DD/MM/YYYY',
                        maxDate: new Date(),
                        beforeShow: function(i) {
                            if ($(i).attr('readonly')) {
                                return false;
                            }
                        }
                    });

                // ======================= PPRJPD AWAL
                $('#pprjpd-tanggal-pemantauan, #edit-pprjpd-tanggal-pemantauan').datetimepicker({
                    format: 'DD/MM/YYYY',
                    maxDate: new Date(),
                    beforeShow: function(i) {
                        if ($(i).attr('readonly')) {
                            return false;
                        }
                    }
                });

                $('#tanggal-pemantauan-anak, #edit-tanggal-pemantauan-anak').datetimepicker({
                    format: 'DD/MM/YYYY',
                    maxDate: new Date(),
                    beforeShow: function(i) {
                        if ($(i).attr('readonly')) {
                            return false;
                        }
                    }
                });

                $('#pundpn-tanggal-pengkajian').datetimepicker({
                    format: 'DD/MM/YYYY HH:mm',
                    pickSecond: false,
                    pick12HourFormat: false,
                    maxDate: new Date(),
                    beforeShow: function(i) {
                        if ($(i).attr('readonly')) {
                            return false;
                        }
                    }
                });

                $('#tangal-waktu-visit').datetimepicker({
                    format: 'DD/MM/YYYY HH:mm',
                    pickSecond: false,
                    pick12HourFormat: false,
                    maxDate: new Date(),
                    beforeShow: function(i) {
                        if ($(i).attr('readonly')) {
                            return false;
                        }
                    }
                });

                $('#purjpd-alat-bantu-jalan-1').click(function() {
                    if ($(this).is(":checked")) {
                        $('#purjpd-alat-bantu-jalan-1-ya').prop('disabled', false);
                        $('#purjpd-alat-bantu-jalan-1-ya').prop('checked', true).change();
                    } else {
                        $('#purjpd-alat-bantu-jalan-1-ya').prop('checked', false).change();
                        $('#purjpd-alat-bantu-jalan-1-ya').prop('disabled', true);
                    }
                });

                $('#purjpd-alat-bantu-jalan-2').click(function() {
                    if ($(this).is(":checked")) {
                        $('#purjpd-alat-bantu-jalan-2-ya').prop('disabled', false);
                        $('#purjpd-alat-bantu-jalan-2-ya').prop('checked', true).change();
                    } else {
                        $('#purjpd-alat-bantu-jalan-2-ya').prop('checked', false).change();
                        $('#purjpd-alat-bantu-jalan-2-ya').prop('disabled', true);
                    }
                });

                $('#purjpd-alat-bantu-jalan-3').click(function() {
                    if ($(this).is(":checked")) {
                        $('#purjpd-alat-bantu-jalan-3-ya').prop('disabled', false);
                        $('#purjpd-alat-bantu-jalan-3-ya').prop('checked', true).change();
                    } else {
                        $('#purjpd-alat-bantu-jalan-3-ya').prop('checked', false).change();
                        $('#purjpd-alat-bantu-jalan-3-ya').prop('disabled', true);
                    }
                });

                $('#purjpd-cara-berjalan').click(function() {
                    if ($(this).is(":checked")) {
                        $('#purjpd-cara-berjalan-ya').prop('disabled', false);
                        $('#purjpd-cara-berjalan-ya').prop('checked', true).change();
                    } else {
                        $('#purjpd-cara-berjalan-ya').prop('checked', false).change();
                        $('#purjpd-cara-berjalan-ya').prop('disabled', true);
                    }
                });

                $('#purjpd-cara-berjalan-2').click(function() {
                    if ($(this).is(":checked")) {
                        $('#purjpd-cara-berjalan-2-ya').prop('disabled', false);
                        $('#purjpd-cara-berjalan-2-ya').prop('checked', true).change();
                    } else {
                        $('#purjpd-cara-berjalan-2-ya').prop('checked', false).change();
                        $('#purjpd-cara-berjalan-2-ya').prop('disabled', true);
                    }
                });

                $('#purjpd-cara-berjalan-3').click(function() {
                    if ($(this).is(":checked")) {
                        $('#purjpd-cara-berjalan-3-ya').prop('disabled', false);
                        $('#purjpd-cara-berjalan-3-ya').prop('checked', true).change();
                    } else {
                        $('#purjpd-cara-berjalan-3-ya').prop('checked', false).change();
                        $('#purjpd-cara-berjalan-3-ya').prop('disabled', true);
                    }
                });

                $('#purjpd-status-mental-1').click(function() {
                    if ($(this).is(":checked")) {
                        $('#purjpd-status-mental-1-ya').prop('disabled', false);
                        $('#purjpd-status-mental-1-ya').prop('checked', true).change();
                    } else {
                        $('#purjpd-status-mental-1-ya').prop('checked', false).change();
                        $('#purjpd-status-mental-1-ya').prop('disabled', true);
                    }
                });

                $('#purjpd-status-mental-2').click(function() {
                    if ($(this).is(":checked")) {
                        $('#purjpd-status-mental-2-ya').prop('disabled', false);
                        $('#purjpd-status-mental-2-ya').prop('checked', true).change();
                    } else {
                        $('#purjpd-status-mental-2-ya').prop('checked', false).change();
                        $('#purjpd-status-mental-2-ya').prop('disabled', true);
                    }
                });

                $('#sirs-antibiotika-ya').click(function() {
                    if ($(this).is(":checked")) {
                        $('#sirs-tanggal-antibiotik, #sirs-dosis-antibiotika, #sirs-antibiotik-selesai')
                            .attr('disabled', false);
                        $('#sirs-nama-antibiotika').select2c('readonly', false);
                        $('#sirs-tanggal-antibiotik, #sirs-dosis-antibiotika, #sirs-antibiotik-selesai')
                            .val('');
                        $('#sirs-teknik-im, #sirs-teknik-iv, #sirs-teknik-oral, #sirs-teknik-drip, #sirs-teknik-sup, #sirs-teknik-lokal')
                            .prop('checked', false).change();
                    }
                });

                $('#sirs-antibiotika-tidak').click(function() {
                    if ($(this).is(":checked")) {
                        $('#sirs-tanggal-antibiotik, #sirs-dosis-antibiotika, #sirs-antibiotik-selesai')
                            .attr('disabled', true);
                        $('#sirs-nama-antibiotika').select2c('readonly', true);
                        $('#sirs-tanggal-antibiotik, #sirs-nama-antibiotika, #sirs-dosis-antibiotika, #sirs-antibiotik-selesai')
                            .val('');
                        $('#sirs-teknik-im, #sirs-teknik-iv, #sirs-teknik-oral, #sirs-teknik-drip, #sirs-teknik-sup, #sirs-teknik-lokal')
                            .prop('checked', false).change();
                    }
                });

                $('#rs-waktu-search').change(function() {
                    getListResumeKeperawatan($('#ek-id-pendaftaran').val(), bed, 1);
                });

                $('#tpi-waktu-search').change(function() {
                    getListTransferPasien($('#ek-id-pendaftaran').val(), bed, 1);
                });

                resetFormEntriKeperawatan();

                resetFormResume();
                resetFormTransfer();

                getListResumeKeperawatan(id_pendaftaran, bed, 1);
                getListTransferPasien(id_pendaftaran, bed, 1);

                $('#ek_id_layanan_pendaftaran').val(id_layanan_pendaftaran);
                $('#ek-id-pendaftaran').val(id_pendaftaran);
                $('#ek-id-bed').val(bed);



                if (data.pasien !== null) {
                    $('#ek_id_pasien').val(data.pasien.id_pasien);
                    $('#ek_pasien_nama').text(data.pasien.nama);
                    $('#ek_pasien_no_rm').text(data.pasien.no_rm);
                    $('#ek_pasien_tanggal_lahir').text((data.pasien.tanggal_lahir !== null ? datefmysql(data
                        .pasien.tanggal_lahir) : '-') + (' (' + hitungUmur(data.pasien.tanggal_lahir) +
                        ')'));
                    $('#ek_pasien_jenis_kelamin').text((data.pasien.kelamin === 'L' ? 'Laki - laki' :
                        'Perempuan'));

                    if (data.pasien.alergi !== null) {
                        $('#ek_riwayat_alergi').val(data.pasien.alergi).attr('readonly', true)
                    };
                    $('#ek_pasien_alamat').text(data.pasien.alamat);
                }



                //SURVEILANS

                let surveilans = data.surveilans;

                if (surveilans !== null) {

                    $('#sirs-diagnosis-masuk').val(surveilans.sirs_diagnosis_masuk);
                    if (surveilans.sirs_pemakaian_antibiotika === 'ada') {
                        $('#sirs-antibiotika-ya').prop('checked', true).change()
                    }
                    if (surveilans.sirs_pemakaian_antibiotika === '') {
                        $('#sirs-antibiotika-ya').prop('checked', false).change()
                    }
                    if (surveilans.sirs_pemakaian_antibiotika === 'tidak ada') {
                        $('#sirs-antibiotika-tidak').prop('checked', true).change()
                    }
                    if (surveilans.sirs_pemakaian_antibiotika === '') {
                        $('#sirs-antibiotika-tidak').prop('checked', false).change()
                    }

                    //sirs_perawat
                    if (surveilans.sirs_perawat === null) {
                        $('#s2id_surveilans-perawat a .select2c-chosen').html();
                        $('#surveilans-perawat').val();
                    } else {
                        $('#surveilans-perawat').val(surveilans.sirs_perawat);
                        $('#s2id_surveilans-perawat a .select2c-chosen').html(surveilans.p_surveilans);
                    }

                    $('#surveilans-perawat').val(surveilans.sirs_perawat);

                    if (surveilans.sirs_perawat !== null) {

                        $('#surveilans-perawat').select2c('readonly', true);
                        $('#s2id_surveilans-perawat a .select2c-chosen').html(surveilans.p_surveilans);

                    }

                    //sirs_ipcn

                    if (surveilans.sirs_ipcn === null) {
                        $('#s2id_surveilans-ipcn a .select2c-chosen').html();
                        $('#surveilans-ipcn').val();
                        $('#surveilans-ipcn').select2c('readonly', false);
                    } else {
                        $('#surveilans-ipcn').val(surveilans.sirs_ipcn);
                        $('#s2id_surveilans-ipcn a .select2c-chosen').html(surveilans.ipcn_surveilans);
                        $('#surveilans-ipcn').select2c('readonly', true);
                    }

                    // $('#surveilans-ipcn').val(surveilans.sirs_ipcn);

                    if (surveilans.sirs_petugas !== null) {
                        $('#surveilans-ttd-petugas').hide();
                        $('#surveilans_ttd_petugas_verified').show();
                    }

                    if (surveilans.sirs_ipcn_link !== null) {
                        $('#surveilans-ipcn-link').hide();
                        $('#surveilans_ttd_ipcnlink_verified').show();
                    }

                    if (surveilans.sirs_tanggal_ttd_perawat !== null) {

                        $('#surveilans-tanggal-ttd-perawat').val(datetimefmysql(surveilans
                            .sirs_tanggal_ttd_perawat));
                        $('#surveilans-tanggal-ttd-perawat').attr('disabled', true);

                    }

                    if (surveilans.sirs_tanggal_ttd_ipcn !== null) {

                        $('#surveilans-tanggal-ttd-ipcn').val(datetimefmysql(surveilans.sirs_tanggal_ttd_ipcn));
                        $('#surveilans-tanggal-ttd-ipcn').attr('disabled', true);

                    }

                    if (surveilans.hbsag === 'Positif') {
                        $('#hbsag-positif').prop('checked', true).change()
                    }
                    if (surveilans.hbsag === 'Negatif') {
                        $('#hbsag-negatif').prop('checked', true).change()
                    }
                    if (surveilans.hbsag === 'Tidak Diperiksa') {
                        $('#hbsag-periksa').prop('checked', true).change()
                    }

                    if (surveilans.antihcv === 'Positif') {
                        $('#antihcv-positif').prop('checked', true).change()
                    }
                    if (surveilans.antihcv === 'Negatif') {
                        $('#antihcv-negatif').prop('checked', true).change()
                    }
                    if (surveilans.antihcv === 'Tidak Diperiksa') {
                        $('#antihcv-periksa').prop('checked', true).change()
                    }

                    if (surveilans.antihiv === 'Positif') {
                        $('#antihiv-positif').prop('checked', true).change()
                    }
                    if (surveilans.antihiv === 'Negatif') {
                        $('#antihiv-negatif').prop('checked', true).change()
                    }
                    if (surveilans.antihiv === 'Tidak Diperiksa') {
                        $('#antihiv-periksa').prop('checked', true).change()
                    }

                    var kasusBedah = JSON.parse(surveilans.t_op);
                    if (kasusBedah.t_op_ortopedi !== '') {
                        $('#t-op-ortopedi').prop('checked', true);
                    }
                    if (kasusBedah.t_op_digestive !== '') {
                        $('#t-op-digestive').prop('checked', true);
                    }
                    if (kasusBedah.t_op_plastik !== '') {
                        $('#t-op-plastik').prop('checked', true);
                    }
                    if (kasusBedah.t_op_tumor !== '') {
                        $('#t-op-tumor').prop('checked', true);
                    }
                    if (kasusBedah.t_op_urologi !== '') {
                        $('#t-op-urologi').prop('checked', true);
                    }
                    if (kasusBedah.t_op_tht !== '') {
                        $('#t-op-tht').prop('checked', true);
                    }
                    if (kasusBedah.t_op_anak !== '') {
                        $('#t-op-anak').prop('checked', true);
                    }
                    if (kasusBedah.t_op_gilut !== '') {
                        $('#t-op-gilut').prop('checked', true);
                    }
                    if (kasusBedah.t_op_vaskuler !== '') {
                        $('#t-op-vaskuler').prop('checked', true);
                    }
                    if (kasusBedah.t_op_saraf !== '') {
                        $('#t-op-saraf').prop('checked', true);
                    }
                    if (kasusBedah.t_op_mata !== '') {
                        $('#t-op-mata').prop('checked', true);
                    }
                    if (kasusBedah.t_op_thorax !== '') {
                        $('#t-op-thorax').prop('checked', true);
                    }
                    if (kasusBedah.t_op_obgyn !== '') {
                        $('#t-op-obgyn').prop('checked', true);
                    }
                    if (kasusBedah.t_op_lain !== '') {
                        $('#t-op-lain').prop('checked', true);
                        $('#sm-top-lain').attr('disabled', false);
                        $('#sm-top-lain').val(kasusBedah.sm_top_lain);
                    } else {
                        $('#t-op-lain').prop('checked', false);
                        $('#sm-top-lain').attr('disabled', true);
                    }

                    if (surveilans.sirs_tanggal_diagnosis !== null) {

                        $('#sirs-tanggal-diagnosis').val(datefmysql(surveilans.sirs_tanggal_diagnosis));

                    }

                    if (surveilans.sirs_drain === 'Positif') {
                        $('#sirs-drain-ya').prop('checked', true).change()
                    }
                    if (surveilans.sirs_drain === 'Negatif') {
                        $('#sirs-drain-tidak').prop('checked', true).change()
                    }

                    if (surveilans.sirs_jenis_operasi === 'Bersih') {
                        $('#sirs-jenis-operasi-bersih').prop('checked', true).change()
                    }
                    if (surveilans.sirs_jenis_operasi === 'Bersih Tercemar') {
                        $('#sirs-jenis-operasi-bersihcemar').prop('checked', true).change()
                    }
                    if (surveilans.sirs_jenis_operasi === 'Tercemar') {
                        $('#sirs-jenis-operasi-cemar').prop('checked', true).change()
                    }
                    if (surveilans.sirs_jenis_operasi === 'Kotor') {
                        $('#sirs-jenis-operasi-kotor').prop('checked', true).change()
                    }

                    if (surveilans.sirs_tindakan_operasi === 'Cito') {
                        $('#sirs-tindakan-operasi-cito').prop('checked', true).change()
                    }
                    if (surveilans.sirs_tindakan_operasi === 'Elektif') {
                        $('#sirs-tindakan-operasi-elektif').prop('checked', true).change()
                    }

                    var antibiotikProf = JSON.parse(surveilans.sirs_antibiotik);

                    if (antibiotikProf.sirs_antibiotik !== '') {
                        $('#sirs-antibiotik').prop('checked', true);
                    } else {
                        $('#sirs-antibiotik').prop('checked', false);
                        $('#sirs-antibiotik-profilaksis').attr('disabled', true);
                    }
                    if (antibiotikProf.sirs_antibiotik_profilaksis !== '') {
                        $('#sirs-antibiotik-profilaksis').val(antibiotikProf.sirs_antibiotik_profilaksis);
                    }
                    if (antibiotikProf.sirs_dosis_antibiotik !== '') {
                        $('#sirs-dosis-antibiotik').val(antibiotikProf.sirs_dosis_antibiotik);
                    }

                    if (surveilans.sirs_waktu_pemberian === 'preoperasi') {
                        $('#sirs-waktu-preoperasi').prop('checked', true).change()
                    }
                    if (surveilans.sirs_waktu_pemberian === 'selama') {
                        $('#sirs-waktu-selama').prop('checked', true).change()
                    }
                    if (surveilans.sirs_waktu_pemberian === 'sesudah operasi') {
                        $('#sirs-waktu-sesudah').prop('checked', true).change()
                    }

                    $('#sirs-jam').val(surveilans.sirs_jam);
                    $('#sirs-menit').val(surveilans.sirs_menit);

                    if (surveilans.sirs_asascore === '1') {
                        $('#sirs-asascore-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_asascore === '2') {
                        $('#sirs-asascore-dua').prop('checked', true).change()
                    }
                    if (surveilans.sirs_asascore === '3') {
                        $('#sirs-asascore-tiga').prop('checked', true).change()
                    }
                    if (surveilans.sirs_asascore === '4') {
                        $('#sirs-asascore-empat').prop('checked', true).change()
                    }
                    if (surveilans.sirs_asascore === '5') {
                        $('#sirs-asascore-lima').prop('checked', true).change()
                    }

                    if (surveilans.sirs_tanggal_diagnosis_satu !== null) {

                        $('#sirs-tanggal-diagnosis-satu').val(datefmysql(surveilans
                            .sirs_tanggal_diagnosis_satu));

                    }

                    if (surveilans.sirs_drain_satu === 'Positif') {
                        $('#sirs-drain-satu-ya').prop('checked', true).change()
                    }
                    if (surveilans.sirs_drain_satu === 'Negatif') {
                        $('#sirs-drain-satu-tidak').prop('checked', true).change()
                    }

                    if (surveilans.sirs_jenis_operasi_satu === 'Bersih') {
                        $('#sirs-jenis-operasi-bersih-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_jenis_operasi_satu === 'Bersih Tercemar') {
                        $('#sirs-jenis-operasi-bersihcemar-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_jenis_operasi_satu === 'Tercemar') {
                        $('#sirs-jenis-operasi-cemar-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_jenis_operasi_satu === 'Kotor') {
                        $('#sirs-jenis-operasi-kotor-satu').prop('checked', true).change()
                    }

                    if (surveilans.sirs_tindakan_operasi_satu === 'Cito') {
                        $('#sirs-tindakan-operasi-cito-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_tindakan_operasi_satu === 'Elektif') {
                        $('#sirs-tindakan-operasi-elektif-satu').prop('checked', true).change()
                    }

                    var antibiotikProfSatu = JSON.parse(surveilans.sirs_antibiotik_satu);

                    if (antibiotikProfSatu.sirs_antibiotik_satu !== '') {
                        $('#sirs-antibiotik-satu').prop('checked', true);
                    } else {
                        $('#sirs-antibiotik-satu').prop('checked', false);
                        $('#sirs-antibiotik-profilaksis-satu').attr('disabled', true);
                    }
                    if (antibiotikProfSatu.sirs_antibiotik_profilaksis_satu !== '') {
                        $('#sirs-antibiotik-profilaksis-satu').val(antibiotikProfSatu
                            .sirs_antibiotik_profilaksis_satu);
                    }
                    if (antibiotikProfSatu.sirs_dosis_antibiotik_satu !== '') {
                        $('#sirs-dosis-antibiotik-satu').val(antibiotikProfSatu.sirs_dosis_antibiotik_satu);
                    }

                    if (surveilans.sirs_waktu_pemberian_satu === 'preoperasi') {
                        $('#sirs-waktu-preoperasi-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_waktu_pemberian_satu === 'selama') {
                        $('#sirs-waktu-selama-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_waktu_pemberian_satu === 'sesudah operasi') {
                        $('#sirs-waktu-sesudah-satu').prop('checked', true).change()
                    }

                    $('#sirs-jam-satu').val(surveilans.sirs_jam_satu);
                    $('#sirs-menit-satu').val(surveilans.sirs_menit_satu);

                    if (surveilans.sirs_asascore_satu === '1') {
                        $('#sirs-asascore-satu-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_asascore_satu === '2') {
                        $('#sirs-asascore-dua-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_asascore_satu === '3') {
                        $('#sirs-asascore-tiga-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_asascore_satu === '4') {
                        $('#sirs-asascore-empat-satu').prop('checked', true).change()
                    }
                    if (surveilans.sirs_asascore_satu === '5') {
                        $('#sirs-asascore-lima-satu').prop('checked', true).change()
                    }



                    if (surveilans.sirs_pemakaian_antibiotika !== '') {

                        if (surveilans.sirs_pemakaian_antibiotika === 'ada') {

                            $('#sirs-antibiotika-ya').prop('checked', true).change();



                        } else if (surveilans.sirs_pemakaian_antibiotika === 'tidak ada') {

                            $('#sirs-antibiotika-tidak').prop('checked', true).change();
                            $('#sirs-nama-antibiotika').select2c('readonly', true);
                            $('#sirs-tanggal-antibiotik, #sirs-dosis-antibiotika, #sirs-antibiotik-selesai')
                                .attr('disabled', true);
                            $('#sirs-tanggal-antibiotik, #sirs-nama-antibiotika, #sirs-dosis-antibiotika, #sirs-antibiotik-selesai')
                                .val('');
                            $('#sirs-teknik-im, #sirs-teknik-iv, #sirs-teknik-oral, #sirs-teknik-drip, #sirs-teknik-sup, #sirs-teknik-lokal')
                                .prop('checked', false).change();

                        }

                    } else {

                        $('#sirs-antibiotika-ya').prop('checked', true).change();

                    }

                    if (surveilans.sirs_tirah_baring === 'ya') {
                        $('#sirs-tirah-ya').prop('checked', true).change()
                    }
                    if (surveilans.sirs_tirah_baring === 'tidak') {
                        $('#sirs-tirah-tidak').prop('checked', true).change()
                    }


                    var sirsIdo = JSON.parse(surveilans.sirs_ido);

                    if (sirsIdo.sirs_ido === 'ada') {
                        $('#ssirs-ada-ido').prop('checked', true).change()
                    }
                    if (sirsIdo.sirs_ido === 'tidak ada') {
                        $('#sirs-tidak-ido').prop('checked', true).change()
                    }

                    if (sirsIdo.sirs_komplikasi_ido !== null) {
                        $('#sirs-komplikasi-ido').val(sirsIdo.sirs_komplikasi_ido)
                    } else {
                        $('#sirs-komplikasi-ido').val('')
                    }
                    if (sirsIdo.sirs_kultur_ido !== null) {
                        $('#sirs-kultur-ido').val(sirsIdo.sirs_kultur_ido)
                    } else {
                        $('#sirs-kultur-ido').val('')
                    }

                    var sirsIad = JSON.parse(surveilans.sirs_iad);

                    if (sirsIad.sirs_iad === 'ada') {
                        $('#sirs-ada-iad').prop('checked', true).change()
                    }
                    if (sirsIad.sirs_iad === 'tidak ada') {
                        $('#sirs-tidak-iad').prop('checked', true).change()
                    }
                    if (sirsIad.sirs_komplikasi_iad !== null) {
                        $('#sirs-komplikasi-iad').val(sirsIad.sirs_komplikasi_iad)
                    } else {
                        $('#sirs-komplikasi-iad').val('')
                    }
                    if (sirsIad.sirs_kultur_iad !== null) {
                        $('#sirs-kultur-iad').val(sirsIad.sirs_kultur_iad)
                    } else {
                        $('#sirs-kultur-iad').val('')
                    }

                    var sirsIsk = JSON.parse(surveilans.sirs_isk);

                    if (sirsIsk.sirs_isk === 'ada') {
                        $('#sirs-ada-isk').prop('checked', true).change()
                    }
                    if (sirsIsk.sirs_isk === 'tidak ada') {
                        $('#sirs-tidak-isk').prop('checked', true).change()
                    }
                    if (sirsIsk.sirs_komplikasi_isk !== null) {
                        $('#sirs-komplikasi-isk').val(sirsIsk.sirs_komplikasi_isk)
                    } else {
                        $('#sirs-komplikasi-isk').val('')
                    }
                    if (sirsIsk.sirs_kultur_isk !== null) {
                        $('#sirs-kultur-isk').val(sirsIsk.sirs_kultur_isk)
                    } else {
                        $('#sirs-kultur-isk').val('')
                    }


                    var sirsHap = JSON.parse(surveilans.sirs_hap);

                    if (sirsHap.sirs_hap === 'ada') {
                        $('#sirs-ada-hap').prop('checked', true).change()
                    }
                    if (sirsHap.sirs_hap === 'tidak ada') {
                        $('#sirs-tidak-hap').prop('checked', true).change()
                    }
                    if (sirsHap.sirs_komplikasi_hap !== null) {
                        $('#sirs-komplikasi-hap').val(sirsHap.sirs_komplikasi_hap)
                    } else {
                        $('#sirs-komplikasi-hap').val('')
                    }
                    if (sirsHap.sirs_kultur_hap !== null) {
                        $('#sirs-kultur-hap').val(sirsHap.sirs_kultur_hap)
                    } else {
                        $('#sirs-kultur-hap').val('')
                    }


                    var sirsVap = JSON.parse(surveilans.sirs_vap);

                    if (sirsVap.sirs_vap === 'ada') {
                        $('#sirs-ada-vap').prop('checked', true).change()
                    }
                    if (sirsVap.sirs_vap === 'tidak ada') {
                        $('#sirs-tidak-vap').prop('checked', true).change()
                    }
                    if (sirsVap.sirs_komplikasi_vap !== null) {
                        $('#sirs-komplikasi-vap').val(sirsVap.sirs_komplikasi_vap)
                    } else {
                        $('#sirs-komplikasi-vap').val('')
                    }
                    if (sirsVap.sirs_kultur_vap !== null) {
                        $('#sirs-kultur-vap').val(sirsVap.sirs_kultur_vap)
                    } else {
                        $('#sirs-kultur-vap').val('')
                    }


                    var sirsPlebitis = JSON.parse(surveilans.sirs_plebitis);

                    if (sirsPlebitis.sirs_plebitis === 'ada') {
                        $('#sirs-ada-plebitis').prop('checked', true).change()
                    }
                    if (sirsPlebitis.sirs_plebitis === 'tidak ada') {
                        $('#sirs-tidak-plebitis').prop('checked', true).change()
                    }
                    if (sirsPlebitis.sirs_komplikasi_plebitis !== null) {
                        $('#sirs-komplikasi-plebitis').val(sirsPlebitis.sirs_komplikasi_plebitis)
                    } else {
                        $('#sirs-komplikasi-plebitis').val('')
                    }
                    if (sirsPlebitis.sirs_kultur_plebitis !== null) {
                        $('#sirs-kultur-plebitis').val(sirsPlebitis.sirs_kultur_plebitis)
                    } else {
                        $('#sirs-kultur-plebitis').val('')
                    }

                    var sirsDekubitus = JSON.parse(surveilans.sirs_dekubitus);

                    if (sirsDekubitus.sirs_dekubitus === 'ada') {
                        $('#sirs-ada-dekubitus').prop('checked', true).change()
                    }
                    if (sirsDekubitus.sirs_dekubitus === 'tidak ada') {
                        $('#sirs-tidak-dekubitus').prop('checked', true).change()
                    }
                    if (sirsDekubitus.sirs_komplikasi_dekubitus !== null) {
                        $('#sirs-komplikasi-dekubitus').val(sirsDekubitus.sirs_komplikasi_dekubitus)
                    } else {
                        $('#sirs-komplikasi-dekubitus').val('')
                    }
                    if (sirsDekubitus.sirs_kultur_dekubitus !== null) {
                        $('#sirs-kultur-dekubitus').val(sirsDekubitus.sirs_kultur_dekubitus)
                    } else {
                        $('#sirs-kultur-dekubitus').val('')
                    }


                    var sirsLain = JSON.parse(surveilans.sirs_lain);

                    if (sirsLain.sirs_lain === 'ada') {
                        $('#sirs-ada-lain').prop('checked', true).change()
                    }
                    if (sirsLain.sirs_lain === 'tidak ada') {
                        $('#sirs-tidak-lain').prop('checked', true).change()
                    }
                    if (sirsLain.sirs_komplikasi_lain !== null) {
                        $('#sirs-komplikasi-lain').val(sirsLain.sirs_komplikasi_lain)
                    } else {
                        $('#sirs-komplikasi-lain').val('')
                    }
                    if (sirsLain.sirs_kultur_lain !== null) {
                        $('#sirs-kultur-lain').val(sirsLain.sirs_kultur_lain)
                    } else {
                        $('#sirs-kultur-lain').val('')
                    }

                    if (surveilans.sirs_keluar_rs === 'keluar') {
                        $('#sirs-keluar-rs').prop('checked', true).change()
                    }
                    if (surveilans.sirs_keluar_rs === 'pindah') {
                        $('#sirs-keluar-pindah').prop('checked', true).change()
                    }
                    if (surveilans.sirs_keluar_rs === 'meninggal') {
                        $('#sirs-keluar-meninggal').prop('checked', true).change()
                    }

                    if (surveilans.sirs_tanggal_keluars !== null) {

                        $('#sirs-tanggal-keluars').val(datefmysql(surveilans.sirs_tanggal_keluars));

                    }

                    if (surveilans.sirs_sebab_keluar !== null) {
                        $('#sirs-sebab-keluar').val(surveilans.sirs_sebab_keluar)
                    } else {
                        $('#sirs-sebab-keluar').val('')
                    }
                    if (surveilans.sirs_diagnosis_akhir !== null) {
                        $('#sirs-diagnosis-akhir').val(surveilans.sirs_diagnosis_akhir)
                    } else {
                        $('#sirs-diagnosis-akhir').val('')
                    }

                }

                resetSpiritual();
                let spiritual_pasien = data.spiritual_pasien;
                if (spiritual_pasien !== null) {
                    if (spiritual_pasien.anamnesis_pasien_terima === '1') {
                        $('#plsp-pasien-terima').prop('checked', true).trigger('change');
                    } else if (spiritual_pasien.anamnesis_pasien_terima === '0') {
                        $('#plsp-pasien-tidak-terima').prop('checked', true).trigger('change');
                    }

                    if (spiritual_pasien.anamnesis_pasien_tabah === '1') {
                        $('#plsp-pasien-tabah').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_pasien_tabah === '0') {
                        $('#plsp-pasien-sedih').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_pasien_sabar === '1') {
                        $('#plsp-pasien-sabar').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_pasien_sabar === '0') {
                        $('#plsp-pasien-mengeluh').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_keluarga_terima === '1') {
                        $('#plsp-keluarga-terima').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_keluarga_terima === '0') {
                        $('#plsp-keluarga-tidak-terima').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_keluarga_tabah === '1') {
                        $('#plsp-keluarga-tabah').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_keluarga_tabah === '0') {
                        $('#plsp-keluarga-sedih').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_keluarga_sabar === '1') {
                        $('#plsp-keluarga-sabar').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_keluarga_sabar === '0') {
                        $('#plsp-keluarga-mengeluh').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_ekspresi_senyum === '1') {
                        $('#plsp-ekspresi-senyum').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_ekspresi_senyum === '0') {
                        $('#plsp-ekspresi-sedih').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_ekspresi_ikut === '1') {
                        $('#plsp-ekspresi-mengikuti').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_ekspresi_ikut === '0') {
                        $('#plsp-ekspresi-menolak').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_ekspresi_nasihat === '1') {
                        $('#plsp-ekspresi-nasihat').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_ekspresi_nasihat === '0') {
                        $('#plsp-ekspresi-marah').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_ekspresi_semangat === '1') {
                        $('#plsp-ekspresi-semangat').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_ekspresi_semangat === '0') {
                        $('#plsp-ekspresi-apatis').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_ekspresi_pasrah === '1') {
                        $('#plsp-ekspresi-pasrah').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_ekspresi_pasrah === '0') {
                        $('#plsp-ekspresi-cemas').prop('checked', true).change()
                    }

                    if (spiritual_pasien.anamnesis_penilaian === '1') {
                        $('#plsp-satu-positif').prop('checked', true).change()
                    }
                    if (spiritual_pasien.anamnesis_penilaian === '0') {
                        $('#plsp-satu-negatif').prop('checked', true).change()
                    }

                    if (spiritual_pasien.pemeriksaan_pasien_sebelum === '1') {
                        $('#pasien-belum-disiplin').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_pasien_sebelum === '2') {
                        $('#pasien-belum-kadang').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_pasien_sebelum === '3') {
                        $('#pasien-belum-tidak').prop('checked', true).change()
                    }

                    if (spiritual_pasien.pemeriksaan_pasien_sesudah === '1') {
                        $('#pasien-sudah-disiplin').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_pasien_sesudah === '2') {
                        $('#pasien-sudah-kadang').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_pasien_sesudah === '3') {
                        $('#pasien-sudah-tidak').prop('checked', true).change()
                    }

                    if (spiritual_pasien.pemeriksaan_keluarga_belum === '1') {
                        $('#keluarga-belum-disiplin').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_keluarga_belum === '2') {
                        $('#keluarga-belum-kadang').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_keluarga_belum === '3') {
                        $('#keluarga-belum-tidak').prop('checked', true).change()
                    }

                    if (spiritual_pasien.pemeriksaan_keluarga_sudah === '1') {
                        $('#keluarga-sudah-disiplin').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_keluarga_sudah === '2') {
                        $('#keluarga-sudah-kadang').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_keluarga_sudah === '3') {
                        $('#keluarga-sudah-tidak').prop('checked', true).change()
                    }

                    if (spiritual_pasien.pemeriksaan_media_bersuci === '1') {
                        $('#keluarga-media-wudhu').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_media_bersuci === '2') {
                        $('#keluarga-media-tayamum').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_media_bersuci === '0') {
                        $('#keluarga-tidak-keduanya').prop('checked', true).change()
                    }

                    if (spiritual_pasien.pemeriksaan_penilaian === '1') {
                        $('#plsp-dua-positif').prop('checked', true).change()
                    }
                    if (spiritual_pasien.pemeriksaan_penilaian === '0') {
                        $('#plsp-dua-negatif').prop('checked', true).change()
                    }

                    $('#plsp-kesimpulan-kiri').val(spiritual_pasien.kesimpulan_kiri);



                    var pemeriksaan_keluarga = JSON.parse(spiritual_pasien.pemeriksaan_keluarga);
                    if (pemeriksaan_keluarga.keluarga_hafalan_alfatihah !== '') {
                        $('#keluarga-hafalan-alfatihah').prop('checked', true);
                    }
                    if (pemeriksaan_keluarga.keluarga_hafalan_rukuk !== '') {
                        $('#keluarga-hafalan-rukuk').prop('checked', true);
                    }
                    if (pemeriksaan_keluarga.keluarga_hafalan_sujud !== '') {
                        $('#keluarga-hafalan-sujud').prop('checked', true);
                    }
                    if (pemeriksaan_keluarga.keluarga_hafalan_tasyahud !== '') {
                        $('#keluarga-hafalan-tasyahud').prop('checked', true);
                    }


                    $('#plsp-kesimpulan-kanan').val(spiritual_pasien.kesimpulan_kanan);

                    var rencana_terapi = JSON.parse(spiritual_pasien.rencana_terapi);
                    if (rencana_terapi.rencana_motivasi !== '') {
                        $('#plsp-rencana-motivasi').prop('checked', true);
                    }
                    if (rencana_terapi.pendampingan_umum !== '') {
                        $('#plsp-pendampingan-umum').prop('checked', true);
                    }
                    if (rencana_terapi.fiqih_pasien !== '') {
                        $('#plsp-fiqih-pasien').prop('checked', true);
                    }
                    if (rencana_terapi.pendampingan_khusus !== '') {
                        $('#plsp-pendampingan-khusus').prop('checked', true);
                    }
                    if (rencana_terapi.fiqih_wanita !== '') {
                        $('#plsp-fiqih-wanita').prop('checked', true);
                    }
                    if (rencana_terapi.ruqyah_syariyah !== '') {
                        $('#plsp-ruqyah-syariyah').prop('checked', true);
                    }
                    if (rencana_terapi.bimbingan_doa !== '') {
                        $('#plsp-bimbingan-doa').prop('checked', true);
                    }
                    if (rencana_terapi.terapi_tahajud !== '') {
                        $('#plsp-terapi-tahajud').prop('checked', true);
                    }
                    if (rencana_terapi.bimbingan_membaca !== '') {
                        $('#plsp-bimbingan-membaca').prop('checked', true);
                    }
                    if (rencana_terapi.terapi_dzikir !== '') {
                        $('#plsp-terapi-dzikir').prop('checked', true);
                    }
                    if (rencana_terapi.motivasi_keluarga !== '') {
                        $('#plsp-motivasi-keluarga').prop('checked', true);
                    }
                    if (rencana_terapi.manajemen_nyeri !== '') {
                        $('#plsp-manajemen-nyeri').prop('checked', true);
                    }
                    if (rencana_terapi.anjuran_sedekah !== '') {
                        $('#plsp-anjuran-sedekah').prop('checked', true);
                    }

                    if (spiritual_pasien.perawat_terapi === null) {

                        $('#s2id_perawat-terapi a .select2c-chosen').html('');
                        $('#perawat-terapi').val('');
                        $('#perawat-terapi').select2c('readonly', false);

                    } else {

                        $('#s2id_perawat-terapi a .select2c-chosen').html(spiritual_pasien.p_terapi);
                        $('#perawat-terapi').val(spiritual_pasien.perawat_terapi);
                        $('#perawat-terapi').select2c('readonly', true);

                    }

                    if (spiritual_pasien.ttd_petugas !== null) {
                        $('#plsp-ttd-petugas').hide();
                        $('#plsp_ttd_petugas_verified').show();

                    }

                    if (spiritual_pasien.plsp_tanggal_ttd_petugas !== null) {

                        $('#plsp-tanggal-ttd-petugas').val(datetimefmysql(spiritual_pasien
                            .plsp_tanggal_ttd_petugas));
                        $('#plsp-tanggal-ttd-petugas').attr('disabled', true);

                    }

                }

                //ASESSMENT PRA BEDAH  // APBT
                let asesment_pra_bedah = data.asesment_pra_bedah;
                if (asesment_pra_bedah !== null) {
                    $('#id-apbt').val(asesment_pra_bedah.id);
                    $('#tanggal-dan-waktu-assesment').val(datetimefmysql(asesment_pra_bedah.tanggal_waktu));
                    $('#apb_suhu').val(asesment_pra_bedah.apb_suhu);
                    $('#apb_nadi').val(asesment_pra_bedah.apb_nadi);
                    $('#apb_pernafasan').val(asesment_pra_bedah.apb_pernafasan);
                    $('#apb_tensi_sis').val(asesment_pra_bedah.apb_tensi_sis);
                    $('#apb_tensi_dis').val(asesment_pra_bedah.apb_tensi_dis);
                    $('#apb_berat_badan').val(asesment_pra_bedah.apb_bb);
                    $('#apb_keluhan_utama').val(asesment_pra_bedah.apb_keluhan_utama);
                    $('#apb_rps').val(asesment_pra_bedah.apb_rps);
                    $('#apb_rpt').val(asesment_pra_bedah.apb_riwayat_penyakit_terdahulu);
                    $('#apb_pemeriksaan_fisik').val(asesment_pra_bedah.pemeriksaan_fisik);
                    $('#apb_pemeriksaan_banding').val(asesment_pra_bedah.pemeriksaan_banding);
                    $('#apb_laboratorium').val(asesment_pra_bedah.labolatorium);
                    $('#apb_diagnosis').val(asesment_pra_bedah.diagnosa_pra_bedah);
                    $('#apb_diagnosis_banding').val(asesment_pra_bedah.diagnosis_banding);
                    $('#apb_permasalahan').val(asesment_pra_bedah.permasalahan);
                    $('#apb_rto').val(datetimefmysql(asesment_pra_bedah.tanggal_operasi));
                    $('#apb_tanggal_verifiaksi_dokter_dpjp').val(datetimefmysql(asesment_pra_bedah.apb_tanggal_dokter_dpjp));
                    $('#apb_tanggal_verifiaksi_pasien').val(datetimefmysql(asesment_pra_bedah.apb_tanggal_pasien));
                    $('#apb_pasien_asesment').val(asesment_pra_bedah.apb_pasien);
                    $('#apb_riwayat_hk').val(asesment_pra_bedah.hubungan_keluarga);
                    $('#apb_rto').val(asesment_pra_bedah.apb_rencana_operasi);

                    if (asesment_pra_bedah.apb_rawat_inap == '1') {
                        $('#apb_rawat_inap_ya').prop('checked', true);
                        $('#apb_rawat_inap_indikasi').val(asesment_pra_bedah.apb_rawat_inap_indikasi);
                        $('#apb_rawat_inap_indikasi').attr('disabled', false);
                    } else if (asesment_pra_bedah.apb_rawat_inap == '0') {
                        $('#apb_rawat_inap_tidak').prop('checked', true);
                    }
         
                    if (asesment_pra_bedah.apb_riwayat_alergi == '0') { $('#riwayat_alergi_tidak').prop('checked', true); }
                    if (asesment_pra_bedah.apb_riwayat_alergi == '1') { $('#riwayat_alergi_ya').prop('checked', true); }
                    $('#jenis_riwayat_alergi').val(asesment_pra_bedah.apb_ket_riwayat_alergi);
                    $('#apb-indikasi-ranap').val(asesment_pra_bedah.apb_indikasi_ranap);

                    // Status Nutrisi
                    if (asesment_pra_bedah.apb_status_nutrisi === 'Obesitas') {$('#apb-status-nutrisi-obesitas').prop('checked', true).change()}
                    if (asesment_pra_bedah.apb_status_nutrisi === 'Over Weight') {$('#apb-status-nutrisi-over').prop('checked', true).change()}
                    if (asesment_pra_bedah.apb_status_nutrisi === 'Normo Weight') {$('#apb-status-nutrisi-normo').prop('checked', true).change()}

                    //verifikasi asesment pra bedah
                    if (asesment_pra_bedah.apb_verifikasi_dokter_dpjp == '1') {$('#apb_ttd_dokter_dpjp').prop('checked', true);}
                    if (asesment_pra_bedah.apb_verifikasi_pasien == '1') {$('#apb_ttd_pasien_dpjp').prop('checked', true);}

                    //edukasi asesment pra bedah
                    if (asesment_pra_bedah.is_pasien == '1') {$('#apb_pasien').prop('checked', true);}

                    if (asesment_pra_bedah.is_keluarga == '1') {
                        $('#apb_keluarga').prop('checked', true);
                        $('#apb_keluarga_keterangan').val(asesment_pra_bedah.nama_keluarga);
                    }

                    if (asesment_pra_bedah.is_edukasi == '1') {
                        $('#apb_tidak_edukasi').prop('checked', true);
                        $('#apb_keterangan_edukasi').val(asesment_pra_bedah.alasan_edukasi);
                    }

                    //Dokter DPJP Asessment Pra Bedah
                    $('#apb_dokter_dpjp').val(data.asesment_pra_bedah.id_dokter_dpjp);
                    $('#s2id_apb_dokter_dpjp a .select2c-chosen').html(data.asesment_pra_bedah.dpjp_pra_bedah);

                }

                //ASESSMENT ANESTESI/SEDASI

                let assesmen_anestesi_sedasi = data.assesmen_anestesi_sedasi;

                if (assesmen_anestesi_sedasi !== null) {
                    $('#aas_diagnosis').val(assesmen_anestesi_sedasi.diagnosis_pra_bedah);
                    $('#aas_rot').val(assesmen_anestesi_sedasi.rencana_tindak_operasi);
                    $('#ass_konsumsi_obat').val(assesmen_anestesi_sedasi.konsumsi_obat);
                    $('#aas_bb').val(assesmen_anestesi_sedasi.berat_badan);
                    $('#aas_tb').val(assesmen_anestesi_sedasi.tinggi_badan);
                    $('#aas_td').val(assesmen_anestesi_sedasi.tekanan_darah);
                    $('#aas_rr').val(assesmen_anestesi_sedasi.rr);
                    $('#aas_hb').val(assesmen_anestesi_sedasi.hematologi_hb);
                    $('#aas_hct').val(assesmen_anestesi_sedasi.hematologi_hct);
                    $('#aas_leukosit').val(assesmen_anestesi_sedasi.hematologi_leukosit);
                    $('#aas_trombosit').val(assesmen_anestesi_sedasi.hematologi_trombosit);
                    $('#aas_ppt').val(assesmen_anestesi_sedasi.hematologi_ppt);
                    $('#aas_appt').val(assesmen_anestesi_sedasi.hematologi_appt);
                    $('#aas_na').val(assesmen_anestesi_sedasi.elektrolit_na);
                    $('#aas_k').val(assesmen_anestesi_sedasi.elektrolit_k);
                    $('#aas_ca').val(assesmen_anestesi_sedasi.elektrolit_ca);
                    $('#aas_cl').val(assesmen_anestesi_sedasi.elektrolit_cl);
                    $('#aas_ureum').val(assesmen_anestesi_sedasi.fungsi_ginjal_ureum);
                    $('#aas_creatin').val(assesmen_anestesi_sedasi.fungsi_ginjal_creatinin);
                    $('#aas_gda').val(assesmen_anestesi_sedasi.endokorin_gda);
                    $('#aas_gdp').val(assesmen_anestesi_sedasi.endokorin_gdp);
                    $('#aas_gdajampp').val(assesmen_anestesi_sedasi.endokorin_gdjampp);
                    $('#aas_t3').val(assesmen_anestesi_sedasi.endokorin_ttiga);
                    $('#aas_t4').val(assesmen_anestesi_sedasi.endokorin_tempat);
                    $('#aas_tshs').val(assesmen_anestesi_sedasi.endokorin_tshs);
                    $('#aas_tshs').val(assesmen_anestesi_sedasi.agd_ph);
                    $('#aas_pco2').val(assesmen_anestesi_sedasi.agd_pcodua);
                    $('#aas_po2').val(assesmen_anestesi_sedasi.agd_podua);
                    $('#aas_be').val(assesmen_anestesi_sedasi.agd_be);
                    $('#aas_spo2').val(assesmen_anestesi_sedasi.agd_spodua);
                    $('#aas_ekg').val(assesmen_anestesi_sedasi.penunjang_ekg);
                    $('#aas_xray').val(assesmen_anestesi_sedasi.penunjang_xray);
                    $('#aas_echocardiograph').val(assesmen_anestesi_sedasi.penunjang_echocardiograph);
                    $('#aas_ctscan').val(assesmen_anestesi_sedasi.penunjang_ctscan);
                    $('#aas_faal_paru').val(assesmen_anestesi_sedasi.penunjang_faal_paru);
                    $('#aas_lain_lain').val(assesmen_anestesi_sedasi.penunjang_lain);
                    $('#aas_sedasi').val(assesmen_anestesi_sedasi.tas_sedasi);
                    $('#aas_ga').val(assesmen_anestesi_sedasi.tas_ga);
                    $('#aas_penylit').val(assesmen_anestesi_sedasi.penyulit);
                    $('#aas_puasa').val(assesmen_anestesi_sedasi.puasa);
                    $('#aas_premedikal').val(assesmen_anestesi_sedasi.premedikal);
                    $('#aas_catatan').val(assesmen_anestesi_sedasi.catatan_pra_anestesi);
                    $('#an_tanggal_pemeriksaan_pasien').val(assesmen_anestesi_sedasi.tanggal_waktu);

                    // Pemeriksa Anestesi 

                    $('#s2id_pemeriksa_asesmen_anestesi a .select2c-chosen').html(assesmen_anestesi_sedasi
                        .id_perawat_medis);

                    //verfikasi pemeriksa assesment anestesi
                    if (assesmen_anestesi_sedasi.verifikasi_pemeriksa == '1') {
                        $('#aas-pemeriksa').prop('checked', true);

                    }

                    //anamnesa dari asessmen anestesi/sedasi
                    if (assesmen_anestesi_sedasi.anamnesa_dari === 'Pasien') {
                        $('#aas_pasien_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.anamnesa_dari === 'Keluarga') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.anamnesa_dari === 'Lainnya') {

                        $('#aas_lainnya_anamnesa').prop('checked', true).change();
                        $('#aas_riwayat_lainnya').val(assesmen_anestesi_sedasi.ket_anamnesa_dari).attr(
                            'disabled', false);

                    }

                    //riwayat anestesi/sedasi

                    if (assesmen_anestesi_sedasi.riwayat_anestesi === 'Ada') {
                        $('#aas_riwayat_anestesi_ada').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.riwayat_anestesi === 'Tidak Ada') {
                        $('#aas_riwayat_anestesi_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.riwayat_anestesi === 'riwayat anestesi') {

                        $('#aas_riwayat_anestesi_lainnya').prop('checked', true).change();
                        $('#riwayat_anestesi_lain').val(assesmen_anestesi_sedasi.ket_riwayat_anestesi).attr(
                            'disabled', false);

                    }

                    // komplikasi anestesi/sedasi
                    if (assesmen_anestesi_sedasi.komplikasi === 'Ada') {
                        $('#aas_komplikasi_anestesi_ada').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.komplikasi === 'Tidak Ada') {
                        $('#aas_komplikasi_anestesi_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.komplikasi === 'komplikasi anestesi') {

                        $('#aas_komplikasi_anestesi_lainnya').prop('checked', true).change();
                        $('#aas_komplikasi_anestesi_lain').val(assesmen_anestesi_sedasi.ket_komplikasi).attr(
                            'disabled', false);

                    }

                    // Riwayat Alergi anestesi/sedasi
                    if (assesmen_anestesi_sedasi.riwayat_alergi === 'Ada') {
                        $('#riwayat_alergi_ada').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.riwayat_alergi === 'Tidak Ada') {
                        $('#riwayat_alergi_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.riwayat_alergi === 'Keterangan') {

                        $('#riwayat_alergi_lainnya').prop('checked', true).change();
                        $('#aas_riwayat_alergi_lain').val(assesmen_anestesi_sedasi.ket_riwayat_alergi).attr(
                            'disabled', false);

                    }

                    //Skor Nyeri Anestesi/Sedasi
                    if (assesmen_anestesi_sedasi.skor_nyeri === '1') {
                        $('#aas_skor_nyeri_satu').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.skor_nyeri === '2') {
                        $('#aas_skor_nyeri_dua').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.skor_nyeri === '3') {
                        $('#aas_skor_nyeri_tiga').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.skor_nyeri === '4') {
                        $('#aas_skor_nyeri_empat').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.skor_nyeri === '5') {
                        $('#aas_skor_nyeri_lima').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.skor_nyeri === '6') {
                        $('#aas_skor_nyeri_enam').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.skor_nyeri === '8') {
                        $('#aas_skor_nyeri_delapan').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.skor_nyeri === '9') {
                        $('#aas_skor_nyeri_sembilan').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.skor_nyeri === '10') {
                        $('#aas_skor_nyeri_sepuluh').prop('checked', true).change()
                    }

                    //Evaluasi Jalan Nafas Anestesi/Sedasi
                    if (assesmen_anestesi_sedasi.bebas === 'Tidak') {
                        $('#aas_evaluasi_bebas_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.bebas === 'Ya') {
                        $('#aas_evaluasi_bebas_ya').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.protrusi_mandibula === 'Tidak') {
                        $('#aas_mandi_bula_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.protrusi_mandibula === 'Ya') {
                        $('#aas_evaluasi_bebas_ya').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.buka_mulut == '1') {
                        $('#aas_buka_mulut_normal').prop('checked', true);
                        $('#aas_riwayat_buka_mulut').val(assesmen_anestesi_sedasi.ket_buka_mulut);
                        $('#aas_riwayat_buka_mulut').attr('disabled', false);
                    } else if (assesmen_anestesi_sedasi.buka_mulut == '0') {
                        $('#aas_buka_mulut_tidak').prop('checked', true);
                    }

                    if (assesmen_anestesi_sedasi.jarak_mentohyoid == '1') {
                        $('#aas_mentohyoid_normal').prop('checked', true);
                        $('#aas_mentohyoid_riwayat').val(assesmen_anestesi_sedasi.ket_jarak_mentohyoid);
                        $('#aas_mentohyoid_riwayat').attr('disabled', false);
                    } else if (assesmen_anestesi_sedasi.jarak_mentohyoid == '0') {
                        $('#aas_mentohyoid_tidak').prop('checked', true);
                    }

                    if (assesmen_anestesi_sedasi.aas_jarak_hyothyoroid == '1') {
                        $('#aas_jarak_hyothyoroid_ya').prop('checked', true);
                        $('#aas_ket_jarak_hyothyoroid').val(assesmen_anestesi_sedasi.aas_jarak_hyothyoroid);
                        $('#aas_ket_jarak_hyothyoroid').attr('disabled', false);
                    } else if (assesmen_anestesi_sedasi.aas_jarak_hyothyoroid == '0') {
                        $('#aas_jarak_hyothyoroid_tidak').prop('checked', true);
                    }

                    if (assesmen_anestesi_sedasi.leher === 'Tidak') {
                        $('#aas_leher_anestesi_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.leher === 'Panjang') {
                        $('#aas_leher_anestesi_ya').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.gerak_leher === 'Tidak') {
                        $('#aas_gerak_leher_anestesi_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.gerak_leher === 'Bebas') {
                        $('#aas_gerak_leher_anestesi_bebas').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.mallampathy === '1') {
                        $('#aas_mallamapathy_satu').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.mallampathy === '2') {
                        $('#aas_mallamapathy_dua').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.mallampathy === '3') {
                        $('#aas_mallamapathy_tiga').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.mallampathy === '4') {
                        $('#aas_mallamapathy_empat').prop('checked', true).change()
                    }


                    if (assesmen_anestesi_sedasi.obesitas === 'Tidak') {
                        $('#aas_obestitas_anestei_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.obesitas === 'Ya') {
                        $('#aas_obestitas_anestei_ya').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.massa === 'Tidak') {
                        $('#aas_massa_anestesi_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.massa === 'Ya') {
                        $('#aas_massa_anestesi_ya').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.gigi_palsu === 'Tidak') {
                        $('#aas_gigi_palsu_anestesi_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.gigi_palsu === 'Ya') {
                        $('#aas_gigi_palsu_anestesi_ya').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.sulit_ventilasi === 'Tidak') {
                        $('#aas_sulit_ventilasi_anestesi_tidak').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.sulit_ventilasi === 'Ya') {
                        $('#aas_sulit_ventilasi_anestesi_tidak').prop('checked', true).change()
                    }

                    // Fungsi Sistem Organ
                    //Pernafasan

                    var pernafasan = JSON.parse(assesmen_anestesi_sedasi.pernafasan);
                    if (pernafasan.aas_asma !== '') {
                        $('#aas_asma').prop('checked', true);
                    }
                    if (pernafasan.aas_batuk_produktif !== '') {
                        $('#aas_batuk_produktif').prop('checked', true);
                    }
                    if (pernafasan.aas_bronchitis !== '') {
                        $('#aas_bronchitis').prop('checked', true);
                    }
                    if (pernafasan.aas_ispa !== '') {
                        $('#aas_ispa').prop('checked', true);
                    }
                    if (pernafasan.aas_dyspnea !== '') {
                        $('#aas_dyspnea').prop('checked', true);
                    }
                    if (pernafasan.aas_ppok !== '') {
                        $('#aas_ppok').prop('checked', true);
                    }
                    if (pernafasan.orthopnea_anestesi !== '') {
                        $('#orthopnea_anestesi').prop('checked', true);
                    }
                    if (pernafasan.aas_tuberkulosis !== '') {
                        $('#aas_tuberkulosis').prop('checked', true);
                    }
                    if (pernafasan.aas_pneumonia !== '') {
                        $('#aas_pneumonia').prop('checked', true);
                    }
                    if (pernafasan.aas_efusi_pleura !== '') {
                        $('#aas_efusi_pleura').prop('checked', true);
                    }

                    //Kardiovaskular
                    var kardiovaskular = JSON.parse(assesmen_anestesi_sedasi.kardiovaskular);
                    if (kardiovaskular.aas_angina !== '') {
                        $('#aas_angina').prop('checked', true);
                    }
                    if (kardiovaskular.aas_ht !== '') {
                        $('#aas_ht').prop('checked', true);
                    }
                    if (kardiovaskular.aas_pancamaker !== '') {
                        $('#aas_pancamaker').prop('checked', true);
                    }
                    if (kardiovaskular.aas_pjk !== '') {
                        $('#aas_pjk').prop('checked', true);
                    }
                    if (kardiovaskular.aas_disritmia !== '') {
                        $('#aas_disritmia').prop('checked', true);
                    }
                    if (kardiovaskular.aas_pjr !== '') {
                        $('#aas_pjr').prop('checked', true);
                    }
                    if (kardiovaskular.aas_limitasi_aktivitas !== '') {
                        $('#aas_limitasi_aktivitas').prop('checked', true);
                    }
                    if (kardiovaskular.aas_chd !== '') {
                        $('#aas_chd').prop('checked', true);
                    }
                    if (kardiovaskular.aas_jantung_katup !== '') {
                        $('#aas_jantung_katup').prop('checked', true);
                    }
                    if (kardiovaskular.aas_murmur !== '') {
                        $('#aas_murmur').prop('checked', true);
                    }

                    //Neuro
                    var neuro_maskuloskeletal = JSON.parse(assesmen_anestesi_sedasi.neuro_maskuloskeletal);

                    if (neuro_maskuloskeletal.aas_kelemahan_otot !== '') {
                        $('#aas_kelemahan_otot').prop('checked', true);
                    }
                    if (neuro_maskuloskeletal.aas_stroke !== '') {
                        $('#aas_stroke').prop('checked', true);
                    }
                    if (neuro_maskuloskeletal.aas_keluhan_punggung !== '') {
                        $('#aas_keluhan_punggung').prop('checked', true);
                    }
                    if (neuro_maskuloskeletal.aas_kejang !== '') {
                        $('#aas_kejang').prop('checked', true);
                    }
                    if (neuro_maskuloskeletal.aas_nyeri_kepala !== '') {
                        $('#aas_nyeri_kepala').prop('checked', true);
                    }
                    if (neuro_maskuloskeletal.aas_epilepsi !== '') {
                        $('#aas_epilepsi').prop('checked', true);
                    }
                    if (neuro_maskuloskeletal.aas_penurunan_kesadaran !== '') {
                        $('#aas_penurunan_kesadaran').prop('checked', true);
                    }
                    if (neuro_maskuloskeletal.aas_sop !== '') {
                        $('#aas_sop').prop('checked', true);
                    }

                    //Renal
                    var renal_endokrin = JSON.parse(assesmen_anestesi_sedasi.renal_endokrin);

                    if (renal_endokrin.aas_dm !== '') {
                        $('#aas-dm').prop('checked', true);
                    }
                    if (renal_endokrin.aas_peny_thiroid !== '') {
                        $('#aas-peny-thiroid').prop('checked', true);
                    }
                    if (renal_endokrin.aas_penyakit_gigi !== '') {
                        $('#aas-penyakit-gigi').prop('checked', true);
                    }
                    if (renal_endokrin.aas_penyakit_lain !== '') {
                        $('#aas-penyakit-lain').prop('checked', true);
                    }

                    //Hepato
                    var hepato = JSON.parse(assesmen_anestesi_sedasi.hepato);

                    if (hepato.aas_obstruksi_usus !== '') {
                        $('#aas-obstruksi-usus').prop('checked', true);
                    }
                    if (hepato.aas_sirosis !== '') {
                        $('#aas-sirosis').prop('checked', true);
                    }
                    if (hepato.aas_heptitis !== '') {
                        $('#aas-hepatitis').prop('checked', true);
                    }
                    if (hepato.aas_tukak_peptik !== '') {
                        $('#aas-tukak-petik').prop('checked', true);
                    }
                    if (hepato.aas_refluks !== '') {
                        $('#aas-refluks').prop('checked', true);
                    }
                    if (hepato.aas_mual !== '') {
                        $('#aas-mual').prop('checked', true);
                    }

                    //Lain-lain
                    var lain_lain = JSON.parse(assesmen_anestesi_sedasi.lain_lain);

                    if (lain_lain.aas_hemofilia !== '') {
                        $('#aas-hemofilia').prop('checked', true);
                    }
                    if (lain_lain.aas_anemia !== '') {
                        $('#aas-anemia').prop('checked', true);
                    }
                    if (lain_lain.aas_bleeding_tendencies !== '') {
                        $('#aas-bleeding-tendencies').prop('checked', true);
                    }
                    if (lain_lain.aas_hamil !== '') {
                        $('#aas-hamil').prop('checked', true);
                    }
                    if (lain_lain.aas_antikoagula !== '') {
                        $('#aas-antikoagula').prop('checked', true);
                    }
                    if (lain_lain.aas_kanker !== '') {
                        $('#aas-kanker').prop('checked', true);
                    }
                    if (lain_lain.aas_riwayat_transfusi !== '') {
                        $('#aas-riwayat-transfusi').prop('checked', true);
                    }
                    if (lain_lain.aas_geriatri !== '') {
                        $('#aas_geriatri').prop('checked', true);
                    }
                    if (lain_lain.aas_imunosupresan !== '') {
                        $('#aas-imunosupresan').prop('checked', true);
                    }
                    if (lain_lain.aas_dehidrasi !== '') {
                        $('#aas-dehidrasi').prop('checked', true);
                    }
                    if (lain_lain.aas_neonatus !== '') {
                        $('#aas-neonatus').prop('checked', true);
                    }

                    // Regional
                    if (assesmen_anestesi_sedasi.tas_regional === 'spinal') {
                        $('#aas_spinal').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_regional === 'epidural') {
                        $('#aas_epidural').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_regional === 'kaudal') {
                        $('#aas_kaudal').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_regional === 'prifer') {
                        $('#aas_block_prifer').prop('checked', true).change()
                    }

                    //Tenik Khusus
                    if (assesmen_anestesi_sedasi.tas_teknik_khusus === 'Hipotensi') {
                        $('#aas_pasien_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_teknik_khusus === 'Ventilasi Paru') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_teknik_khusus === 'TCI') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_teknik_khusus === 'lainnya') {

                        $('#aas_tk_lainnya').prop('checked', true).change();
                        $('#aas_komplikasi_anestesi_lain').val(assesmen_anestesi_sedasi.tas_teknik_khusus_lain)
                            .attr('disabled', false);

                    }

                    //Monitoring
                    if (assesmen_anestesi_sedasi.tas_monitoring === 'EKG Lead') {
                        $('#aas_pasien_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_monitoring === 'SpO2') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_monitoring === 'NIBP') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_monitoring === 'Temp') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_monitoring === 'CVP') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_monitoring === 'Ateri Line') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_monitoring === 'ELCO2') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_monitoring === 'BIS') {
                        $('#aas_keluarga_anamnesa').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.tas_monitoring === 'Lainnya') {

                        $('#tas_monitoring_lain').prop('checked', true).change();
                        $('#aas_riwayat_tas_lain').val(assesmen_anestesi_sedasi.tas_monitoring_lain).attr(
                            'disabled', false);

                    }

                    //Alat Khusus
                    if (assesmen_anestesi_sedasi.tas_alat_khusus === 'Bronchoscopy') {
                        $('#aas_bronchoscopy').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_alat_khusus === 'Glidecsope') {
                        $('#aas_glidecsope').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_alat_khusus === 'USG') {
                        $('#aas_usg').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.tas_monitoring === 'lainnya') {

                        $('#aas_alat_khusus_lain').prop('checked', true).change();
                        $('#aas_ak_riwayat_lainnya').val(assesmen_anestesi_sedasi.tas_alat_khusus_lain).attr(
                            'disabled', false);

                    }

                    //Perawatan Pasca Anestesi
                    if (assesmen_anestesi_sedasi.tas_perawatan_anestesi === 'Rawat Inap') {
                        $('#aas_rawat_inap').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_perawatan_anestesi === 'Rawat Jalan') {
                        $('#aas_rawat_jalan').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_perawatan_anestesi === 'Rawat Khusus') {
                        $('#aas_rawat_khusus').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_perawatan_anestesi === 'ICU') {
                        $('#aas_icu').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_perawatan_anestesi === 'HCU') {
                        $('#aac_hcu').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.tas_perawatan_anestesi === 'APS') {
                        $('#aas_aps').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.tas_perawatan_anestesi === 'lainnya') {

                        $('#aas_ppa_lainnya').prop('checked', true).change();
                        $('#aas_ppa_riwayat_lain').val(assesmen_anestesi_sedasi.tas_perawatan_anestesi_lain)
                            .attr('disabled', false);

                    }

                    //PS ASA
                    if (assesmen_anestesi_sedasi.ps_asa === '1') {
                        $('#aas_ps_asa_satu').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.ps_asa === '2') {
                        $('#aas_ps_asa_dua').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.ps_asa === '3') {
                        $('#aas_ps_asa_tiga').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.ps_asa === '4') {
                        $('#aas_ps_asa_empat').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.ps_asa === '5') {
                        $('#aas_ps_asa_lima').prop('checked', true).change()
                    }
                    if (assesmen_anestesi_sedasi.ps_asa === 'E') {
                        $('#aas_ps_asa_e').prop('checked', true).change()
                    }

                }

                //TRANSFER PASIEN INTRA RUMAH SAKIT

                let transfer_pasien_intra_rumah_sakit = data.transfer_pasien_intra_rumah_sakit;

                if (transfer_pasien_intra_rumah_sakit != null) {

                    $('#tanggal_masuk_pasien_tf').val(transfer_pasien_intra_rumah_sakit.tanggal_waktu_masuk);
                    $('#tanggal_pindah_pasien_tf').val(transfer_pasien_intra_rumah_sakit.tanggal_waktu_pindah);
                    $('#ruangan_asal_pasien').val(transfer_pasien_intra_rumah_sakit.ruang_asal);
                    $('#tpi_tujuan_ruang_rawat').val(transfer_pasien_intra_rumah_sakit.tujuan_ruang_selanjutnya);
                    $('#tpi_diagnosis_utama').val(transfer_pasien_intra_rumah_sakit.diagnosis_utama);
                    $('#tpi_diagnosis_sekunder').val(transfer_pasien_intra_rumah_sakit.diagnosis_sekunder);
                    $('#tpi_dpjp').val(transfer_pasien_intra_rumah_sakit.id_dpjp);
                    $('#tpi_indikasi_masuk_rs').val(transfer_pasien_intra_rumah_sakit.indikasi_masuk);
                    $('#tpi_riwayat_kesehatan').val(transfer_pasien_intra_rumah_sakit.riwayat_kesehatan);
                    $('#tpi_tensi_sis').val(transfer_pasien_intra_rumah_sakit.kewaspadaan);
                    $('#tensi_dis').val(transfer_pasien_intra_rumah_sakit.kewaspadaan_lain);
                    $('#kesadaran').val(transfer_pasien_intra_rumah_sakit.kesadaran);

                    $('#tpi_suhu').val(transfer_pasien_intra_rumah_sakit.gcs);
                    $('#tpi_nadi').val(transfer_pasien_intra_rumah_sakit.gcs);
                    $('#tpi_nadi').val(transfer_pasien_intra_rumah_sakit.gcs);
                    $('#tpi_tinggi_badan').val(transfer_pasien_intra_rumah_sakit.gcs);
                    $('#tpi_berat_badan').val(transfer_pasien_intra_rumah_sakit.gcs);
                    $('#keadaan-umum-tpi-pasien').val(transfer_pasien_intra_rumah_sakit.gcs);
                    $('#tpi-infus').val(transfer_pasien_intra_rumah_sakit.pemberian_therapi_infus);
                    $('#tpi-obat').val(transfer_pasien_intra_rumah_sakit.pemberian_terapi_obat);
                    $('#tindakan_medis_pasien_tpi').val(transfer_pasien_intra_rumah_sakit.catatan_tindak_medis);
                    $('#keadaan-umum-tpi').val(transfer_pasien_intra_rumah_sakit.keadaan_umum_pasien_sebelum);
                    $('#kesadaran_kondisi_pasien_sebelum').val(transfer_pasien_intra_rumah_sakit
                        .kesadaran_kondisi_pasien_sebelum);
                    $('#tpi-catatan').val(transfer_pasien_intra_rumah_sakit.catatan_sebelum);
                    $('#tpi-masalah-transfer-pasien').val(transfer_pasien_intra_rumah_sakit
                        .masalah_transfer_sebelum);
                    $('#tpi-penanganan-masalah').val(transfer_pasien_intra_rumah_sakit
                        .penanganan_masalah_sebelum);
                    $('#tpi-keadaan-umum-setelah-tf').val(transfer_pasien_intra_rumah_sakit
                        .kedaan_umum_sesudah);
                    $('#kesadaran_pasien_sudah_transfer').val(transfer_pasien_intra_rumah_sakit
                        .kesadaran_pasien_sudah_transfer);




                    //Kewaspadaan
                    if (transfer_pasien_intra_rumah_sakit.kewaspadaan === 'Precaution standar') {
                        $('#tpi_precaution_standar').prop('checked', true).change()
                    }
                    if (transfer_pasien_intra_rumah_sakit.kewaspadaan === 'Contac') {
                        $('#tpi_contact').prop('checked', true).change()
                    }
                    if (transfer_pasien_intra_rumah_sakit.kewaspadaan === 'Airbone') {
                        $('#tpi_airbone').prop('checked', true).change()
                    }
                    if (transfer_pasien_intra_rumah_sakit.kewaspadaan === 'Droplet') {
                        $('#tpi_droplet').prop('checked', true).change()
                    }

                    if (assesmen_anestesi_sedasi.tas_perawatan_anestesi === 'Lainnya') {

                        $('#tpi_kewaspadaan_lain').prop('checked', true).change();
                        $('#tpi_riwayat_kewaspadan').val(transfer_pasien_intra_rumah_sakit.kewaspadaan).attr(
                            'disabled', false);

                    }

                    // Alergi
                    if (transfer_pasien_intra_rumah_sakit.alergi == 'Ya') {
                        $('#alergi-tpi-pasien-ya').prop('checked', true);
                        $('#alergi-tpi-pasien-riwayat').val(transfer_pasien_intra_rumah_sakit
                            .riwayat_alergi_lain);
                        $('#alergi-tpi-pasien-riwayat').attr('disabled', false);
                    } else if (transfer_pasien_intra_rumah_sakit.alergi == 'Tidak') {
                        $('#alergi-tpi-pasien-tidak').prop('checked', true);
                    }

                    //Skala Nyeri
                    if (transfer_pasien_intra_rumah_sakit.skala_nyeri == 'Ya') {
                        $('#skala_nyeri_pasien_tpi_ya').prop('checked', true);
                        $('#riwayat_nyeri_pasien_tpi').val(transfer_pasien_intra_rumah_sakit.skala_nyeri_lain);
                        $('#riwayat_nyeri_pasien_tpi').attr('disabled', false);
                    } else if (transfer_pasien_intra_rumah_sakit.skala_nyeri == 'Tidak') {
                        $('#skala_nyeri_pasien_tpi_tidak').prop('checked', true);
                    }

                    //Resiko Jatuh 
                    if (transfer_pasien_intra_rumah_sakit.resiko_jatuh == 'Ya') {
                        $('#resiko_jatuh_pasien_tpi_ya').prop('checked', true);
                        $('#riwayat_resiko_jatuh_pasien_tpi').val(transfer_pasien_intra_rumah_sakit
                            .ket_resiko_jatuh);
                        $('#riwayat_resiko_jatuh_pasien_tpi').attr('disabled', false);
                    } else if (transfer_pasien_intra_rumah_sakit.resiko_jatuh == 'Tidak') {
                        $('#resiko_jatuh_pasien_tpi_tidak').prop('checked', true);
                    }

                    //Mobilisasi
                    if (transfer_pasien_intra_rumah_sakit.mobilisasi_pasien === 'Jalan') {
                        $('#mobilisasi_pasien_tpi_jalan').prop('checked', true).change()
                    }
                    if (transfer_pasien_intra_rumah_sakit.mobilisasi_pasien === 'Duduk') {
                        $('#mobilisasi_pasien_tpi_duduk').prop('checked', true).change()
                    }
                    if (transfer_pasien_intra_rumah_sakit.mobilisasi_pasien === 'Tirah Barang') {
                        $('#mobilisasi_pasien_tpi_tirah_barang').prop('checked', true).change()
                    }

                    // Mobilisasi Saat Transfer
                    if (transfer_pasien_intra_rumah_sakit.mobilisasi_transfer === 'Mandiri') {
                        $('#mobilisasi_pasien_tpi_mandiri').prop('checked', true).change()
                    }
                    if (transfer_pasien_intra_rumah_sakit.mobilisasi_transfer === 'Dibantu Sebagian') {
                        $('#mobilisasi_pasien_tpi_dibantu_sebagian').prop('checked', true).change()
                    }
                    if (transfer_pasien_intra_rumah_sakit.mobilisasi_transfer === 'Dibantu Penuh') {
                        $('#mobilisasi_pasien_tpi_tirah_diabantu_penuh').prop('checked', true).change()
                    }

                    // Resiko Dekubitus
                    if (transfer_pasien_intra_rumah_sakit.resiko_dekubitus == 'Ya') {
                        $('#resiko_dekubitus_pasien_tpi_ya').prop('checked', true);
                        $('#riwayat_resiko_dekubitus_pasien_tpi').val(transfer_pasien_intra_rumah_sakit
                            .ket_resiko_dekubitus);
                        $('#riwayat_resiko_dekubitus_pasien_tpi').attr('disabled', false);
                    } else if (transfer_pasien_intra_rumah_sakit.resiko_dekubitus == 'Tidak') {
                        $('#resiko_dekubitus_pasien_tpi_tidak').prop('checked', true);
                    }

                    //Pasien Memakai Peralatan Medis
                    if (transfer_pasien_intra_rumah_sakit.peralatan_medis_infus == 'Infus') {
                        $('#infus_pasien_tpi').prop('checked', true);
                        $('#tpi-tanggal-infus').val(transfer_pasien_intra_rumah_sakit.tanggal_pemasangan_infus);
                        $('#tpi-tanggal-infus').attr('disabled', false);
                    }

                    if (transfer_pasien_intra_rumah_sakit.peralatan_medis_ngt == 'NGT') {
                        $('#ngt_pasien_tf').prop('checked', true);
                        $('#tpi-tanggal-ngt').val(transfer_pasien_intra_rumah_sakit.tanggal_ngt);
                        $('#tpi-tanggal-ngt').attr('disabled', false);
                    }

                    if (transfer_pasien_intra_rumah_sakit.peralatan_medis_ett == 'ETT') {
                        $('#ett_pasien_tf').prop('checked', true);
                        $('#tpi-tanggal-ett').val(transfer_pasien_intra_rumah_sakit.tanggal_ett);
                        $('#tpi-tanggal-ett').attr('disabled', false);
                    }

                    if (transfer_pasien_intra_rumah_sakit.peralatan_medis_cvc == 'ETT') {
                        $('#cvc_pasien_tf').prop('checked', true);
                        $('#tpi-tanggal-cvc').val(transfer_pasien_intra_rumah_sakit.tanggal_cvc);
                        $('#tpi-tanggal-cvc').attr('disabled', false);
                    }

                    if (transfer_pasien_intra_rumah_sakit.perlatan_medis_dc == 'ETT') {
                        $('#dc_pasien_tf').prop('checked', true);
                        $('#tpi-tanggal-dc').val(transfer_pasien_intra_rumah_sakit.tanggal_dc);
                        $('#tpi-tanggal-dc').attr('disabled', false);
                    }

                    if (transfer_pasien_intra_rumah_sakit.peralatan_medis_lain == 'ETT') {
                        $('#lainnya_tf').prop('checked', true);
                        $('#tpi-tanggal-lain').val(transfer_pasien_intra_rumah_sakit.tanggal_lain);
                        $('#tpi-tanggal-lain').attr('disabled', false);
                    }

                    if (transfer_pasien_intra_rumah_sakit.peralatan_medis === 'Pump') {
                        $('#tpi_pump').prop('checked', true).change()
                    }
                    if (transfer_pasien_intra_rumah_sakit.peralatan_medis === 'Bidai') {
                        $('#tpi_bidai').prop('checked', true).change()
                    }

                    //Pemeriksaan Penunjang
                    if (transfer_pasien_intra_rumah_sakit.penunjang_labolatorium == 'Labolatorium') {
                        $('#tpi-labolatorium').prop('checked', true);
                        $('#tpi-lab-lain').val(transfer_pasien_intra_rumah_sakit.ket_penunjang_lab);
                        $('#tpi-lab-lain').attr('disabled', false);
                    }

                    if (transfer_pasien_intra_rumah_sakit.penunjang_radiologi == 'Radiologi') {
                        $('#tpi-radiologi').prop('checked', true);
                        $('#tpi-rad-lain').val(transfer_pasien_intra_rumah_sakit.ket_penunjang_rad);
                        $('#tpi-rad-lain').attr('disabled', false);
                    }

                    if (transfer_pasien_intra_rumah_sakit.penunjang_lain == 'Penunjang Lain') {
                        $('#tpi-penunjang-lainnya').prop('checked', true);
                        $('#tpi-riwayat-penunjang-lain').val(transfer_pasien_intra_rumah_sakit
                            .ket_penunjang_lain);
                        $('#tpi-riwayat-penunjang-lain').attr('disabled', false);
                    }

                }


                if (typeof data.masalah_rawat !== 'undefined' | data.masalah_rawat !== null) {

                    showMasalahRawat(data.masalah_rawat, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-masalah-keperawatan tbody').empty();

                }

                if (typeof data.pengkajian_ulang !== 'undefined' | data.pengkajian_ulang !== null) {

                    showKajiUlang(data.pengkajian_ulang, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-pengkajian-ulang tbody').empty();

                }

                if (typeof data.pemantauan_ulang !== 'undefined' | data.pemantauan_ulang !== null) {

                    showPemantauan(data.pemantauan_ulang, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-pengkajian-pemantauan tbody').empty();

                }

                if (typeof data.pemantauan_sholat !== 'undefined' | data.pemantauan_sholat !== null) {

                    showPantauSholat(data.pemantauan_sholat, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-pemantauan-sholat tbody').empty();

                }

                if (typeof data.sirs_ruang_rawat !== 'undefined' | data.sirs_ruang_rawat !== null) {

                    showRuangRawat(data.sirs_ruang_rawat, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#table-ruang-rawat tbody').empty();

                }

                if (typeof data.sirs_pemasangan_alat !== 'undefined' | data.sirs_pemasangan_alat !== null) {

                    showPemasanganAlat(data.sirs_pemasangan_alat);

                } else {

                    $('#table-pemasangan-alat tbody').empty();

                }

                if (typeof data.sirs_pemakaian_antibiotika !== 'undefined' | data.sirs_pemakaian_antibiotika !==
                    null) {

                    showPemakaianAntibiotika(data.sirs_pemakaian_antibiotika);

                } else {

                    $('#table-pemakaian-antibiotika tbody').empty();

                }

                if (typeof data.bukti_visit_dokter !== 'undefined' | data.bukti_visit_dokter !== null) {

                    showBuktiVisitDokter(data.bukti_visit_dokter, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-data-visit tbody').empty();

                }

                if (typeof data.daftar_dokter_dpjp !== 'undefined' | data.daftar_dokter_dpjp !== null) {

                    showDaftarDPJP(data.daftar_dokter_dpjp, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#table-daftar-dokter-dpjp tbody').empty();

                }

                if (typeof data.catatan_operan_perawat_pagi !== 'undefined' | data
                    .catatan_operan_perawat_pagi !== null) {

                    showCatatanOperanPerawatPagi(data.catatan_operan_perawat_pagi, id_pendaftaran,
                        id_layanan_pendaftaran, bed);

                } else {

                    $('#table-catatan-operan-perawat-pagi tbody').empty();

                }

                if (typeof data.catatan_operan_perawat_sore !== 'undefined' | data
                    .catatan_operan_perawat_sore !== null) {

                    showCatatanOperanPerawatSore(data.catatan_operan_perawat_sore, id_pendaftaran,
                        id_layanan_pendaftaran, bed);

                } else {

                    $('#table-catatan-operan-perawat-sore tbody').empty();

                }

                if (typeof data.catatan_operan_perawat_malam !== 'undefined' | data
                    .catatan_operan_perawat_malam !== null) {

                    showCatatanOperanPerawatMalam(data.catatan_operan_perawat_malam, id_pendaftaran,
                        id_layanan_pendaftaran, bed);

                } else {

                    $('#table-catatan-operan-perawat-malam tbody').empty();

                }

                if (typeof data.rencana_keperawatan !== 'undefined' | data.rencana_keperawatan !== null) {

                    showRencanaTindakanKeperawatan(data.rencana_keperawatan, id_pendaftaran,
                        id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-ek-rencana-tindakan tbody').empty();

                }

                if (typeof data.catatan_tindakan_rawat !== 'undefined' | data.catatan_tindakan_rawat !== null) {

                    showCatatanTindakanKeperawatan(data.catatan_tindakan_rawat, id_pendaftaran, id_layanan_pendaftaran, bed, action);

                } else {

                    $('#tabel-catatan-tindakan-keperawatan tbody').empty();

                }

                if (typeof data.pengkajian_ulang_resiko_jatuh_pasien_anak !== 'undefined' || data
                    .pengkajian_ulang_resiko_jatuh_pasien_anak !== null) {

                    showPengkajianUlangResikoJatuhPasienAnak(data.pengkajian_ulang_resiko_jatuh_pasien_anak,
                        id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-pengkajian-ulang-anak tbody').empty();

                }

                if (typeof data.pengkajian_ulang_resiko_jatuh_pasien_lansia !== 'undefined' || data
                    .pengkajian_ulang_resiko_jatuh_pasien_lansia !== null) {

                    showPengkajianUlangRisikoJatuhPasienLansia(data.pengkajian_ulang_resiko_jatuh_pasien_lansia,
                        id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-purjpl tbody').empty();

                }

                if (typeof data.upaya_pencegahan_risiko_jatuh_pasien_lansia !== 'undefined' || data
                    .upaya_pencegahan_risiko_jatuh_pasien_lansia !== null) {

                    showUpayaPencegahanRisikoJatuhPasienLansia(data.upaya_pencegahan_risiko_jatuh_pasien_lansia,
                        id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-uprjpl .body-table').empty();

                }

                // UPRJPN
                if (typeof data.upaya_pencegahan_risiko_jatuh_pada_neonatus !== 'undefined' || data
                    .upaya_pencegahan_risiko_jatuh_pada_neonatus !== null) {

                    showUpayaPencegahanRisikoJatuhPadaNeonatus(data.upaya_pencegahan_risiko_jatuh_pada_neonatus,
                        id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-uprjpn .body-table').empty();

                }


                // CPDPO 4
                if (typeof data.riwayat_pemakaian_obat !== 'undefined' || data
                    .riwayat_pemakaian_obat !== null) {

                        // console.log(data.riwayat_pemakaian_obat);

                    showRiwayatPemakaianObat(data.riwayat_pemakaian_obat,
                        id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-rpo .body-table').empty();
                }

                
                // ILLIS
                if (typeof data.riwayat_pemakaian_obat_infus !== 'undefined' || data
                .riwayat_pemakaian_obat_infus !== null) {

                showRiwayatPemakaianObatInfus(data.riwayat_pemakaian_obat_infus,
                    id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-rpo-infus .body-table').empty();
                }

                // WPT 
                if (typeof data.waktu_pemberian_tanggal !== 'undefined' || data
                    .waktu_pemberian_tanggal !== null) {

                        // console.log(data.waktu_pemberian_tanggal);

                    showWaktuPemberianTanggal(data.waktu_pemberian_tanggal,
                        id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-wpt .body-table').empty();
                }

                // IWPT 
                if (typeof data.waktu_pemberian_tanggal_infus !== 'undefined' || data
                    .waktu_pemberian_tanggal_infus !== null) {
                    showWaktuPemberianTanggalInfus(data.waktu_pemberian_tanggal_infus,
                    id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-wpt-infus .body-table').empty();
                }


             

                // MPP-C
                // if (typeof data.monitoring_pasieen !== 'undefined' || data
                // .monitoring_pasieen !== null) {

                // showMonitoringPasieen(data.monitoring_pasieen,
                //     id_pendaftaran, id_layanan_pendaftaran, bed);

                // } else {

                //     $('#tabel-mpp .body-table').empty();
                // }

                
                // PKN
                if (typeof data.pengawasan_khusus_neonatus !== 'undefined' || data
                .pengawasan_khusus_neonatus !== null) {

                showPengawasanKhususNeonatus(data.pengawasan_khusus_neonatus,
                    id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-pkn .body-table').empty();
                }


                if (typeof data.upaya_pencegahan_risiko_jatuh_pasien_dewasa !== 'undefined' || data
                    .upaya_pencegahan_risiko_jatuh_pasien_dewasa !== null) {

                    showUpayaPencegahanRisikoJatuhPasienDewasa(data.upaya_pencegahan_risiko_jatuh_pasien_dewasa,
                        id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-uprjpd .body-table').empty();

                }

                if (typeof data.upaya_pencegahan_risiko_jatuh_pasien_anak !== 'undefined' || data
                    .upaya_pencegahan_risiko_jatuh_pasien_anak !== null) {

                    showUpayaPencegahanRisikoJatuhPasienAnak(data.upaya_pencegahan_risiko_jatuh_pasien_anak,
                        id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-uprjpa .body-table').empty();

                }

                if (typeof data.terapi_pulang !== 'undefined' || data.terapi_pulang !== null) {

                    showTerapiPulang(data.terapi_pulang, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#table-terapi tbody').empty();

                }

                if (typeof data.kontrol_kembali !== 'undefined' || data.kontrol_kembali !== null) {

                    showKontrolKembali(data.kontrol_kembali, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#table-kontrol tbody').empty();

                }

                // show surgical safety ceklis
                if (typeof data.surgical_safety_ceklis !== 'undefined' | data.surgical_safety_ceklis !== null) {

                    showSurgicalSafetyCeklis(data.surgical_safety_ceklis, id_pendaftaran,
                        id_layanan_pendaftaran, bed);

                } else {

                    $('#tabel-surgical-safety-ceklis').empty();

                }


                $('#ek_bed').text(bed);

                $('.ek-logo-pasien-alergi').hide();
                if (data.profil !== null) {
                    // status profil pasien
                    if (data.profil.is_alergi == 'Ya') {
                        $('.ek-logo-pasien-alergi').show();
                    }
                }

                $('#modal_entri_keperawatan_rm').modal('show');
            },
            complete: function() {
                hideLoader()
            },
            error: function(e) {
                accessFailed(e.status);
            },
        });
    }

    function getListResumeKeperawatan(id_pendaftaran, bed, page) {

        $('#wizard-resume-group').bwizard('show', '1');

        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_list_resume_keperawatan") ?>/page/' + page +
                '/id_pendaftaran/' + id_pendaftaran,
            data: 'keyword=' + $('#rs-keyword').val() + '&waktu=' + $('#rs-waktu-search').val(),
            cache: false,
            dataType: 'JSON',
            beforeSend: function() {
                showLoader();
            },
            success: function(data) {
                if ((page - 1) & (data.data.length === 0)) {
                    getListResumeKeperawatan('', bed, page - 1);
                    return false;
                }

                $('#rs-pagination').html(pagination2(data.jumlah, data.limit, data.page, 1));
                $('#rs-summary').html(page_summary(data.jumlah, data.data.length, data.limit, data.page));

                $('#table-resume-keperawatan tbody').empty();

                $.each(data.data, function(i, v) {

                    let no = ((i + 1) + ((data.page - 1) * data.limit));

                    let bangsal_bed = '';
                    let bed_ri = v.bangsal;
                    let bed_ic = v.bangsal_ic;

                    let selPetugas = '';


                    if (accountGroup === 'Admin') {

                        selPetugas = '<td align="center">' + ((v.id_users !== null) ? v.id_users : '') +
                            '</td>';


                    } else {

                        selPetugas = '';

                    }

                    let idEkLayanan = $('#ek_id_layanan_pendaftaran').val();
                    let butEdit = '';

                    if (v.id_layanan_pendaftaran === idEkLayanan) {

                        butEdit =
                            `<button type="button" class="btn btn-secondary btn-xs" onclick="hapusResume(this, ${v.id})"><i class="fas fa-fw fa-trash-alt mr-1"></i>Hapus</button>`;

                    } else {

                        butEdit = '';

                    }

                    if (v.jenis_layanan === 'Rawat Inap') {

                        bangsal_bed = bed_ri + ' kelas ' + v.kelas + ' ruang ' + v.no_ruang +
                            ' No. Bed ' + v.no_bed;

                    } else if (v.jenis_layanan === 'Intensive Care') {

                        bangsal_bed = bed_ic + ' kelas ' + v.kelas_icare + ' ruang ' + v.no_ruang_ic +
                            ' No. Bed ' + v.no_bed_ic;

                    } else {

                        bangsal_bed = '';
                    }

                    let html = /* html */ `
                        <tr>
                            <td class="center">${no}</td>
                            <td class="center">${((v.waktu !== null) ? datetime2date(v.waktu) : '-')}</td>
                            <td class="center">${((v.jenis_layanan !== null) ? v.jenis_layanan : '-')}</td>
                            <td class="center">${bangsal_bed}</td>
                            ${selPetugas}
                            <td class="right aksi">
                                <button type="button" class="btn btn-secondary btn-xxs" onclick="detailResume(${v.id}, ${id_pendaftaran}, ${v.id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-eye m-r-5"></i>Lihat Resume</button>
                                <button type="button" class="btn btn-secondary btn-xxs" onclick="cetakResumeKeperawatan(${v.id}, ${id_pendaftaran}, ${v.id_layanan_pendaftaran})"><i class="fa fa-print m-r-5"></i>Print</button>
                                 ${butEdit}
                            </td>
                        </tr>
                    `;

                    $('#table-resume-keperawatan tbody').append(html);

                })


            },
            complete: function() {
                hideLoader();
            },
            error: function(e) {
                accessFailed('Gagal mendapatkan data!');
            }
        });

    }

    function cetakResumeKeperawatan(id, id_pendaftaran, id_layanan_pendaftaran) {
        // alert(id);exit(1);
        window.open('<?= base_url() ?>pelayanan/printing_resume_keperawatan?id=' + id + '&id_pendaftaran=' +
            id_pendaftaran + '&id_layanan_pendaftaran=' + id_layanan_pendaftaran, 'Cetak Laporan Hemodialisa',
            'width=' + dWidth + ', height=' + dHeight + ', left=' + x + ', top=' + y);
    }

    function hapusResume(obj, id) {

        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_resume") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Resume Keperawatan', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });

    }

    function detailResume(id, id_pendaftaran, id_layanan_pendaftaran, bed) {

        resetFormResume();
        $('#wizard-resume-group').bwizard('show', '0');

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_detail_resume_keperawatan") ?>/id/' + id +
                '/id_layanan/' + id_layanan_pendaftaran,
            cache: false,
            dataType: 'JSON',
            beforeSend: function() {
                showLoader()
            },
            success: function(data) {

                let resume_keperawatan = data.resume_keperawatan;

                $('#rk-id').val(resume_keperawatan.id);
                $('#rk-id-layanan-pendaftaran').val(resume_keperawatan.id_layanan_pendaftaran);

                let idRk = $('#rk-id').val();
                let idRkLayanan = $('#rk-id-layanan-pendaftaran').val();
                let idEkLayanan = $('#ek_id_layanan_pendaftaran').val();

                if (idRkLayanan !== idEkLayanan) {

                    $('#ek_suhu, #ek_pernafasan, #ek_nadi, #ek_tensi_sis, #rk-tensi-dis, #diet_khusus, #sm_diet_khusus, #batasan_cairan, #sm_batasan_cairan, #diet_oral, #diet_ngt, #bab-normal, #bab-ileostomy, #bab-inontinensia, #bab-inkontinensia, #bak-normal, #bak_kateter, #sm_bak_kateter, #luka_bersih, #luka_kering, #cairan_luka, #sm_cairan_luka, #mobilisasi_mandiri, #mobilisasi_dibantu, #mobilisasi_penuh, #alat_tongkat, #alat_kursi_roda, #alat_trolley, #alat_lain, #sm_alat_lain, #edukasi_penyakit, #edukasi_perawatan, #edukasi_dirumah, #edukasi_ibubayi, #edukasi_nyeri, #edukasi_lingkungan, #edukasi_kb, #diagnosa_perawat, #diagnosa_perawat_satu, #anjuran_perawat, #anjuran_perawat_dua, #anjuran_perawat_satu, #anjuran_perawat_tiga, #sm_kontraksi_tidak, #sm_kontraksi_baik, #fundus_uteri, #vulva_bersih, #vulva_kotor, #vulva_bengkak, #perineum_kering, #perineum_basah, #lochaea_banyak, #lochaea_sedikit, #warna_lochaea, #bau_lochaea, #hasil_lab, #foto_rontgen, #ct_scan, #ekg, #mri, #usg, #bayi_diserahkan, #lain_lain, #hasil_satu, #hasil_dua, #hasil_tiga, #hasil_empat, #hasil_lima, #jumlah-obat, #trp-dosis, #frekuensi, #cara-pemberian, #ek_jam_pemberian, #ek_jam_pemberian_satu, #ek_jam_pemberian_dua, #ek_jam_pemberian_tiga, #ek_jam_pemberian_empat, #ek_jam_pemberian_lima, #petunjuk-khusus, #surat_kontrol_ya, #surat_kontrol_tidak, #resume_medis_ya, #resume_medis_tidak, #surat_asuransi_ya, #surat_asuransi_tidak, #summary_pasien_ya, #summary_pasien_tidak, #suket_lahir_ya, #suket_lahir_tidak, #ek_kontrol_dokter, #ek_tanggal_ttd_perawat, #ek_tanggal_verifikasi_dokter, #ek_tanggal_verifikasi_penerima, #verifikasi_penerima, #ek_ttd_perawat, #ek_ttd_verifikasi_dokter_dpjp, #ek_ttd_pasien, #edukasi_rehabilitas, #edukasi_lain, #edukasi_lain_input, #rk_diagnosa_masuk, #rk_diagnosa_keluar')
                        .attr('disabled', true);

                    $('#barang_auto, #ek_nama_dokter').select2c('readonly', true);

                } else {

                    $('#ek_suhu, #ek_pernafasan, #ek_nadi, #ek_tensi_sis, #rk-tensi-dis, #diet_khusus, #sm_diet_khusus, #batasan_cairan, #sm_batasan_cairan, #diet_oral, #diet_ngt, #bab-normal, #bab-ileostomy, #bab-inontinensia, #bab-inkontinensia, #bak-normal, #bak_kateter, #sm_bak_kateter, #luka_bersih, #luka_kering, #cairan_luka, #sm_cairan_luka, #mobilisasi_mandiri, #mobilisasi_dibantu, #mobilisasi_penuh, #alat_tongkat, #alat_kursi_roda, #alat_trolley, #alat_lain, #sm_alat_lain, #edukasi_penyakit, #edukasi_perawatan, #edukasi_dirumah, #edukasi_ibubayi, #edukasi_nyeri, #edukasi_lingkungan, #edukasi_kb, #diagnosa_perawat, #diagnosa_perawat_satu, #anjuran_perawat, #anjuran_perawat_dua, #anjuran_perawat_satu, #anjuran_perawat_tiga, #sm_kontraksi_tidak, #sm_kontraksi_baik, #fundus_uteri, #vulva_bersih, #vulva_kotor, #vulva_bengkak, #perineum_kering, #perineum_basah, #lochaea_banyak, #lochaea_sedikit, #warna_lochaea, #bau_lochaea, #hasil_lab, #foto_rontgen, #ct_scan, #ekg, #mri, #usg, #bayi_diserahkan, #lain_lain, #hasil_satu, #hasil_dua, #hasil_tiga, #hasil_empat, #hasil_lima, #jumlah-obat, #trp-dosis, #frekuensi, #cara-pemberian, #ek_jam_pemberian, #ek_jam_pemberian_satu, #ek_jam_pemberian_dua, #ek_jam_pemberian_tiga, #ek_jam_pemberian_empat, #ek_jam_pemberian_lima, #petunjuk-khusus, #surat_kontrol_ya, #surat_kontrol_tidak, #resume_medis_ya, #resume_medis_tidak, #surat_asuransi_ya, #surat_asuransi_tidak, #summary_pasien_ya, #summary_pasien_tidak, #suket_lahir_ya, #suket_lahir_tidak, #ek_kontrol_dokter, #edukasi_rehabilitas, #edukasi_lain, #edukasi_lain_input, #rk_diagnosa_masuk, #rk_diagnosa_keluar')
                        .attr('disabled', false);

                    $('#barang_auto, #ek_nama_dokter').select2c('readonly', false);
                }

                if (resume_keperawatan !== null) {

                    $('#ek_suhu').val(resume_keperawatan.ek_suhu);
                    $('#ek_tensi_sis').val(resume_keperawatan.ek_tensi_sis);
                    $('#rk-tensi-dis').val(resume_keperawatan.ek_tensi_dis);
                    $('#ek_nadi').val(resume_keperawatan.ek_nadi);
                    $('#ek_pernafasan').val(resume_keperawatan.ek_pernafasan);
                    $('#rk_diagnosa_masuk').val(resume_keperawatan.ek_diagnosa_masuk);
                    $('#rk_diagnosa_keluar').val(resume_keperawatan.ek_diagnosa_keluar);
                    $('#ruang_resume_keperawatan').val(resume_keperawatan.ruang_resume_keperawatan);



                    //diet khusus
                    var diet = JSON.parse(resume_keperawatan.diet_khusus);
                    if (diet.diet_khusus !== '') {
                        $('#diet_khusus').prop('checked', true);
                        $('#sm_diet_khusus').val(diet.sm_diet_khusus);
                    }

                    if (resume_keperawatan.diet_oral !== null) {
                        $('#diet_oral').prop('checked', true)
                    }
                    if (resume_keperawatan.diet_ngt !== null) {
                        $('#diet_ngt').prop('checked', true)
                    }

                    //batasan cairan
                    var batasan = JSON.parse(resume_keperawatan.batasan_cairan);
                    if (batasan.batasan_cairan !== '') {
                        $('#batasan_cairan').prop('checked', true);
                        $('#sm_batasan_cairan').val(batasan.sm_batasan_cairan).attr('disabled', false);
                    }

                    //buang air besar
                    if (resume_keperawatan.bab === 'Normal') {
                        $('#bab-normal').prop('checked', true).change()
                    }
                    if (resume_keperawatan.bab === 'Ileostomy') {
                        $('#bab-ileostomy').prop('checked', true).change()
                    }
                    if (resume_keperawatan.bab === 'Inontinensia Urin') {
                        $('#bab-inontinensia').prop('checked', true).change()
                    }
                    if (resume_keperawatan.bab === 'Inkontinensia alvi') {
                        $('#bab-inkontinensia').prop('checked', true).change()
                    }


                    //buang air kecil
                    if (resume_keperawatan.bak === 'Normal') {
                        $('#bak-normal').prop('checked', true).change()
                    }
                    if (resume_keperawatan.bak === 'Kateter, tanggal pasang terakhir') {
                        $('#bak_kateter').prop('checked', true).change()
                        $('#sm_bak_kateter').val((resume_keperawatan.bak_kateter !== null ? datetimefmysql(
                            resume_keperawatan.bak_kateter) : '')).attr('disabled', false);

                    }


                    //luka operasi
                    if (resume_keperawatan.luka === 'Normal') {
                        $('#luka_bersih').prop('checked', true).change()
                    }
                    if (resume_keperawatan.luka === 'Kering') {
                        $('#luka_kering').prop('checked', true).change()
                    }
                    if (resume_keperawatan.luka === 'Ada cairan dari luka') {

                        $('#cairan_luka').prop('checked', true).change();
                        $('#sm_cairan_luka').val(resume_keperawatan.luka_operasi_cairan).attr('disabled',
                            false);

                    }

                    //Transfer & Mobilisasi

                    if (resume_keperawatan.mobilisasi === 'Mandiri') {
                        $('#mobilisasi_mandiri').prop('checked', true).change()
                    }
                    if (resume_keperawatan.mobilisasi === 'Dibantu Sebagian') {
                        $('#mobilisasi_dibantu').prop('checked', true).change()
                    }
                    if (resume_keperawatan.mobilisasi === 'Dibantu Penuh') {
                        $('#mobilisasi_penuh').prop('checked', true).change()
                    }


                    //alat bantu

                    if (resume_keperawatan.alat_bantu === 'Tongkat') {
                        $('#alat_tongkat').prop('checked', true).change()
                    }
                    if (resume_keperawatan.alat_bantu === 'Kursi Roda') {
                        $('#alat_kursi_roda').prop('checked', true).change()
                    }
                    if (resume_keperawatan.alat_bantu === 'Troley/Kereta Dorong') {
                        $('#alat_trolley').prop('checked', true).change()
                    }
                    if (resume_keperawatan.alat_bantu === 'Lain - lain') {

                        $('#alat_lain').prop('checked', true).change();
                        $('#sm_alat_lain').val(resume_keperawatan.alat_bantu_lain).attr('disabled', false);

                    }




                    //edukasi / penyuluhan kesehatan

                    var edukasi = JSON.parse(resume_keperawatan.edukasi);
                    if (edukasi.edukasi_penyakit !== '') {
                        $('#edukasi_penyakit').prop('checked', true);
                    }
                    if (edukasi.edukasi_perawatan !== '') {
                        $('#edukasi_perawatan').prop('checked', true);
                    }
                    if (edukasi.edukasi_dirumah !== '') {
                        $('#edukasi_dirumah').prop('checked', true);
                    }
                    if (edukasi.edukasi_ibubayi !== '') {
                        $('#edukasi_ibubayi').prop('checked', true);
                    }
                    if (edukasi.edukasi_nyeri !== '') {
                        $('#edukasi_nyeri').prop('checked', true);
                    }
                    if (edukasi.edukasi_lingkungan !== '') {
                        $('#edukasi_lingkungan').prop('checked', true);
                    }
                    if (edukasi.edukasi_kb !== '') {
                        $('#edukasi_kb').prop('checked', true);
                    }
                    if (edukasi.edukasi_rehabilitas !== '') {
                        $('#edukasi_rehabilitas').prop('checked', true);
                    }
                    if (edukasi.edukasi_lain == '') {

                        $('#edukasi_lain').prop('checked', true).change();
                        $('#edukasi_lain_input').val(edukasi.edukasi_lain_input).attr('disabled', false);

                    }

                    //DIAGNOSA KEPERAWATAN SELAMA DIRAWAT 

                    $('#diagnosa_perawat').val(resume_keperawatan.diagnosa_perawat);
                    $('#diagnosa_perawat_satu').val(resume_keperawatan.diagnosa_perawat_satu);

                    //ANJURAN/PERAWAT KHUSUS SETELAH PULANG

                    $('#anjuran_perawat').val(resume_keperawatan.anjuran_perawat);
                    $('#anjuran_perawat_satu').val(resume_keperawatan.anjuran_perawat_satu);
                    $('#anjuran_perawat_dua').val(resume_keperawatan.anjuran_perawat_dua);
                    $('#anjuran_perawat_tiga').val(resume_keperawatan.anjuran_perawat_tiga);

                    //KONTRAKSI UTERUS
                    if (resume_keperawatan.kontraksi === 'Tidak') {
                        $('#sm_kontraksi_tidak').prop('checked', true).change()
                    }
                    if (resume_keperawatan.kontraksi === 'Baik') {
                        $('#sm_kontraksi_baik').prop('checked', true).change()
                    }

                    //fundus uteri

                    $('#fundus_uteri').val(resume_keperawatan.fundus);

                    //Vulva

                    if (resume_keperawatan.vulva === 'Bersih') {
                        $('#vulva_bersih').prop('checked', true).change()
                    }
                    if (resume_keperawatan.vulva === 'Kotor') {
                        $('#vulva_kotor').prop('checked', true).change()
                    }
                    if (resume_keperawatan.vulva === 'Bengkak') {
                        $('#vulva_bengkak').prop('checked', true).change()
                    }

                    //Luka Perineum

                    if (resume_keperawatan.perineum === 'Kering') {
                        $('#perineum_kering').prop('checked', true).change()
                    }
                    if (resume_keperawatan.perineum === 'Basah') {
                        $('#perineum_basah').prop('checked', true).change()
                    }


                    //Lochaea

                    if (resume_keperawatan.lochaea === 'Banyak') {
                        $('#lochaea_banyak').prop('checked', true).change()
                    }
                    if (resume_keperawatan.lochaea === 'Sedikit') {
                        $('#lochaea_sedikit').prop('checked', true).change()
                    }

                    $('#warna_lochaea').val(resume_keperawatan.warna);
                    $('#bau_lochaea').val(resume_keperawatan.bau_lochaea);
                    $('#hasil_lab').val(resume_keperawatan.hasil_lab);
                    $('#ekg').val(resume_keperawatan.ekg);
                    $('#foto_rontgen').val(resume_keperawatan.rontgen);
                    $('#mri').val(resume_keperawatan.mri);
                    $('#ct_scan').val(resume_keperawatan.ct_scan);
                    $('#usg').val(resume_keperawatan.usg);


                    //SURAT KONTROL
                    if (resume_keperawatan.surat_kontrol === '1') {
                        $('#surat_kontrol_ya').prop('checked', true).change()
                    }
                    if (resume_keperawatan.surat_kontrol === '0') {
                        $('#surat_kontrol_tidak').prop('checked', true).change()
                    }


                    //Resume Medis
                    if (resume_keperawatan.resume === '1') {
                        $('#resume_medis_ya').prop('checked', true).change()
                    }
                    if (resume_keperawatan.resume === '0') {
                        $('#resume_medis_tidak').prop('checked', true).change()
                    }

                    $('#hasil_satu').val(resume_keperawatan.hasil_satu);

                    //Surat Asuransi
                    if (resume_keperawatan.surat_asuransi === '1') {
                        $('#surat_asuransi_ya').prop('checked', true).change()
                    }
                    if (resume_keperawatan.surat_asuransi === '0') {
                        $('#surat_asuransi_tidak').prop('checked', true).change()
                    }

                    $('#hasil_dua').val(resume_keperawatan.hasil_dua);

                    //Summary Pasien Pulang
                    if (resume_keperawatan.summary === '1') {
                        $('#summary_pasien_ya').prop('checked', true).change()
                    }
                    if (resume_keperawatan.summary === '0') {
                        $('#summary_pasien_tidak').prop('checked', true).change()
                    }

                    $('#hasil_tiga').val(resume_keperawatan.hasil_tiga);


                    //Surat Keterangan Lahir
                    if (resume_keperawatan.suket_lahir === '1') {
                        $('#suket_lahir_ya').prop('checked', true).change()
                    }
                    if (resume_keperawatan.suket_lahir === '0') {
                        $('#suket_lahir_tidak').prop('checked', true).change()
                    }

                    $('#hasil_empat').val(resume_keperawatan.hasil_empat);
                    $('#bayi_diserahkan').val(resume_keperawatan.bayi_diserahkan);
                    $('#hasil_lima').val(resume_keperawatan.hasil_lima);
                    $('#lain_lain').val(resume_keperawatan.lain_lain);


                    if (resume_keperawatan.id_verifikasi_dokter === '') {
                        $('#s2id_verifikasi_dokter a .select2c-chosen').html();
                        $('#verifikasi_dokter').val();
                    } else {
                        $('#verifikasi_dokter').val(resume_keperawatan.id_verifikasi_dokter);
                        $('#s2id_verifikasi_dokter a .select2c-chosen').html(resume_keperawatan.dokter);
                    }

                    if (resume_keperawatan.id_perawat_medis === '') {
                        $('#s2id_perawat_medis a .select2c-chosen').html();
                        $('#perawat_medis').val();
                    } else {
                        $('#perawat_medis').val(resume_keperawatan.id_perawat_medis);
                        $('#s2id_perawat_medis a .select2c-chosen').html(resume_keperawatan.perawat_medis);
                    }

                    $('#perawat_medis').val(resume_keperawatan.id_perawat_medis);

                    if (resume_keperawatan.id_perawat_medis !== null) {

                        $('#perawat_medis').select2c('readonly', true);
                        $('#s2id_perawat_medis a .select2c-chosen').html(resume_keperawatan.perawat_medis);

                    }

                    if (resume_keperawatan.penerima !== null) {

                        $('#verifikasi_penerima').val(resume_keperawatan.penerima);
                        $('#verifikasi_penerima').attr('disabled', true);

                    }


                    if (resume_keperawatan.ek_ttd_perawat !== null) {
                        $('#ek_ttd_perawat').hide();
                        $('#ek_ttd_perawat_verified').show();

                    }

                    if (resume_keperawatan.ek_ttd_verifikasi_dokter !== null) {
                        $('#ek_ttd_verifikasi_dokter_dpjp').hide();
                        $('#ek_ttd_verifikasi_dokter_dpjp_verified').show();
                    }

                    if (resume_keperawatan.ek_ttd_pasien !== null) {
                        $('#ek_ttd_pasien').hide();
                        $('#ek_ttd_pasien_verified').show();
                    }

                    if (resume_keperawatan.ek_tanggal_ttd_perawat !== null) {

                        $('#ek_tanggal_ttd_perawat').val(datetimefmysql(resume_keperawatan
                            .ek_tanggal_ttd_perawat));
                        $('#ek_tanggal_ttd_perawat').attr('disabled', true);

                    }

                    if (resume_keperawatan.ek_tanggal_verifikasi_dokter !== null) {

                        $('#ek_tanggal_verifikasi_dokter').val(datetimefmysql(resume_keperawatan
                            .ek_tanggal_verifikasi_dokter));
                        $('#ek_tanggal_verifikasi_dokter').attr('disabled', true);

                    }

                    if (resume_keperawatan.ek_tanggal_verifikasi_penerima !== null) {

                        $('#ek_tanggal_verifikasi_penerima').val(datetimefmysql(resume_keperawatan
                            .ek_tanggal_verifikasi_penerima));
                        $('#ek_tanggal_verifikasi_penerima').attr('disabled', true);

                    }

                    $('#verifikasi_dokter').val(resume_keperawatan.id_verifikasi_dokter);

                    if (resume_keperawatan.id_verifikasi_dokter !== null) {

                        $('#verifikasi_dokter').select2c('readonly', true);
                        $('#s2id_verifikasi_dokter a .select2c-chosen').html(resume_keperawatan.dokter);

                    }
                }

                if (typeof data.terapi_pulang !== 'undefined' | data.terapi_pulang !== null) {

                    showTerapiPulang(data.terapi_pulang, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#table-terapi tbody').empty();

                }

                if (typeof data.kontrol_kembali !== 'undefined' | data.kontrol_kembali !== null) {

                    showKontrolKembali(data.kontrol_kembali, id_pendaftaran, id_layanan_pendaftaran, bed);

                } else {

                    $('#table-kontrol tbody').empty();

                }

            },
            complete: function() {
                hideLoader()
            },
            error: function(e) {
                accessFailed(e.status);
            },
        });

    }

    function resetFormResume() {

        $('#ek_suhu, #ek_pernafasan, #ek_nadi, #ek_tensi_sis, #rk-tensi-dis, #sm_diet_khusus, #sm_batasan_cairan, #sm_bak_kateter, #sm_cairan_luka, #sm_alat_lain, #diagnosa_perawat, #diagnosa_perawat_satu, #anjuran_perawat, #anjuran_perawat_dua, #anjuran_perawat_satu, #anjuran_perawat_tiga, #fundus_uteri, #warna_lochaea, #bau_lochaea, #hasil_lab, #foto_rontgen, #ct_scan, #ekg, #mri, #usg, #bayi_diserahkan, #lain_lain, #hasil_satu, #hasil_dua, #hasil_tiga, #hasil_empat, #hasil_lima, #jumlah-obat, #trp-dosis, #frekuensi, #cara-pemberian, #ek_jam_pemberian, #ek_jam_pemberian_satu, #ek_jam_pemberian_dua, #ek_jam_pemberian_tiga, #ek_jam_pemberian_empat, #ek_jam_pemberian_lima, #petunjuk-khusus, #ek_kontrol_dokter, #ek_tanggal_ttd_perawat, #ek_tanggal_verifikasi_dokter, #ek_tanggal_verifikasi_penerima, #verifikasi_penerima, #rk-id-layanan-pendaftaran, #rk-id')
            .val('');
        $('#diet_khusus, #batasan_cairan, #diet_oral, #diet_ngt, #bab-normal, #bab-ileostomy, #bab-inontinensia, #bab-inkontinensia, #bak-normal, #bak_kateter, #luka_bersih, #luka_kering, #cairan_luka, #mobilisasi_mandiri, #mobilisasi_dibantu, #mobilisasi_penuh, #alat_tongkat, #alat_kursi_roda, #alat_trolley, #alat_lain, #edukasi_penyakit, #edukasi_perawatan, #edukasi_dirumah, #edukasi_ibubayi, #edukasi_nyeri, #edukasi_lingkungan, #edukasi_kb, #sm_kontraksi_tidak, #sm_kontraksi_baik, #vulva_bersih, #vulva_kotor, #vulva_bengkak, #lochaea_banyak, #lochaea_sedikit, #perineum_kering, #perineum_basah, #surat_kontrol_ya, #surat_kontrol_tidak, #resume_medis_ya, #resume_medis_tidak, #surat_asuransi_ya, #surat_asuransi_tidak, #summary_pasien_ya, #summary_pasien_tidak, #suket_lahir_ya, #suket_lahir_tidak, #ek_ttd_pasien, #ek_ttd_verifikasi_dokter_dpjp, #ek_ttd_perawat, #edukasi_rehabilitas, #edukasi_lain, #edukasi_lain_input, #rk_diagnosa_masuk, #rk_diagnosa_keluar')
            .prop('checked', false);
        $('#s2id_barang_auto a .select2c-chosen').html('- Pilih Obat -');
        $('#s2id_ek_nama_dokter a .select2c-chosen, #s2id_verifikasi_dokter a .select2c-chosen').html('- Pilih Dokter -');
        $('#s2id_perawat_medis a .select2c-chosen').html('- Pilih Perawat -');
        $('#table-terapi tbody, #table-kontrol tbody').empty();
        $('#ek_tanggal_ttd_perawat, #ek_tanggal_verifikasi_dokter, #ek_tanggal_verifikasi_penerima, #verifikasi_penerima')
            .attr('disabled', false);
        $('#perawat_medis, #verifikasi_dokter').select2c('readonly', false);
        $('#ek_ttd_perawat, #ek_ttd_verifikasi_dokter_dpjp, #ek_ttd_pasien').show();
        $('#ek_ttd_perawat_verified, #ek_ttd_verifikasi_dokter_dpjp_verified, #ek_ttd_pasien_verified').hide();

    }

    function resetSpiritual() {
        $('#plsp-pasien-terima, #plsp-pasien-tidak-terima, #plsp-pasien-tabah, #plsp-pasien-sedih, #plsp-pasien-sabar, #plsp-pasien-mengeluh, #plsp-keluarga-terima, #plsp-keluarga-tidak-terima, #plsp-keluarga-tabah, #plsp-keluarga-sedih, #plsp-keluarga-sabar, #plsp-keluarga-mengluh, #plsp-ekspresi-senyum, #plsp-ekspresi-sedih, #plsp-ekspresi-mengikuti, #plsp-ekspresi-menolak, #plsp-ekspresi-nasihat,#plsp-ekspresi-marah, #plsp-ekspresi-semangat, #plsp-ekspresi-apatis, #plsp-ekspresi-pasrah, #plsp-ekspresi-cemas, #plsp-satu-positif, #plsp-satu-egatif, #pasien-belum-disiplin, #pasien-belum-kadang, #pasien-belum-tidak, #pasien-sudah-disiplin, #pasien-sudah-kadang, #pasien-sudah-tidak, #keluarga-belum-disiplin, #keluarga-belum-kadang, #keluarga-belum-tidak, #keluarga-sudah-disiplin, #keluarga-sudah-kadang, #keluarga-sudah-tidak, #keluarga-media-wudhu, #keluarga-media-tayamum, #keluarga-media-keduanya,#plsp-dua-positif, #plsp-dua-negatif, #keluarga-hafalan-alfatihah, #keluarga-hafalan-rukuk, #keluarga-hafalan-sujud,#keluarga-hafalan- tasyahud, #plsp-rencana-motivasi, #plsp-pendampingan-umum, #plsp-fiqih-pasien, #plsp-pendampingan-khusus, #plsp-fiqih-wanita, #plsp-ruqyah-syariyah, #plsp-bimbingan-doa, #plsp-terapi-tahajud, #plsp-bimbingan-membaca, #plsp-terapi-dzikir, #plsp-motivasi-keluarga, #plsp-manajemen-nyeri, #plsp-anjuran-sedekah').prop('checked', false).trigger('change');
        // $('#plsp-kesimpulan-kiri, #plsp-kesimpulan-kanan').val('');
    }

    function showKajiUlang(data, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $('#tabel-pengkajian-ulang tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function tanggalKaji(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var elem = waktu.split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                function formatTanggalKajian(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                let selOp = '';
                let selPetugas = '';


                if (accountGroup === 'Admin') {

                    selOp = '<td width="2%" align="center">' + ((v.created_date !== null) ? formatTanggalKajian(v
                        .created_date) : '') + '</td><td width="2%" align="center">' + ((v
                        .tanggal_pengkajian !== null) ? tanggalKaji(v.tanggal_pengkajian) : '') + '</td>';
                    selPetugas = '<td width="5%" align="center">' + ((v.akun_user !== null) ? v.akun_user : '') +
                        '</td>';


                } else {

                    selOp = '<td width="2%" align="center">' + ((v.tanggal_pengkajian !== null) ? tanggalKaji(v
                        .tanggal_pengkajian) : '') + '</td>';
                    selPetugas = '';

                }

                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        ${selOp}
                        <td width="1%" align="center">${v.jumlah_skor}</td>
                        ${selPetugas}
                        <td width="5%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusKajiUlang(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#tabel-pengkajian-ulang tbody').append(html);
            })
        }

    }


    function showPemantauan(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-pengkajian-pemantauan tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function formatTanggalPemantauan(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                let selOp = '';
                let selPetugas = '';

                if (accountGroup === 'Admin') {

                    selOp = '<td width="2%" align="center">' + ((v.created_date !== null) ? formatTanggalPemantauan(
                            v.created_date) : '') + '</td><td width="2%" align="center">' + ((v
                            .tanggal_pemantauan !== null) ? formatTanggalPemantauan(v.tanggal_pemantauan) : '') +
                        '</td>';
                    selPetugas = '<td width="5%" align="center">' + ((v.akun_user !== null) ? v.akun_user : '') +
                        '</td>';


                } else {

                    selOp = '<td width="2%" align="center">' + ((v.tanggal_pemantauan !== null) ?
                        formatTanggalPemantauan(v.tanggal_pemantauan) : '') + '</td>';
                    selPetugas = '';
                }

                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        ${selOp}
                        <td width="3%" align="center">${v.skor_nyeri}</td>
                        <td width="5%" align="center">${v.tindakan_petugas}</td>
                        ${selPetugas}
                        <td width="3%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusPemantauan(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#tabel-pengkajian-pemantauan tbody').append(html);
            })
        }

    }

    function showPantauSholat(data, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $('#tabel-pemantauan-sholat tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function formatTanggalPemantauan(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                let selOp = '';
                let selPetugas = '';

                if (accountGroup === 'Admin') {

                    selOp = '<td width="2%" align="center">' + ((v.created_date !== null) ? formatTanggalPemantauan(
                            v.created_date) : '') + '</td><td width="2%" align="center">' + ((v
                            .tanggal_pemantauan !== null) ? formatTanggalPemantauan(v.tanggal_pemantauan) : '') +
                        '</td>';
                    selPetugas = '<td width="5%" align="center">' + ((v.nama_petugas !== null) ? v.nama_petugas :
                        '') + '</td>';

                } else {

                    selOp = '<td width="2%" align="center">' + ((v.tanggal_pemantauan !== null) ?
                        formatTanggalPemantauan(v.tanggal_pemantauan) : '') + '</td>';
                    selPetugas = '';
                }

                let sholat_subuh = '';
                let sholat_dzuhur = '';
                let sholat_ashar = '';
                let sholat_maghrib = '';
                let sholat_isya = '';

                let s_subuh = v.sholat_subuh;
                let s_dzuhur = v.sholat_dzuhur;
                let s_ashar = v.sholat_ashar;
                let s_maghrib = v.sholat_maghrib;
                let s_isya = v.sholat_isya;

                if (s_subuh === "1") {
                    sholat_subuh = '<td width="1%" align="center">Ya</td><td width="1%" align="center">-</td>';
                } else if (s_subuh === "0") {
                    sholat_subuh = '<td width="1%" align="center">-</td><td width="1%" align="center">Tidak</td>';
                } else {
                    sholat_subuh = '<td width="1%" align="center">-</td><td width="1%" align="center">-</td>';
                }

                if (s_dzuhur === "1") {
                    sholat_dzuhur = '<td width="1%" align="center">Ya</td><td width="1%" align="center">-</td>';
                } else if (s_dzuhur === "0") {
                    sholat_dzuhur = '<td width="1%" align="center">-</td><td width="1%" align="center">Tidak</td>';
                } else {
                    sholat_dzuhur = '<td width="1%" align="center">-</td><td width="1%" align="center">-</td>';
                }

                if (s_ashar === "1") {
                    sholat_ashar = '<td width="1%" align="center">Ya</td><td width="1%" align="center">-</td>';
                } else if (s_ashar === "0") {
                    sholat_ashar = '<td width="1%" align="center">-</td><td width="1%" align="center">Tidak</td>';
                } else {
                    sholat_ashar = '<td width="1%" align="center">-</td><td width="1%" align="center">-</td>';
                }

                if (s_maghrib === "1") {
                    sholat_maghrib = '<td width="1%" align="center">Ya</td><td width="1%" align="center">-</td>';
                } else if (s_maghrib === "0") {
                    sholat_maghrib = '<td width="1%" align="center">-</td><td width="1%" align="center">Tidak</td>';
                } else {
                    sholat_maghrib = '<td width="1%" align="center">-</td><td width="1%" align="center">-</td>';
                }

                if (s_isya === "1") {
                    sholat_isya = '<td width="1%" align="center">Ya</td><td width="1%" align="center">-</td>';
                } else if (s_isya === "0") {
                    sholat_isya = '<td width="1%" align="center">-</td><td width="1%" align="center">Tidak</td>';
                } else {
                    sholat_isya = '<td width="1%" align="center">-</td><td width="1%" align="center">-</td>';
                }



                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        ${selOp}
                        ${sholat_subuh}
                        ${sholat_dzuhur}
                        ${sholat_ashar}
                        ${sholat_maghrib}
                        ${sholat_isya}
                        ${selPetugas}
                        <td width="3%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusPantauSholat(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#tabel-pemantauan-sholat tbody').append(html);
            })
        }
    }

    function showRuangRawat(data, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $('#table-ruang-rawat tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function formatTanggalPemantauan(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function tanggalAja(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var el = waktu.split(' ');
                        var elem = el[0].split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                let selOp = '';

                if (accountGroup === 'Admin') {

                    selOp = '<td width="2%" align="center">' + ((v.created_date !== null) ? formatTanggalPemantauan(
                        v.created_date) : '') + '</td><td width="2%" align="center">' + v.nama_ruang + '</td>';
                    selPetugas = '<td width="5%" align="center">' + ((v.nama_petugas !== null) ? v.nama_petugas :
                        '') + '</td>';

                } else {

                    selOp = '<td width="2%" align="center">' + v.nama_ruang + '</td>';
                    selPetugas = '';
                }

                let tanggal_ruang_mulai = tanggalAja(v.tanggal_mulai);
                let tanggal_ruang_selesai = tanggalAja(v.tanggal_selesai);


                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        ${selOp}
                        <td width="5%" align="center">${tanggal_ruang_mulai}</td>
                        <td width="5%" align="center">${tanggal_ruang_selesai}</td>
                        ${selPetugas}
                        <td width="3%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusRuangRawat(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#table-ruang-rawat tbody').append(html);
            })
        }

    }

    function showPemasanganAlat(data) {

        $('#table-pemasangan-alat tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function formatTanggalPemasangan(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function tanggalPasang(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var el = waktu.split(' ');
                        var elem = el[0].split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                let selOp = '';
                let selPetugas = '';

                if (accountGroup === 'Admin') {

                    selOp = '<td width="5%" align="center">' + ((v.created_date !== null) ? formatTanggalPemasangan(
                        v.created_date) : '') + '</td>';
                    selPetugas = '<td width="5%" align="center">' + ((v.nama_petugas !== null) ? v.nama_petugas :
                        '') + '</td>';

                } else {

                    selOp = '';
                    selPetugas = '';
                }

                let sirs_tanggal_pasang = ((v.sirs_tanggal_pasang !== null) ? tanggalPasang(v.sirs_tanggal_pasang) :
                    '');
                let sirs_tanggal_lepas = ((v.sirs_tanggal_lepas !== null) ? tanggalPasang(v.sirs_tanggal_lepas) :
                    '');


                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        ${selOp}
                        <td width="5%" align="center">${v.tindakan}</td>
                        <td width="5%" align="center">${sirs_tanggal_pasang}</td>
                        <td width="5%" align="center">${v.sirs_lokasi}</td>
                        <td width="5%" align="center">${v.sirs_alasan_pasang}</td>
                        <td width="5%" align="center">${((v.perawat_pasang !== null) ? v.perawat_pasang : '')}</td>
                        <td width="5%" align="center">${sirs_tanggal_lepas}</td>
                        <td width="5%" align="center">${v.sirs_alasan_lepas}</td>
                        <td width="5%" align="center">${((v.sirs_perawat_lepas !== null) ? v.sirs_perawat_lepas : '')}</td>
                        ${selPetugas}
                        <td width="3%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusDataPasang(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#table-pemasangan-alat tbody').append(html);
            })
        }

    }

    function showPemakaianAntibiotika(data) {

        $('#table-pemakaian-antibiotika tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function formatWaktuEntriAntibiotika(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function tanggalAntibiotika(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var el = waktu.split(' ');
                        var elem = el[0].split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                let selOp = '';
                let selPetugas = '';

                if (accountGroup === 'Admin') {

                    selOp = '<td width="5%" align="center">' + ((v.created_date !== null) ?
                        formatWaktuEntriAntibiotika(v.created_date) : '') + '</td>';
                    selPetugas = '<td width="5%" align="center">' + ((v.nama_petugas !== null) ? v.nama_petugas :
                        '') + '</td>';

                } else {

                    selOp = '';
                    selPetugas = '';
                }

                let sirs_tanggal_pemberian = ((v.sirs_tanggal_pemberian !== null) ? tanggalAntibiotika(v
                    .sirs_tanggal_pemberian) : '');
                let sirs_tanggal_selesai = ((v.sirs_tanggal_selesai !== null) ? tanggalAntibiotika(v
                    .sirs_tanggal_selesai) : '');

                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        ${selOp}
                        <td width="5%" align="center">${v.nama}</td>
                        <td width="5%" align="center">${v.sirs_dosis_antibiotik}</td>
                        <td width="5%" align="center">${sirs_tanggal_pemberian}</td>
                        <td width="5%" align="center">${sirs_tanggal_selesai}</td>
                        <td width="5%" align="center">${((v.sirs_teknik_antibiotik !== null) ? v.sirs_teknik_antibiotik : '')}</td>
                        ${selPetugas}
                        <td width="3%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusDataAntibiotik(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#table-pemakaian-antibiotika tbody').append(html);
            })
        }

    }

    function showBuktiVisitDokter(data, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $('#tabel-data-visit tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function tanggalVisit(waktu) {
                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function formatTanggalVisit(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                let selOp = '';

                if (accountGroup === 'Admin') {

                    selOp = '</td><td width="2%" align="center">' + ((v.tanggal_waktu_visit !== null) ?
                        tanggalVisit(v.tanggal_waktu_visit) : '') + '</td>';

                } else {

                    selOp = '<td width="2%" align="center">' + ((v.tanggal_waktu_visit !== null) ? tanggalVisit(v
                        .tanggal_waktu_visit) : '') + '</td>';
                }

                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        ${selOp}
                        <td width="5%" align="center">${v.nama_dokter}</td>
                        <td width="1%" align="center">${v.keterangan_visit}</td>
                        <td width="5%" align="center">${v.akun_user}</td>
                        <td width="5%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusBuktiVisitDokter(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#tabel-data-visit tbody').append(html);
            })
        }

    }

    function showDaftarDPJP(data, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $('#table-daftar-dokter-dpjp tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function tanggalAwalDPJP(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var elem = waktu.split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                function formatTanggalAwalDPJP(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function tanggalAkhirDPJP(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var elem = waktu.split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                function formatTanggalAkhirDPJP(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function tanggalAwalDPJPUtama(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var elem = waktu.split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                function formatTanggalAwalDPJPUtama(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function tanggalAkhirDPJPUtama(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var elem = waktu.split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                function formatTanggalAkhirDPJPUtama(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                let selOp = '';

                if (accountGroup === 'Admin') {

                    selOp = '<td  align="center">' + ((v.tanggal_awal_dpjp !== null) ? tanggalAwalDPJP(v
                        .tanggal_awal_dpjp) : '') + '</td>';

                } else {

                    selOp = '<td  align="center">' + ((v.tanggal_awal_dpjp !== null) ? tanggalAwalDPJP(v
                        .tanggal_awal_dpjp) : '') + '</td>';
                }

                let selOp2 = '';

                if (accountGroup === 'Admin') {

                    selOp2 = '<td  align="center">' + ((v.tanggal_akhir_dpjp !== null) ? tanggalAkhirDPJP(v
                        .tanggal_akhir_dpjp) : '') + '</td>';

                } else {

                    selOp2 = '<td  align="center">' + ((v.tanggal_akhir_dpjp !== null) ? tanggalAkhirDPJP(v
                        .tanggal_akhir_dpjp) : '') + '</td>';
                }

                let selOp3 = '';

                if (accountGroup === 'Admin') {

                    selOp3 = '<td  align="center">' + ((v.tanggal_awal_dpjp_utama !== null) ? tanggalAwalDPJPUtama(v
                        .tanggal_awal_dpjp_utama) : '') + '</td>';

                } else {

                    selOp3 = '<td  align="center">' + ((v.tanggal_awal_dpjp_utama !== null) ? tanggalAwalDPJPUtama(v
                        .tanggal_awal_dpjp_utama) : '') + '</td>';
                }

                let selOp4 = '';

                if (accountGroup === 'Admin') {

                    selOp4 = '<td  align="center">' + ((v.tanggal_akhir_dpjp_utama !== null) ?
                        tanggalAkhirDPJPUtama(v.tanggal_akhir_dpjp_utama) : '') + '</td>';

                } else {

                    selOp4 = '<td  align="center">' + ((v.tanggal_akhir_dpjp_utama !== null) ?
                        tanggalAkhirDPJPUtama(v.tanggal_akhir_dpjp_utama) : '') + '</td>';
                }

                let html = /* html */ `
                    <tr>
                        <td class="number-terapi" align="center">${(++i)}</td>
                        <td align="center">${v.diagnosis_dokter}</td>
                        <td  align="center">${v.nama_dokter_dpjp}</td>
                        ${selOp}
                        ${selOp2}
                        <td  align="center">${v.nama_dokter_dpjp_utama}</td>
                        ${selOp3}
                        ${selOp4}
                        <td  align="center">${v.keterangan_dpjp}</td>
                        <td width="5%" align="center">${v.akun_user}</td>
                        <td  align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusDaftarDokterDPJP(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#table-daftar-dokter-dpjp tbody').append(html);
            })
        }

    }

    function showCatatanOperanPerawatPagi(data, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $('#table-catatan-operan-perawat-pagi tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function tanggalCOPPagi(waktu) {
                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];
                }

                function formatTanggalCOPPagi(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                let html = '';
                $('#operan-diagnosa-keperawatan').val(v.operan_diagnosa_keperawatan);

                let selOpPagi = '';

                if (accountGroup === 'Admin') {

                    selOpPagi = '</td><td width="2%" align="center">' + ((v.tanggal_waktu_pagi !== null) ?
                        tanggalCOPPagi(v.tanggal_waktu_pagi) : '') + '</td>';

                } else {

                    selOpPagi = '<td width="2%" align="center">' + ((v.tanggal_waktu_pagi !== null) ?
                        tanggalCOPPagi(v.tanggal_waktu_pagi) : '') + '</td>';
                }

                html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        <td width="5%" align="center">${v.dokter_dpjp_pagi}</td>
                        <td width="5%" align="center">${v.konsulen_pagi}</td>
                        <td width="5%" align="center">${v.diagnosa_keperawatan_pagi == null ? '' : v.diagnosa_keperawatan_pagi}</td>
                        ${selOpPagi}
                        <td width="5%" align="center">${v.rencana_tindakan_pagi  == null ? '' : v.rencana_tindakan_pagi}</td>
                        <td width="1%" align="center">${v.infus_pagi == null ? '' : v.infus_pagi}</td>
                        <td width="5%" align="center">${v.petugas_mengover_pagi}</td>
                        <td width="5%" align="center">${v.petugas_menerima_pagi}</td>
                        <td width="5%" align="center">${v.akun_user}</td>
                        <td width="5%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusCatatanOperanPagi(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#table-catatan-operan-perawat-pagi tbody').append(html);
            })
        }

    }

    function showCatatanOperanPerawatSore(data, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $('#table-catatan-operan-perawat-sore tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function tanggalCOPSore(waktu) {
                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function formatTanggalCOPSore(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];
                }

                let selOpSore = '';

                if (accountGroup === 'Admin') {

                    selOpSore = '</td><td width="2%" align="center">' + ((v.tanggal_waktu_sore !== null) ?
                        tanggalCOPSore(v.tanggal_waktu_sore) : '') + '</td>';

                } else {

                    selOpSore = '<td width="2%" align="center">' + ((v.tanggal_waktu_sore !== null) ?
                        tanggalCOPSore(v.tanggal_waktu_sore) : '') + '</td>';
                }

                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        <td width="5%" align="center">${v.dokter_dpjp_sore}</td>
                        <td width="5%" align="center">${v.konsulen_sore}</td>
                        <td width="5%" align="center">${v.diagnosa_keperawatan_sore == null ? '' : v.diagnosa_keperawatan_sore}</td>
                        ${selOpSore}
                        <td width="5%" align="center">${v.rencana_tindakan_sore == null ? '' : v.rencana_tindakan_sore}</td>
                        <td width="1%" align="center">${v.infus_sore == null ? '' : v.infus_sore}</td>
                        <td width="5%" align="center">${v.petugas_mengover_sore}</td>
                        <td width="5%" align="center">${v.petugas_menerima_sore}</td>
                        <td width="5%" align="center">${v.akun_user}</td>
                        <td width="5%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusCatatanPerawatSore(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#table-catatan-operan-perawat-sore tbody').append(html);

            })
        }

    }

    function showCatatanOperanPerawatMalam(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#table-catatan-operan-perawat-malam tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function tanggalCOPMalam(waktu) {
                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function formatTanggalCOPMalam(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];
                }

                let selOpMalam = '';

                if (accountGroup === 'Admin') {

                    selOpMalam = '</td><td width="2%" align="center">' + ((v.tanggal_waktu_malam !== null) ?
                        tanggalCOPMalam(v.tanggal_waktu_malam) : '') + '</td>';

                } else {

                    selOpMalam = '<td width="2%" align="center">' + ((v.tanggal_waktu_malam !== null) ?
                        tanggalCOPMalam(v.tanggal_waktu_malam) : '') + '</td>';
                }

                let html = /* html */ `
                    <tr>
                            <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                            <td width="5%" align="center">${v.dokter_dpjp_malam}</td>
                            <td width="5%" align="center">${v.konsulen_malam}</td>
                            <td width="5%" align="center">${v.diagnosa_keperawatan_malam == null ? '' : v.diagnosa_keperawatan_malam}</td>
                            ${selOpMalam}
                            <td width="5%" align="center">${v.rencana_tindakan_malam == null ? '' : v.rencana_tindakan_malam}</td>
                            <td width="1%" align="center">${v.infus_malam == null ? '' : v.infus_malam }</td>
                            <td width="5%" align="center">${v.petugas_mengover_malam}</td>
                            <td width="5%" align="center">${v.petugas_menerima_malam}</td>
                            <td width="5%" align="center">${v.akun_user}</td>
                            <td width="5%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusCatatanPerawatMalam(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                        </tr>
                    `;
                $('#table-catatan-operan-perawat-malam tbody').append(html);

            })
        }

    }


    function showCatatanTindakanKeperawatan(data, id_pendaftaran, id_layanan_pendaftaran, bed, action) {
        $('#tabel-catatan-tindakan-keperawatan tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                function formatTanggalCatatanTIND(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function formatTanggalCTIND(waktu) {

                    var elem_tgl = waktu.split('-');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun;

                }

                let selOp = '';

                let ek_bismillah_pagi = '';
                let ek_cek_pagi = '';
                let ek_paraf_pagi = '';
                let ek_hamdalah_pagi = '';
                let ek_bismillah_sore = '';
                let ek_cek_sore = '';
                let ek_paraf_sore = '';
                let ek_hamdalah_sore = '';
                let ek_bismillah_malam = '';
                let ek_cek_malam = '';
                let ek_paraf_malam = '';
                let ek_hamdalah_malam = '';
                let ek_perawat_pagi = '';
                let ek_perawat_sore = '';
                let ek_perawat_malam = '';

                if (v.ek_perawat_tindakan_pagi === '442') {

                    ek_perawat_pagi = '';

                } else {

                    ek_perawat_pagi = v.perawat_pagi;

                }

                if (v.ek_perawat_tindakan_sore === '442') {

                    ek_perawat_sore = '';

                } else {

                    ek_perawat_sore = v.perawat_sore;

                }

                if (v.ek_perawat_tindakan_malam === '442') {

                    ek_perawat_malam = '';

                } else {

                    ek_perawat_malam = v.perawat_malam;

                }

                if (v.ek_bismillah_pagi === '1') {

                    ek_bismillah_pagi = 'V';

                } else {

                    ek_bismillah_pagi = '';

                }

                if (v.ek_cek_pagi === '1') {

                    ek_cek_pagi = 'V';

                } else {

                    ek_cek_pagi = '';

                }

                if (v.ek_paraf_pagi === '1') {

                    ek_paraf_pagi = 'V';

                } else {

                    ek_paraf_pagi = '';

                }

                if (v.ek_hamdalah_pagi === '1') {

                    ek_hamdalah_pagi = 'V';

                } else {

                    ek_hamdalah_pagi = '';

                }

                if (v.ek_bismillah_sore === '1') {

                    ek_bismillah_sore = 'V';

                } else {

                    ek_bismillah_sore = '';

                }

                if (v.ek_cek_sore === '1') {

                    ek_cek_sore = 'V';

                } else {

                    ek_cek_sore = '';

                }

                if (v.ek_paraf_sore === '1') {

                    ek_paraf_sore = 'V';

                } else {

                    ek_paraf_sore = '';

                }

                if (v.ek_hamdalah_sore === '1') {

                    ek_hamdalah_sore = 'V';

                } else {

                    ek_hamdalah_sore = '';

                }

                if (v.ek_bismillah_malam === '1') {

                    ek_bismillah_malam = 'V';

                } else {

                    ek_bismillah_malam = '';

                }

                if (v.ek_cek_malam === '1') {

                    ek_cek_malam = 'V';

                } else {

                    ek_cek_malam = '';

                }

                if (v.ek_paraf_malam === '1') {

                    ek_paraf_malam = 'V';

                } else {

                    ek_paraf_malam = '';

                }

                if (v.ek_hamdalah_malam === '1') {

                    ek_hamdalah_malam = 'V';

                } else {

                    ek_hamdalah_malam = '';

                }

                let date = '';
                let petugas = '';

                if (v.updated_date !== null) {

                    date = v.updated_date;
                    petugas = v.akun_gid;

                } else {

                    date = v.created_date;
                    petugas = v.akun_user;
                }


                // if (accountGroup === 'Admin') {

                let groupAccount = "<?= $this->session->userdata('account_group') ?>";
		        var profesi = '<?= $this->session->userdata('profesi_nadis') ?>';

                selOp = '<td width="2%" align="center">' + ((date !== null) ? formatTanggalCatatanTIND(date) : '') + '<td width="8%" align="center">' + petugas + '</td>';
                
                if (groupAccount == 'Admin' | profesi == 'Dokter Umum' | profesi == 'Dokter Spesialis' | profesi == 'Bidan' | profesi == 'Perawat' | profesi == 'Fisioterapis' | profesi == 'Nutrisionis') {
                    selOpBtn = '<td width="3%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editCatatanTindakan(this, ' + v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                        '\'' + ', \'' + action + '\')"><i class="fas fa-edit"></i></button><button type="button" class="btn btn-secondary btn-xs" onclick="hapusCatatanTindakan(this, ' +
                        v.id + ', \'' + action + '\')"><i class="fas fa-trash-alt"></i></button></td>';
                } else {
                    selOpBtn = '<td></td>';
                }

                // } else {

                //     selOp =
                //         '<td width="3%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editCatatanTindakan(this, ' +
                //         v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                //         '\')"><i class="fas fa-edit"></i></button><button type="button" class="btn btn-secondary btn-xs" onclick="hapusCatatanTindakan(this, ' +
                //         v.id + ')"><i class="fas fa-trash-alt"></i></button></td>';
                // }


                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        <td width="8%" align="left">${v.nama_tindakan == null ? v.ek_catatan_tindakan_keperawatan_manual : v.nama_tindakan}</td>   
                        <td width="1%" align="left">${((typeof v.ek_keterangan_catatan === 'object') || (v.ek_keterangan_catatan === '') || (v.ek_keterangan_catatan === null) ? '-' : v.ek_keterangan_catatan)}</td>
                        <td width="1%" align="center">` + ((v.ek_tanggal_catatan_tindakan !== null) ?
                    formatTanggalCTIND(v.ek_tanggal_catatan_tindakan) : '') + `</td>
                        <td width="1%" align="center">${ek_bismillah_pagi}</td>
                        <td width="1%" align="center">${ek_cek_pagi}</td>
                        <td width="1%" align="center">${((v.ek_jam_pagi !== null) ? timerzmysql(v.ek_jam_pagi) : '')}</td>
                        <td width="1%" align="center">${ek_paraf_pagi}</td>
                        <td width="1%" align="center">${ek_perawat_pagi}</td>
                        <td width="1%" align="center">${ek_hamdalah_pagi}</td>
                        <td width="1%" align="center">${ek_bismillah_sore}</td>
                        <td width="1%" align="center">${ek_cek_sore}</td>
                        <td width="1%" align="center">${((v.ek_jam_sore !== null) ? timerzmysql(v.ek_jam_sore) : '')}</td>
                        <td width="1%" align="center">${ek_paraf_sore}</td>
                        <td width="1%" align="center">${ek_perawat_sore}</td>
                        <td width="1%" align="center">${ek_hamdalah_sore}</td>
                        <td width="1%" align="center">${ek_bismillah_malam}</td>
                        <td width="1%" align="center">${ek_cek_malam}</td>
                        <td width="1%" align="center">${((v.ek_jam_malam !== null) ? timerzmysql(v.ek_jam_malam) : '')}</td>
                        <td width="1%" align="center">${ek_paraf_malam}</td>
                        <td width="1%" align="center">${ek_perawat_malam}</td>
                        <td width="1%" align="center">${ek_hamdalah_malam}</td>
                        ${selOp} 
                        ${selOpBtn} 
                    </tr>
                `;
                $('#tabel-catatan-tindakan-keperawatan tbody').append(html);
            })
        }

    }

    function showRencanaTindakanKeperawatan(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-ek-rencana-tindakan tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
           
            $('#tindakan-manual').attr('hidden', true);

            $('#ek-cek-tindakan-manual').on('change', function() {
                if ($('#ek-cek-tindakan-manual').prop('checked')) {
                    $('#s2id_ek-catatan-tindakan a .select2c-chosen').empty();
                    $('#ek-catatan-tindakan').val('');
                    $('#tindakan-manual').removeAttr('hidden');
                    $('#catatan-tindakan').attr('hidden', true);
                } else {
                    $('#ek-catatan-tindakan-manual').val('');
                    $('#catatan-tindakan').removeAttr('hidden');
                    $('#tindakan-manual').attr('hidden', true);
                }
            });

            $.each(data, function(i, v) {

                function formatTanggalRencanaTIND(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                function formatTanggalRTIND(waktu) {

                    var elem_tgl = waktu.split('-');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun;

                }

                let selOp = '';

                let tambahan_status = '';
                let ek_waktu_pagi = '';
                let ek_waktu_siang = '';
                let ek_waktu_malam = '';
                let ek_tambahan_status_dua = '';
                let ek_waktu_pagi_dua = '';
                let ek_waktu_siang_dua = '';
                let ek_waktu_malam_dua = '';
                let ek_tambahan_status_tiga = '';
                let ek_waktu_pagi_tiga = '';
                let ek_waktu_siang_tiga = '';
                let ek_waktu_malam_tiga = '';

                if (v.ek_tambahan_status === '1') {

                    tambahan_status = 'V';

                } else {

                    tambahan_status = '';

                }

                if (v.ek_waktu_pagi === '1') {

                    ek_waktu_pagi = 'V';

                } else {

                    ek_waktu_pagi = '';

                }

                if (v.ek_waktu_siang === '1') {

                    ek_waktu_siang = 'V';

                } else {

                    ek_waktu_siang = '';

                }

                if (v.ek_waktu_malam === '1') {

                    ek_waktu_malam = 'V';

                } else {

                    ek_waktu_malam = '';

                }

                if (v.ek_tambahan_status_dua === '1') {

                    ek_tambahan_status_dua = 'V';

                } else {

                    ek_tambahan_status_dua = '';

                }

                if (v.ek_waktu_pagi_dua === '1') {

                    ek_waktu_pagi_dua = 'V';

                } else {

                    ek_waktu_pagi_dua = '';

                }

                if (v.ek_waktu_siang_dua === '1') {

                    ek_waktu_siang_dua = 'V';

                } else {

                    ek_waktu_siang_dua = '';

                }

                if (v.ek_waktu_malam_dua === '1') {

                    ek_waktu_malam_dua = 'V';

                } else {

                    ek_waktu_malam_dua = '';

                }

                if (v.ek_tambahan_status_tiga === '1') {

                    ek_tambahan_status_tiga = 'V';

                } else {

                    ek_tambahan_status_tiga = '';

                }

                if (v.ek_waktu_pagi_tiga === '1') {

                    ek_waktu_pagi_tiga = 'V';

                } else {

                    ek_waktu_pagi_tiga = '';

                }

                if (v.ek_waktu_siang_tiga === '1') {

                    ek_waktu_siang_tiga = 'V';

                } else {

                    ek_waktu_siang_tiga = '';

                }

                if (v.ek_waktu_malam_tiga === '1') {

                    ek_waktu_malam_tiga = 'V';

                } else {

                    ek_waktu_malam_tiga = '';

                }


                if (accountGroup === 'Admin') {

                    selOp = '<td width="2%" align="center">' + ((v.created_date !== null) ?
                            formatTanggalRencanaTIND(v.created_date) : '') + '<td width="8%" align="center">' + v
                        .nama_tindakan + '</td>';

                } else {

                    selOp = '<td width="8%" align="center">' + v.nama_tindakan + '</td>';
                }

                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        ${selOp}
                        <td width="1%" align="center">${v.keterangan}</td>
                        <td width="1%" align="center">` + ((v.tanggal_tindakan_satu !== null) ? formatTanggalRTIND(v
                    .tanggal_tindakan_satu) : '') + `</td>
                        <td width="1%" align="center">${tambahan_status}</td>
                        <td width="1%" align="center">${ek_waktu_pagi}</td>
                        <td width="1%" align="center">${ek_waktu_siang}</td>
                        <td width="1%" align="center">${ek_waktu_malam}</td>
                        <td width="1%" align="center">` + ((v.tanggal_tindakan_dua !== null) ? formatTanggalRTIND(v
                    .tanggal_tindakan_dua) : '') + `</td>
                        <td width="1%" align="center">${ek_tambahan_status_dua}</td>
                        <td width="1%" align="center">${ek_waktu_pagi_dua}</td>
                        <td width="1%" align="center">${ek_waktu_siang_dua}</td>
                        <td width="1%" align="center">${ek_waktu_malam_dua}</td>
                        <td width="1%" align="center">` + ((v.tanggal_tindakan_tiga !== null) ? formatTanggalRTIND(v
                    .tanggal_tindakan_tiga) : '') + `</td>
                        <td width="1%" align="center">${ek_tambahan_status_tiga}</td>
                        <td width="1%" align="center">${ek_waktu_pagi_tiga}</td>
                        <td width="1%" align="center">${ek_waktu_siang_tiga}</td>
                        <td width="1%" align="center">${ek_waktu_malam_tiga}</td>
                        <td width="5%" align="center">${v.akun_user}</td>
                        <td width="3%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="hapusRencanaTindakan(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
                    </tr>
                `;
                $('#tabel-ek-rencana-tindakan tbody').append(html);
            })
        }

    }

    function hapusRencanaTindakan(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_rencana_tindakan_keperawatan") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Rencana Tindakan Keperawatan', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusRuangRawat(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_ruang_rawat") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Ruang Rawat', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusDataPasang(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_data_pasang") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Data Pasang', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusDataAntibiotik(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_data_antibiotik") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Data Pasang', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusPantauSholat(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_pantau_sholat") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Pemantauan Sholat', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusKajiUlang(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_kaji_ulang") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Terapi Pulang', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusPemantauan(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_pemantauan") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Pemantauan', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusBuktiVisitDokter(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_bukti_visit") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Bukti Visit Dokter', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusCatatanOperanPagi(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_catatan_operan_pagi") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Bukti Visit Dokter', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusCatatanPerawatSore(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_catatan_operan_sore") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Bukti Visit Dokter', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusCatatanPerawatMalam(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_catatan_operan_malam") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Bukti Visit Dokter', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusDaftarDokterDPJP(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_daftar_dokter_dpjp") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Daftar Dokter DPJP', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function showPemantauanUlang(num) {

        let html = bukaLebar('Form Pengkajian dan Pemantauan Ulang Nyeri', num);

        html += /* html */ `
                            <table class="table table-no-border table-sm table-striped">
                                <tr>
                                    <td>
                                        Tanggal Pemantauan
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <input type="text" name="tanggal_kaji" id="pundpn-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-lg-5 ml-2" placeholder="dd/mm/yyyy hh:ii">
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Skor Nyeri
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <select name="skor_nyeri" class="custom-select col-lg-5 ml-2" id="pundpn-skor-nyeri">
                                            <option value="0">0</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Tindakan
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <textarea name="tindakan_petugas" id="tindakan-petugas" class="form-control col-lg-8 ml-2" rows="4"></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button type="button" title="Tambah Kajian" class="btn btn-info" onclick="tambahKajiUlang()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Kajian</button>
                                    </td>
                                </tr>
                            </table>
                            <hr>
                            
        `;

        html += tutupRapet();

        $('#buka-pengkajian-pemantauan').append(html);
    }

    function showFormSurgicalSafetyCeklis(num) {

        let html = bukaLebar('Form Surgical Safety Ceklis', num);

        html += /* html */ `
        <table class="table table-no-border table-sm table-striped" id="form-ssc">
            <thead class="text-center">
                <tr>
                    <th colspan="2">
                        <h4>sign in</h4>
                    </th>
                    <th colspan="2">
                        <h4>time out</h4>
                    </th>
                    <th colspan="2">
                        <h4>sign out</h4>
                    </th>
                </tr>
                <tr>
                    <th colspan="2">(sebelum induksi Anestesi)</th>
                    <th colspan="2">(sebelum insisi kulit)</th>
                    <th colspan="2">(sebelum pasien keluar kamar operasi)</th>
                </tr>
            </thead>
            <tbody>
                <tr class="text-center">
                    <td colspan="2">Diklakukan oleh perawat dan dokter anestesi
                    </td>
                    <td colspan="2">Diklakukan oleh perawat, dokter anestesi dan
                        ahli bedah</td>
                    <td colspan="2">Diklakukan oleh perawat, dokter anestesi dan
                        ahli bedah</td>
                </tr>
                <tr>
                    <td colspan="2"><b>VERIFIKASI</b></td>
                    <td colspan="2"><b>KELENGKAPAN TIM DAN FASILITAS OPERASI</b>
                    </td>
                    <td colspan="2"><b>BACA SECARA VERBAL</b></td>
                </tr>
                <tr>
                    <td>
                        Identitas dan Gelang Pasien
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_gelang" id="ssc-gelang" value="1">
                    </td>
                    <td>
                        Lengkap
                    </td>
                    <td>
                        <input type="radio" name="ssc_lengkap" id="ssc-lengkap" value="1">
                    </td>
                    <td>
                        Nama Tindakan
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_nama_tindakan_sign_out" id="ssc-nama-tindakan-sign-out" value="1">
                    </td>
                </tr>
                <tr>
                    <td>
                        Informed Concent
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_informed" id="ssc-informed" value="1">
                    </td>
                    <td>Tidak lengkap, alasan</td>
                    <td>
                        <input type="radio" name="ssc_lengkap" id="ssc-tidak-lengkap" value="0">
                        <input type="text" name="alasan" id="ssc-alasan" class="custom-form clear-input d-inline-block col-lg-10 ml-1">
                    </td>
                    <td colspan="2">
                        <b>PEMERIKSAAN KELENGKAPAN SEBELUM LUKA OPERASI DITUTUP</b>
                    </td>
                </tr>
                <tr>
                    <td>
                        Dokter Bedah
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_dokter_bedah" id="ssc-dokter-bedah" value="1">
                    </td>
                    <td colspan="2">
                        <b>PEMERIKSAAN KELENGKAPAN PERALATAN OPERASI</b>
                    </td>
                    <td>
                        Instrument
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_instrument_sign_out" id="ssc-instrument-sign-out" value="1">
                    </td>
                </tr>
                <tr>
                    <td>
                        Dokter Anestesi
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_anestesi" id="ssc-anestesi" value="1">
                    </td>
                    <td>
                        Instrument
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_instrument" id="ssc-instrument" value="1">
                    </td>
                    <td>
                        Kassa
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_kassa_sign_out" id="ssc-kassa-sign-out" value="1">
                    </td>
                </tr>
                <tr>
                    <td>
                        Nama Operator
                    </td>
                    <td>
                        <input type="text" name="ssc_dokter_operator" id="ssc-dokter-operator" class="select2c-input">
                    </td>
                    <td>
                        Kassa
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_kassa" id="ssc-kassa" value="1">
                    </td>
                    <td>
                        Jarum
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_jarum_sign_out" id="ssc-jarum-sign-out" value="1">
                    </td>
                </tr>
                <tr>
                    <td>
                        Nama Anestesi
                    </td>
                    <td>
                        <input type="text" name="ssc_dokter_anestesi" id="ssc-dokter-anestesi" class="select2c-input">
                    </td>
                    <td>
                        Jarum
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_jarum" id="ssc-jarum" value="1">
                    </td>
                    <td colspan="2">
                        <b>PERIKSA KELENGKAPAN BAHAN PEMERIKSAAN</b>
                    </td>
                </tr>
                <tr>
                    <td>
                        Nama Tindakan
                    </td>
                    <td>
                        <input type="text" name="ssc_nama_tindakan" id="ssc-nama-tindakan" class="custom-form clear-input d-inline-block col-lg-12">
                    </td>
                    <td colspan="2">
                        <b>BACA SECARA VERBAL</b>
                    </td>
                    <td colspan="2">
                        Preprat :
                    </td>
                </tr>
                <tr>
                    <td>
                        Pemberian Tanda Lokasi Operasi
                    </td>
                    <td>
                        <input class="mr-1" type="radio" name="ssc_lokasi" id="ssc-lokasi-ya" value="1">Ya
                        <input class="ml-2 mr-1" type="radio" name="ssc_lokasi" id="ssc-lokasi-tidak" value="0">Tidak
                    </td>
                    <td>
                        Tanggal Tindakan
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_tanggal_tindakan" id="ssc-tanggal-tindakan" value="1">
                    </td>
                    <td>
                    Ya
                    </td>
                    <td>
                        <input type="radio" name="ssc_preparat" id="ssc-preparat-ya" value="1">
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <b>PEMERIKSAAN KELENGKAPAN ANESTESI</b>
                    </td>
                    <td>
                        Identitas Pasien
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_identitas_pasien" id="ssc-identitas-pasien" value="1">
                    </td>
                    <td></td>
                    <td>
                        <input type="checkbox" name="ssc_preparat_pa" class="mr-1" id="ssc-preparat-pa" value="1">PA
                    </td>
                </tr>
                <tr>
                    <td>
                        Mesin Anestesi
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_mesin_anestesi" id="ssc-mesin-anestesi" value="1">
                    </td>
                    <td>
                        Nama Tindakan
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_nama_tindakan_time_out" id="ssc-nama-tindakan-time-out" value="1">
                    </td>
                    <td></td>
                    <td>
                        <input type="checkbox" name="ssc_preparat_kultur" class="mr-1" id="ssc-preparat-kultur" value="1">Kultur
                    </td>
                </tr>
                <tr>
                    <td>
                        Obat - obatan
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_obat" id="ssc-obat" value="1">
                    </td>
                    <td>
                        Prosedur Tindakan
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_prosedur_tindakan" id="ssc-prosedur-tindakan" value="1"></td>
                    <td></td>
                    <td>
                        <input type="checkbox" name="ssc_preparat_sitologi" class="mr-1" id="ssc-preparat-sitologi" value="1">Sitologi
                    </td>
                </tr>
                <tr>
                    <td>
                        Pulse Oximeter
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_oximeter" id="ssc-oximeter" value="1">
                    </td>
                    <td>
                        lokasi Tindakan
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_lokasi_tindakan" id="ssc-lokasi-tindakan" value="1">
                    </td>
                    <td>
                        Tidak
                    </td>
                    <td>
                        <input type="radio" name="ssc_preparat" id="ssc-preparat-tidak" value="0">
                    </td>
                </tr>
                <tr>
                    <td>
                        Laboratorium
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_lab" id="ssc-lab" value="1">
                    </td>
                    <td>
                        Informed Consent
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_consent" id="ssc-consent" value="1">
                    </td>
                    <td colspan="2">
                        Formulir permintaan pemeriksaan :
                    </td>
                </tr>
                <tr>
                    <td>
                        IV line
                    </td>
                    <td>
                        <input type="checkbox" name="ssc_line" id="ssc-line" value="1"></td>
                    <td colspan="2">
                        <b>PREMEDIKASI</b>
                    </td>
                    <td>
                        Ya
                    </td>
                    <td>
                        <input type="radio" name="ssc_formulir_permintaan" id="ssc-formulir-permintaan-ya" value="1">
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <b>PEMERIKSAAN TANDA VITAL</b>
                    </td>
                    <td>Tidak Ada</td>
                    <td><input type="radio" name="ssc_premedikasi"
                            id="ssc-premedikasi-tidak-ada" value="0"></td>
                    <td>
                        Tidak
                    </td>
                    <td>
                        <input type="radio" name="ssc_formulir_permintaan" id="ssc-formulir-permintaan-tidak" value="0">
                    </td>
                </tr>
                <tr>
                    <td>Tekanan Darah</td>
                    <td><input type="text" name="ssc_tekanan_darah"
                            id="ssc-tekanan-darah"
                            class="custom-form clear-input d-inline-block col-lg-12"
                            placeholder=""></td>
                            <td>
                        Ada
                    </td>
                    <td>
                        <input type="radio" name="ssc_premedikasi" id="ssc-premedikasi-ada" value="1">
                    </td>
                    <td colspan="2">Telah dilengkapi identitas pasien:</td>
                </tr>
                <tr>
                    <td>Nadi</td>
                    <td><input type="text" name="ssc_nadi" id="ssc-nadi"
                            class="custom-form clear-input d-inline-block col-lg-12"
                            placeholder=""></td>
                    <td>Nama Obat</td>
                    <td>
                        <input type="text" name="ssc_premedikasi_obat"
                            id="ssc-premedikasi-obat" class="select2c-input">
                    </td>
                    <td>Ya</td>
                    <td><input type="radio" name="ssc_lengkap_pasien" id="ssc-lengkap-pasien-ya" value="1"></td>
                </tr>
                <tr>
                    <td>Pernafasan</td>
                    <td><input type="text" name="ssc_pernafasan"
                            id="ssc-pernafasan"
                            class="custom-form clear-input d-inline-block col-lg-12" placeholder=""></td>
                    <td>Tanggal & jam diberikan</td>
                    <td><input type="text" name="ssc_tanggal_obat"
                            id="ssc-tanggal-obat"
                            class="custom-form clear-d-inline-block col-lg-5"
                            placeholder="dd/mm/yyyy hh:mm"></td>
                    <td>Tidak</td>
                    <td><input type="radio" name="ssc_lengkap_pasien" id="ssc-lengkap-pasien-tidak" value="0"></td>
                </tr>
                <tr>
                    <td>Saturasi O2</td>
                    <td><input type="text" name="ssc_saturasi" id="ssc-saturasi"
                            class="custom-form clear-input d-inline-block col-lg-12"
                            placeholder=""></td>
                    <td colspan="2"><b>ANTIBIOTIK PROFILAKSIS</b></td>
                    <td colspan="2">Penjelasan oleh operator kepada keluarga
                        pasien
                        :</td>
                </tr>
                <tr>
                    <td>Suhu</td>
                    <td><input type="text" name="ssc_suhu" id="ssc-suhu"
                            class="custom-form clear-input d-inline-block col-lg-12"
                            placeholder=""></td>
                    <td colspan="2">Apakah sudah diberikan dalam waktu
                        sekurangnya
                        60 menit ?</td>
                    <td>Ya</td>
                    <td><input type="radio" name="ssc_penjelasan_keluarga"
                            id="ssc-penjelasan-Keluarga-ya" value="1"></td>
                </tr>
                <tr>
                    <td colspan="2"><b>RIWAYAT ALERGI</b></td>
                    <td>Tidak</td>
                    <td> <input type="radio" name="ssc_antibiotik"
                            id="ssc-antibiotik-tidak" value="0"></td>
                    <td>Tidak, alasan</td>
                    <td>
                        <input type="radio"
                            name="ssc_penjelasan_keluarga"
                            id="ssc-penjelasan-Keluarga-tidak" value="0">
                        <input type="text" name="ssc_penjelasan_keluarga_ket"
                            id="ssc-penjelasan-keluarga-ket"
                            class="custom-form clear-input d-inline-block col-lg-10 ml-1">
                    </td>
                </tr>
                <tr>
                    <td>Ada, Keterangan</td>
                    <td>
                        <input type="radio" name="ssc_alergi"
                            id="ssc-alergi-ya" value="1">
                        <input type="text" name="ssc_alergi_ket" id="ssc-alergi-ket"
                            class="custom-form clear-input d-inline-block col-lg-11 ml-1">
                    </td>
                    <td>Ya</td>
                    <td><input type="radio" name="ssc_antibiotik"
                            id="ssc-antibiotik-ya" value="1"></td>
                    <td colspan="2"><b>OBAT-OBATAN YANG DIBERIKAN SELAMA
                            OPERASI</b>
                    </td>
                </tr>
                <tr>
                    <td>Tidak</td>
                    <td> <input type="radio" name="ssc_alergi"
                            id="ssc-alergi-tidak" value="0"></td>
                    <td>Nama Obat</td>
                    <td>
                        <input type="text" name="ssc_antibiotik_obat"
                            id="ssc-antibiotik-obat" class="select2c-input">
                    </td>
                    <td>Diberikan, alasan</td>
                    <td>
                        <input type="radio" name="ssc_obat_operasi"
                            id="ssc-obat-operasi-ya" value="1">
                        <input type="text" name="ssc_obat_operasi_ya_alasan"
                            id="ssc-obat-operasi-ya-alasan"
                            class="custom-form clear-input d-inline-block col-lg-10 ml-1">
                    </td>
                </tr>
                <tr>
                    <td colspan="2"><b>RESIKO ASPIRASI ATAU GANGGUAN
                            PERNAFASAN</b>
                    </td>
                    <td>Dosis obat</td>
                    <td><input type="text" name="ssc_antibiotik_dosis"
                            id="ssc-antibiotik-dosis"
                            class="custom-form clear-input d-inline-block">
                    </td>
                    <td>Tidak diberikan, alasan</td>
                    <td>
                        <input type="radio" name="ssc_obat_operasi"
                            id="ssc-obat-operasi-tidak" value="0">
                        <input type="text" name="ssc_obat_operasi_tidak_alasan"
                            id="ssc-obat-operasi-tidak-alasan"
                            class="custom-form clear-input d-inline-block col-lg-10 ml-1">
                    </td>
                </tr>
                <tr>
                    <td>Ya, dengan bantuan alat</td>
                    <td><input type="radio" name="ssc_aspirasi"
                            id="ssc-aspirasi-ya" value="1"></td>
                    <td>jam diberikan</td>
                    <td><input type="text" name="ssc_jam_antibiotik_obat"
                            id="ssc-jam-antibiotik-obat"
                            class="custom-form clear-d-inline-block col-lg-3"
                            placeholder="hh:mm"></td>
                    <td colspan="2"><b>PEMERIKSAAN TANDA VITAL</b></td>
                </tr>
                <tr>
                    <td>Tidak</td>
                    <td> <input type="radio" name="ssc_aspirasi"
                            id="ssc-aspirasi-tidak" value="0"></td>
                    <td colspan="2"><b>FOTO PEMERIKSAAN RADIOLOGI YANG
                            DIPERLUKAN</b>
                    </td>
                    <td>Kesadaran</td>
                    <td><input type="text" name="ssc_kesadaran_sign_out"
                            id="ssc-kesadaran-sign-out"
                            class="custom-form clear-input d-inline-block">
                    </td>
                </tr>
                <tr>
                    <td colspan="2"><b>RESIKO PENDARAHAN</b>
                    </td>
                    <td>Dipasang</td>
                    <td> <input type="radio" name="ssc_foto"
                            id="ssc-foto-dipasang" value="1"></td>
                    <td>Tekanan darah</td>
                    <td><input type="text" name="ssc_tekanan_darah_sign_out"
                            id="ssc-tekanan-darah-sign-out"
                            class="custom-form clear-input d-inline-block">
                    </td>
                </tr>
                <tr>
                    <td colspan="2">Kehilangan darah > 50 ml (7ml/kg pada
                        anak-anak)
                    </td>
                    <td>tidak dipasang</td>
                    <td><input type="radio" name="ssc_foto"
                            id="ssc-foto-tidak-dipasang" value="0"></td>
                    <td>Nadi</td>
                    <td><input type="text" name="ssc_nadi_sign_out"
                            id="ssc-nadi-sign-out"
                            class="custom-form clear-input d-inline-block">
                    </td>
                </tr>
                <tr>
                    <td>Ya, dengan dua IV Line atau CVC</td>
                    <td><input type="radio" name="ssc_pendarahan"
                            id="ssc-pendarahan-ya" value="1"></td>
                    <td colspan="2"><b>RENCANA PEMASANGAN IMPLANT</b>
                    <td>Pernafasan</td>
                    <td><input type="text" name="ssc_pernafasan_sign_out"
                            id="ssc-pernafasan-sign-out"
                            class="custom-form clear-input d-inline-block">
                    </td>
                </tr>
                <tr>
                    <td>Tidak</td>
                    <td> <input type="radio" name="ssc_pendarahan"
                            id="ssc-pendarahan-tidak" value="0"></td>
                    <td>Ya</td>
                    <td> <input type="radio" name="ssc_implant"
                            id="ssc-implant-ya" value="1"></td>
                    <td>Saturasi</td>
                    <td><input type="text" name="ssc_saturasi_sign_out"
                            id="ssc-saturasi-sign-out"
                            class="custom-form clear-input d-inline-block">
                    </td>
                </tr>
                <tr>
                    <td colspan="2"><b>RENCANA ANESTESI</b>
                    </td>
                    <td>Tidak</td>
                    <td> <input type="radio" name="ssc_implant"
                            id="ssc-implant-tidak" value="0"></td>
                    <td>Suhu</td>
                    <td><input type="text" name="ssc_suhu_sign_out"
                            id="ssc-suhu-sign-out"
                            class="custom-form clear-input d-inline-block">
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <input class="mr-1" type="radio" name="ssc_rencana_anestesi"
                            id="ssc-umum" value="0">Umum
                        <input class="ml-3 mr-1" type="radio"
                            name="ssc_rencana_anestesi" id="ssc-spinal" value="1">Spinal
                        <input class="ml-3 mr-1" type="radio" name="ssc_rencana_anestesi"
                            id="ssc-blok" value="2">Blok
                        <input class="ml-3 mr-1" type="radio"
                            name="ssc_rencana_anestesi" id="ssc-lokal" value="3">Lokal
                    </td>
                    <td colspan="2">Tersedia :
                    </td>
                    <td>Skala nyeri</td>
                    <td>
                        <input type="text" name="ssc_skala_nyeri_sign_out" id="ssc-skala-nyeri-sign-out" class="custom-form clear-input d-inline-block">
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td>Ya, jenis</td>
                    <td>
                        <input type="radio" name="ssc_jenis"
                            id="ssc-jenis-ya" value="1">
                        <input type="text" name="ssc_jenis_ket" id="ssc-jenis-ket"
                            class="custom-form clear-input d-inline-block col-lg-11 ml-1">
                    </td>
                    <td colspan="2"><b>PEMERIKSAAN KEMBALI LUKA OPERASI</b>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td>Tidak</td>
                    <td> <input type="radio" name="ssc_jenis"
                            id="ssc-jenis-tidak" value="0"></td>
                    <td>Ada rembesan</td>
                    <td> <input type="radio" name="ssc_rembesan"
                            id="ssc-rembesan-ya" value="1"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>Tidak ada rembesan</td>
                    <td> <input type="radio" name="ssc_rembesan"
                            id="ssc-rembesan-tidak" value="0"></td>
                </tr>
                <tr>
                    <td><b>TANGGAL & JAM VERIFIKASI</b></td>
                    <td><input type="text" name="ssc_tanggal_sing_in" id="ssc-tanggal-sign-in"
                            class="custom-form clear-d-inline-block col-lg-5"
                            placeholder="dd/mm/yyyy hh:mm"></td>
                    <td><b>TANGGAL & JAM VERIFIKASI</b></td>
                    <td>
                        <input type="text" name="ssc_tanggal_time_out" id="ssc-tanggal-time-out"
                        class="custom-form clear-d-inline-block col-lg-5"
                        placeholder="dd/mm/yyyy hh:mm">
                    </td>
                    <td><b>TANGGAL & JAM VERIFIKASI</b></td>
                    <td>
                        <input type="text" name="ssc_tanggal_sing_out" id="ssc-tanggal-sign-out"
                        class="custom-form clear-d-inline-block col-lg-5"
                        placeholder="dd/mm/yyyy hh:mm">
                    </td>
                </tr>
                <tr>
                    <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
                    <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
                    <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
                </tr>
                <tr>
                    <td>Tanda tangan</td>
                    <td>
                        <div class="input-group">
                            <input type="checkbox"
                                name="ssc_paraf_perawat_sign_in"
                                id="ssc-paraf-perawat-sign-in">
                        </div>
                    </td>
                    <td>Tanda tangan</td>
                    <td>
                        <div class="input-group">
                            <input type="checkbox"
                                name="ssc_paraf_perawat_time_out"
                                id="ssc-paraf-perawat-time-out">
                        </div>
                    </td>
                    <td>Tanda tangan</td>
                    <td>
                        <div class="input-group">
                            <input type="checkbox"
                                name="ssc_paraf_perawat_sign_out"
                                id="ssc-paraf-perawat-sign-out">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Perawat Sirkuler</td>
                    <td>
                        <input type="text" name="ssc_perawat_sign_in"
                            id="ssc-perawat-sign-in"
                            class="select2c-input">
                    </td>
                    <td>Perawat Sirkuler</td>
                    <td>
                        <input type="text" name="ssc_perawat_time_out"
                            id="ssc-perawat-time-out"
                            class="select2c-input">
                    </td>
                    <td>Perawat Sirkuler</td>
                    <td>
                        <input type="text" name="ssc_perawat_sign_out"
                            id="ssc-perawat-sign-out"
                            class="select2c-input">
                    </td>
                </tr>
                <tr>
                    <td>Tanda tangan</td>
                    <td>
                        <input type="checkbox"
                            name="ssc_paraf_dokter_anestesi_sign_in"
                            id="ssc-paraf-dokter-anestesi-sign-in">
                    </td>
                    <td>Tanda tangan</td>
                    <td>
                        <input type="checkbox"
                            name="ssc_paraf_dokter_anestesi_time_out"
                            id="ssc-paraf-dokter-anestesi-time-out">
                    </td>
                    <td>Tanda tangan</td>
                    <td>
                        <input type="checkbox"
                            name="ssc_paraf_dokter_anestesi_sign_out"
                            id="ssc-paraf-dokter-anestesi-sign-out">
                    </td>
                </tr>
                <tr>
                    <td>Dokter Anestesi</td>
                    <td>
                        <input type="text" name="ssc_dokter_anestesi_sign_in"
                            id="ssc-dokter-anestesi-sign-in"
                            class="select2c-input">
                    </td>
                    <td>Dokter Anestesi</td>
                    <td>
                        <input type="text" name="ssc_dokter_anestesi_time_out"
                            id="ssc-dokter-anestesi-time-out"
                            class="select2c-input">
                    </td>
                    <td>Dokter Anestesi</td>
                    <td>
                        <input type="text" name="ssc_dokter_anestesi_sign_out"
                            id="ssc-dokter-anestesi-sign-out"
                            class="select2c-input">
                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                        <button type="button" title="Tambah Surgical Safety Ceklis" class="btn btn-info" onclick="tambahSurgicalSafetyCeklis()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Surgical Safety Ceklis</button>
                    </td>
                </tr>
            </tbody>
        </table>
        `;
        html += tutupRapet();

        $('#buka-tutup-surgical-safety-ceklis').append(html);
    }

    function tambahSurgicalSafetyCeklis() {

        // SIGN IN
        // if ($('#ssc-dokter-operator').val() === '') {
        //     syams_validation('#ssc-dokter-operator', 'Nama Operator harus diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-dokter-operator');
        // }

        // if ($('#ssc-dokter-anestesi').val() === '') {
        //     syams_validation('#ssc-dokter-anestesi', 'Nama Anestesi harus diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-dokter-anestesi');
        // }

        // if ($('#ssc-tanggal-sign-in').val() === '') {
        //     syams_validation('#ssc-tanggal-sign-in', 'Tanggal & Jam harus diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-tanggal-sign-in');
        // }

        // if ($('#ssc-perawat-sign-in').val() === '') {
        //     syams_validation('#ssc-perawat-sign-in', 'Nama Perawat Harus Diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-perawat-sign-in');
        // }

        // if ($('#ssc-dokter-anestesi-sign-in').val() === '') {
        //     syams_validation('#ssc-dokter-anestesi-sign-in', 'Nama Dokter Harus Diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-dokter-anestesi-sign-in');
        // }

        // // TIMEOUT

        // if ($('#ssc-tanggal-time-out').val() === '') {
        //     syams_validation('#ssc-tanggal-time-out', 'Tanggal & Jam harus diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-tanggal-time-out');
        // }

        // if ($('#ssc-perawat-time-out').val() === '') {
        //     syams_validation('#ssc-perawat-time-out', 'Nama Perawat Harus Diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-perawat-time-out');
        // }

        // if ($('#ssc-dokter-anestesi-time-out').val() === '') {
        //     syams_validation('#ssc-dokter-anestesi-time-out', 'Nama Dokter Harus Diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-dokter-anestesi-time-out');
        // }

        // // SIGN OUT
        // if ($('#ssc-tanggal-sign-out').val() === '') {
        //     syams_validation('#ssc-tanggal-sign-out', 'Tanggal & Jam harus diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-tanggal-sign-out');
        // }
        // if ($('#ssc-perawat-sign-out').val() === '') {
        //     syams_validation('#ssc-perawat-sign-out', 'Nama Perawat Harus Diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-perawat-sign-out');
        // }

        // if ($('#ssc-dokter-anestesi-sign-out').val() === '') {
        //     syams_validation('#ssc-dokter-anestesi-sign-out', 'Nama Dokter Harus Diisi.');
        //     return false;
        // } else {
        //     syams_validation_remove('#ssc-dokter-anestesi-sign-out');
        // }

        let html = '';
        let number = $('.nomer-surgical').length;

        // sign in
        let ssc_gelang = $('#ssc-gelang').is(':checked');
        let ssc_informed = $('#ssc-informed').is(':checked');
        let ssc_dokter_bedah = $('#ssc-dokter-bedah').is(':checked');
        let ssc_anestesi = $('#ssc-anestesi').is(':checked');
        let ssc_dokter_operator = $('#ssc-dokter-operator').val();
        let ssc_dokter_anestesi = $('#ssc-dokter-anestesi').val();
        let ssc_nama_tindakan = $('#ssc-nama-tindakan').val();
        let ssc_lokasi = $('[id="ssc-lokasi-ya"]:checked,[id="ssc-lokasi-tidak"]:checked').val();
        let ssc_mesin_anestesi = $('#ssc-mesin-anestesi').is(':checked');
        let ssc_obat = $('#ssc-obat').is(':checked');
        let ssc_oximeter = $('#ssc-oximeter').is(':checked');
        let ssc_lab = $('#ssc-lab').is(':checked');
        let ssc_line = $('#ssc-line').is(':checked');
        let ssc_tekanan_darah = $('#ssc-tekanan-darah').val();
        let ssc_nadi = $('#ssc-nadi').val();
        let ssc_pernafasan = $('#ssc-pernafasan').val();
        let ssc_saturasi = $('#ssc-saturasi').val();
        let ssc_suhu = $('#ssc-suhu').val();
        let ssc_alergi = $('[id="ssc-alergi-ya"]:checked,[id="ssc-alergi-tidak"]:checked').val();
        let ssc_alergi_ket = $('#ssc-alergi-ket').val();
        let ssc_aspirasi = $('[id="ssc-aspirasi-ya"]:checked,[id="ssc-aspirasi-tidak"]:checked').val();
        let ssc_pendarahan = $('[id="ssc-pendarahan-ya"]:checked,[id="ssc-pendarahan-tidak"]:checked').val();
        let ssc_rencana_anestesi = $(
            '[id="ssc-umum"]:checked,[id="ssc-spinal"]:checked,[id="ssc-blok"]:checked,[id="ssc-lokal"]:checked').val();

        let ssc_tanggal_sign_in = $('#ssc-tanggal-sign-in').val();
        let ssc_paraf_dokter_anestesi_sign_in = $('#ssc-paraf-dokter-anestesi-sign-in').is(':checked');
        let ssc_dokter_anestesi_sign_in = $('#s2id_ssc-dokter-anestesi-sign-in a .select2c-chosen').html();
        let id_dokter_anestesi_sign_in = $('#ssc-dokter-anestesi-sign-in').val();
        let ssc_paraf_perawat_sign_in = $('#ssc-paraf-perawat-sign-in').is(':checked');
        let ssc_perawat_sign_in = $('#s2id_ssc-perawat-sign-in a .select2c-chosen').html();
        let id_perawat_sign_in = $('#ssc-perawat-sign-in').val();

        // time out
        let ssc_lengkap = $('[id="ssc-lengkap"]:checked,[id="ssc-tidak-lengkap"]:checked').val();
        let ssc_alasan = $('#ssc-alasan').val();
        let ssc_instrument = $('#ssc-instrument').is(':checked');
        let ssc_kassa = $('#ssc-kassa').is(':checked');
        let ssc_jarum = $('#ssc-jarum').is(':checked');
        let ssc_tanggal_tindakan = $('#ssc-tanggal-tindakan').is(':checked');
        let ssc_identitas_pasien = $('#ssc-identitas-pasien').is(':checked');
        let ssc_nama_tindakan_time_out = $('#ssc-prosedur-tindakan').is(':checked');
        let ssc_prosedur_tindakan = $('#ssc-prosedur-tindakan').is(':checked');
        let ssc_lokasi_tindakan = $('#ssc-lokasi-tindakan').is(':checked');
        let ssc_consent = $('#ssc-consent').is(':checked');
        let ssc_premedikasi = $('[id="ssc-premedikasi-ada"]:checked,[id="ssc-premedikasi-tidak-ada"]:checked').val();
        let ssc_premedikasi_obat = $('#ssc-premedikasi-obat').val();
        let ssc_tanggal_obat = $('#ssc-tanggal-obat').val();
        let ssc_antibiotik = $('[id="ssc-antibiotik-ya"]:checked,[id="ssc-antibiotik-tidak"]:checked').val();
        let ssc_antibiotik_obat = $('#ssc-antibiotik-obat').val();
        let ssc_antibiotik_dosis = $('#ssc-antibiotik-dosis').val();
        let ssc_jam_antibiotik_obat = $('#ssc-jam-antibiotik-obat').val();
        let ssc_foto = $('[id="ssc-foto-dipasang"]:checked,[id="ssc-foto-tidak-dipasang"]:checked').val();
        let ssc_implant = $('[id="ssc-implant-ya"]:checked,[id="ssc-implant-tidak"]:checked').val();
        let ssc_jenis = $('[id="ssc-jenis-ya"]:checked,[id="ssc-jeis-tidak"]:checked').val();
        let ssc_jenis_ket = $('#ssc-jenis-ket').val();

        let ssc_tanggal_time_out = $('#ssc-tanggal-time-out').val();
        let ssc_paraf_dokter_anestesi_time_out = $('#ssc-paraf-dokter-anestesi-time-out').is(':checked');
        let ssc_dokter_anestesi_time_out = $('#s2id_ssc-dokter-anestesi-time-out a .select2c-chosen').html();
        let id_dokter_anestesi_time_out = $('#ssc-dokter-anestesi-time-out').val();
        let ssc_paraf_perawat_time_out = $('#ssc-paraf-perawat-time-out').is(':checked');
        let ssc_perawat_time_out = $('#s2id_ssc-perawat-time-out a .select2c-chosen').html();
        let id_perawat_time_out = $('#ssc-perawat-time-out').val();

        // sign out
        let ssc_nama_tindakan_sign_out = $('#ssc-nama-tindakan-sign-out').is(':checked');
        let ssc_instrument_sign_out = $('#ssc-instrument-sign-out').is(':checked');
        let ssc_kassa_sign_out = $('#ssc-kassa-sign-out').is(':checked');
        let ssc_jarum_sign_out = $('#ssc-jarum-sign-out').is(':checked');
        let ssc_preparat = $('[id="ssc-preparat-ya"]:checked,[id="ssc-preparat-tidak"]:checked').val();
        let ssc_preparat_pa = $('#ssc-preparat-pa').is(':checked');
        let ssc_preparat_kultur = $('#ssc-preparat-kultur').is(':checked');
        let ssc_preparat_sitologi = $('#ssc-preparat-sitologi').is(':checked');
        let ssc_formulir_permintaan = $('[id="ssc-formulir-permintaan-ya"]:checked,[id="ssc-formulir-permintaan-tidak"]:checked').val();
        let ssc_lengkap_pasien = $('[id="ssc-lengkap-pasien-ya"]:checked,[id="ssc-lengkap-pasien-tidak"]:checked').val();
        let ssc_penjelasan_keluarga = $('[id="ssc-penjelasan-keluarga-ya"]:checked,[id="ssc-penjelasan-keluarga-tidak"]:checked').val();
        let ssc_penjelasan_keluarga_ket = $('#ssc-penjelasan-keluarga-ket').val();
        let ssc_obat_operasi = $('[id="ssc-operasi-ya"]:checked,[id="ssc-operasi-tidak"]:checked').val();
        let ssc_obat_operasi_ya_alasan = $('#ssc-obat-operasi-ya-alasan').val();
        let ssc_obat_operasi_tidak_alasan = $('#ssc-obat-operasi-tidak-alasan').val();
        let ssc_kesadaran_sign_out = $('#ssc-kesadaran-sign-out').val();
        let ssc_tekanan_darah_sign_out = $('#ssc-tekanan-darah-sign-out').val();
        let ssc_nadi_sign_out = $('#ssc-nadi-sign-out').val();
        let ssc_pernafasan_sign_out = $('#ssc-pernafasan-sign-out').val();
        let ssc_saturasi_sign_out = $('#ssc-saturasi-sign-out').val();
        let ssc_suhu_sign_out = $('#ssc-suhu-sign-out').val();
        let ssc_skala_nyeri_sign_out = $('#ssc-skala-nyeri-sign-out').val();
        let ssc_rembesan = $('[id="ssc-rembesan-ya"]:checked,[id="ssc-rembesan-tidak"]:checked').val();

        let ssc_tanggal_sign_out = $('#ssc-tanggal-sign-out').val();
        let ssc_paraf_dokter_anestesi_sign_out = $('#ssc-paraf-dokter-anestesi-sign-out').is(':checked');
        let ssc_dokter_anestesi_sign_out = $('#s2id_ssc-dokter-anestesi-sign-out a .select2c-chosen').html();
        let id_dokter_anestesi_sign_out = $('#ssc-dokter-anestesi-sign-out').val();
        let ssc_paraf_perawat_sign_out = $('#ssc-paraf-perawat-sign-out').is(':checked');
        let ssc_perawat_sign_out = $('#s2id_ssc-perawat-sign-out a .select2c-chosen').html();
        let id_perawat_sign_out = $('#ssc-perawat-sign-out').val();

        // console.log(ssc_lokasi, ssc_alergi, ssc_aspirasi, ssc_pendarahan, ssc_rencana_anestesi, ssc_lengkap,
        //     ssc_premedikasi, ssc_antibiotik, ssc_foto, ssc_implant, ssc_jenis, ssc_preparat, ssc_formulir_permintaan,
        //     ssc_penjelasan_keluarga, ssc_obat_operasi, ssc_rembesan);

        html = /* html */ `
        <tbody>

            <input type="hidden" name="ssc_gelang[]" value="${ssc_gelang ? 1 : 0}">
            <input type="hidden" name="ssc_informed[]" value="${ssc_informed ? 1 : 0}">
            <input type="hidden" name="ssc_dokter_bedah[]" value="${ssc_dokter_bedah ? 1 : 0}">
            <input type="hidden" name="ssc_anestesi[]" value="${ssc_anestesi ? 1 : 0}">
            <input type="hidden" name="ssc_dokter_operator[]" value="${ssc_dokter_operator}">
            <input type="hidden" name="ssc_dokter_anestesi[]" value="${ssc_dokter_anestesi}">
            <input type="hidden" name="ssc_nama_tindakan[]" value="${ssc_nama_tindakan}">
            <input type="hidden" name="ssc_lokasi[]" value="${ssc_lokasi}">
            <input type="hidden" name="ssc_mesin_anestesi[]" value="${ssc_mesin_anestesi ? 1 : 0}">
            <input type="hidden" name="ssc_obat[]" value="${ssc_obat ? 1 : 0}">
            <input type="hidden" name="ssc_oximeter[]" value="${ssc_oximeter ? 1 : 0}">
            <input type="hidden" name="ssc_lab[]" value="${ssc_lab ? 1 : 0}">
            <input type="hidden" name="ssc_line[]" value="${ssc_line ? 1 : 0}">
            <input type="hidden" name="ssc_tekanan_darah[]" value="${ssc_tekanan_darah}">
            <input type="hidden" name="ssc_nadi[]" value="${ssc_nadi}">
            <input type="hidden" name="ssc_pernafasan[]" value="${ssc_pernafasan}">
            <input type="hidden" name="ssc_saturasi[]" value="${ssc_saturasi}">
            <input type="hidden" name="ssc_suhu[]" value="${ssc_suhu}">
            <input type="hidden" name="ssc_alergi[]" value="${ssc_alergi}">
            <input type="hidden" name="ssc_alergi_ket[]" value="${ssc_alergi_ket}">
            <input type="hidden" name="ssc_aspirasi[]" value="${ssc_aspirasi}">
            <input type="hidden" name="ssc_pendarahan[]" value="${ssc_pendarahan}">
            <input type="hidden" name="ssc_rencana_anestesi[]" value="${ssc_rencana_anestesi}">
            
            <input type="hidden" name="ssc_lengkap[]" value="${ssc_lengkap}">
            <input type="hidden" name="ssc_alasan[]" value="${ssc_alasan}">
            <input type="hidden" name="ssc_instrument[]" value="${ssc_instrument ? 1 : 0}">
            <input type="hidden" name="ssc_kassa[]" value="${ssc_kassa ? 1 : 0}">
            <input type="hidden" name="ssc_jarum[]" value="${ssc_jarum ? 1 : 0}">
            <input type="hidden" name="ssc_tanggal_tindakan[]" value="${ssc_tanggal_tindakan ? 1 : 0}">
            <input type="hidden" name="ssc_identitas_pasien[]" value="${ssc_identitas_pasien ? 1 : 0}">
            <input type="hidden" name="ssc_nama_tindakan_time_out[]" value="${ssc_nama_tindakan_time_out ? 1 : 0}">
            <input type="hidden" name="ssc_prosedur_tindakan[]" value="${ssc_prosedur_tindakan ? 1 : 0}">
            <input type="hidden" name="ssc_lokasi_tindakan[]" value="${ssc_lokasi_tindakan ? 1 : 0}">
            <input type="hidden" name="ssc_consent[]" value="${ssc_consent ? 1 : 0}">
            <input type="hidden" name="ssc_premedikasi[]" value="${ssc_premedikasi}">
            <input type="hidden" name="ssc_premedikasi_obat[]" value="${ssc_premedikasi_obat}">
            <input type="hidden" name="ssc_tanggal_obat[]" value="${ssc_tanggal_obat}">
            <input type="hidden" name="ssc_antibiotik[]" value="${ssc_antibiotik}">
            <input type="hidden" name="ssc_antibiotik_obat[]" value="${ssc_antibiotik_obat}">
            <input type="hidden" name="ssc_antibiotik_dosis[]" value="${ssc_antibiotik_dosis}">
            <input type="hidden" name="ssc_jam_antibiotik_obat[]" value="${ssc_jam_antibiotik_obat}">
            <input type="hidden" name="ssc_foto[]" value="${ssc_foto}">
            <input type="hidden" name="ssc_implant[]" value="${ssc_implant}">
            <input type="hidden" name="ssc_jenis[]" value="${ssc_jenis}">
            <input type="hidden" name="ssc_jenis_ket[]" value="${ssc_jenis_ket}">
            
            <input type="hidden" name="ssc_nama_tindakan_sign_out[]" value="${ssc_nama_tindakan_sign_out ? 1 : 0}">
            <input type="hidden" name="ssc_instrument_sign_out[]" value="${ssc_instrument_sign_out ? 1 : 0}">
            <input type="hidden" name="ssc_kassa_sign_out[]" value="${ssc_kassa_sign_out ? 1 : 0}">
            <input type="hidden" name="ssc_jarum_sign_out[]" value="${ssc_jarum_sign_out ? 1 : 0}">
            <input type="hidden" name="ssc_preparat[]" value="${ssc_preparat}">
            <input type="hidden" name="ssc_preparat_pa[]" value="${ssc_preparat_pa ? 1 : 0}">
            <input type="hidden" name="ssc_preparat_kultur[]" value="${ssc_preparat_kultur ? 1 : 0}">
            <input type="hidden" name="ssc_preparat_sitologi[]" value="${ssc_preparat_sitologi ? 1 : 0}">
            <input type="hidden" name="ssc_formulir_permintaan[]" value="${ssc_formulir_permintaan}">
            <input type="hidden" name="ssc_lengkap_pasien[]" value="${ssc_lengkap_pasien}">
            <input type="hidden" name="ssc_penjelasan_keluarga[]" value="${ssc_penjelasan_keluarga}">
            <input type="hidden" name="ssc_penjelasan_keluarga_ket[]" value="${ssc_penjelasan_keluarga_ket}">
            <input type="hidden" name="ssc_obat_operasi[]" value="${ssc_obat_operasi}">
            <input type="hidden" name="ssc_obat_operasi_ya_alasan[]" value="${ssc_obat_operasi_ya_alasan}">
            <input type="hidden" name="ssc_obat_operasi_tidak_alasan[]" value="${ssc_obat_operasi_tidak_alasan}">
            <input type="hidden" name="ssc_kesadaran_sign_out[]" value="${ssc_kesadaran_sign_out}">
            <input type="hidden" name="ssc_tekanan_darah_sign_out[]" value="${ssc_tekanan_darah_sign_out}">
            <input type="hidden" name="ssc_nadi_sign_out[]" value="${ssc_nadi_sign_out}">
            <input type="hidden" name="ssc_pernafasan_sign_out[]" value="${ssc_pernafasan_sign_out}">
            <input type="hidden" name="ssc_saturasi_sign_out[]" value="${ssc_saturasi_sign_out}">
            <input type="hidden" name="ssc_suhu_sign_out[]" value="${ssc_suhu_sign_out}">
            <input type="hidden" name="ssc_skala_nyeri_sign_out[]" value="${ssc_skala_nyeri_sign_out}">
            <input type="hidden" name="ssc_rembesan[]" value="${ssc_rembesan}">
            
            <tr>
                <td rowspan="4" class="nomer-surgical text-center">${++number}</td>
                <td rowspan="4" class="text-center">
                    <input type="hidden" name="ssc_tanggal_sign_in[]" value="${ssc_tanggal_sign_in}">${ssc_tanggal_sign_in}
                </td>
                <td>Dokter Anestesi :</td>
                <td rowspan="4" class="text-center">
                    <input type="hidden" name="ssc_tanggal_time_out[]" value="${ssc_tanggal_time_out}">${ssc_tanggal_time_out}
                </td>
                <td>Dokter Anestesi :</td>
                <td rowspan="4" class="text-center">
                    <input type="hidden" name="ssc_tanggal_sign_out[]" value="${ssc_tanggal_sign_out}">${ssc_tanggal_sign_out}
                </td>
                <td>Dokter Anestesi :</td>
                <td rowspan="4">
                    <?= $this->session->userdata('nama') ?>
                    <input type="hidden" name="user_surgical_safety_ceklis[]"
                        value="<?= $this->session->userdata("id_translucent") ?>">
                </td>
                <td rowspan="4" class="text-center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeListTable(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="mr-2" type="hidden" name="ssc_paraf_dokter_anestesi_sign_in[]" value="${ssc_paraf_dokter_anestesi_sign_in ? 1 : 0}">${ssc_paraf_dokter_anestesi_sign_in ? '&check;':'&#10006;'}
                    
                    <input type="hidden" name="ssc_dokter_anestesi_sign_in[]" value="${id_dokter_anestesi_sign_in}">${ssc_dokter_anestesi_sign_in}

                </td>
                <td>
                    <input class="mr-2" type="hidden" name="ssc_paraf_dokter_anestesi_time_out[]" value="${ssc_paraf_dokter_anestesi_time_out ? 1 : 0}">${ssc_paraf_dokter_anestesi_time_out ? '&check;':'&#10006;'}

                    <input type="hidden" name="ssc_dokter_anestesi_time_out[]" value="${id_dokter_anestesi_time_out}">${ssc_dokter_anestesi_time_out}
                </td>
                <td>
                    <input class="mr-2" type="hidden" name="ssc_paraf_dokter_anestesi_sign_out[]" value="${ssc_paraf_dokter_anestesi_sign_out ? 1 : 0}">${ssc_paraf_dokter_anestesi_sign_out ? '&check;':'&#10006;'}

                    <input type="hidden" name="ssc_dokter_anestesi_sign_out[]" value="${id_dokter_anestesi_sign_out}">${ssc_dokter_anestesi_sign_out}

                </td>
            </tr>
            <tr>
                <td>
                Perawat Sirkuler :
                </td>
                <td>
                Perawat Sirkuler :
                </td>
                <td>
                Perawat Sirkuler :
                </td>
            </tr>
            <tr>
                <td>
                    <input class="mr-1" type="hidden" name="ssc_paraf_perawat_sign_in[]" value="${ssc_paraf_perawat_sign_in ? 1 : 0}">${ssc_paraf_perawat_sign_in ? '&check;':'&#10006;'}
                    <input type="hidden" name="ssc_perawat_sign_in[]" value="${id_perawat_sign_in}">${ssc_perawat_sign_in}
                </td>
                <td>
                    <input class="mr-1" type="hidden" name="ssc_paraf_perawat_time_out[]" value="${ssc_paraf_perawat_time_out ? 1 : 0}">${ssc_paraf_perawat_time_out ? '&check;':'&#10006;'}
                    <input type="hidden" name="ssc_perawat_time_out[]" value="${id_perawat_time_out}">${ssc_perawat_time_out}
                </td>
                <td>
                    <input class="mr-1" type="hidden" name="ssc_paraf_perawat_sign_out[]" value="${ssc_paraf_perawat_sign_out ? 1 : 0}">${ssc_paraf_perawat_sign_out ? '&check;':'&#10006;'}
                    <input type="hidden" name="ssc_perawat_sign_out[]" value="${id_perawat_sign_out}">${ssc_perawat_sign_out}
                </td>
            </tr>
        </tbody>
        `;

        $('#tabel-surgical-safety-ceklis').append(html);

    }

    function showSurgicalSafetyCeklis(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-surgical-safety-ceklis tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                const selOp =
                    '<td align="center" rowspan="4"><button type="button" class="btn btn-secondary btn-xs" onclick="detailSurgicalSafetyCeklis(this, ' +
                    v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-eye"></i></button> <button type="button" class="btn btn-secondary btn-xs" onclick="editSurgicalSafetyCeklis(this, ' +
                    v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit"></i></button> <button type="button" class="btn btn-secondary btn-xs" onclick="hapusSurgicalSafetyCeklis(this, ' +
                    v.id +
                    ')"> <i class="fas fa-trash-alt"></i></button> </td>';

                let html = /* html */ `
        <tbody>
            <tr>
                <td rowspan="4" class="nomer-surgical text-center">${(++i)}</td>
                <td rowspan="4" class="text-center">
                ${v.ssc_tanggal_sign_in !== null ? v.ssc_tanggal_sign_in:''}
                </td>
                <td>Dokter Anestesi :</td>
                <td rowspan="4" class="text-center">
                ${v.ssc_tanggal_time_out !== null ? v.ssc_tanggal_time_out:''}
                </td>
                <td>Dokter Anestesi :</td>
                <td rowspan="4" class="text-center">
                ${v.ssc_tanggal_sign_out !== null ? v.ssc_tanggal_sign_out:''}
                </td>
                <td>Dokter Anestesi :</td>
                <td rowspan="4">
                    ${v.akun_user}
                </td>
                ${selOp}
            </tr>
            <tr>
                <td>
                    ${v.ssc_paraf_dokter_anestesi_sign_in == '1' ? '&check;':'&#10006;'}
                    ${v.dokter_anestesi_sign_in}
                </td>
                <td>
                    ${v.ssc_paraf_dokter_anestesi_time_out == '1' ? '&check;':'&#10006;'}
                    ${v.dokter_anestesi_time_out}
                </td>
                <td>
                    ${v.ssc_paraf_dokter_anestesi_sign_out == '1' ? '&check;':'&#10006;'}
                    ${v.dokter_anestesi_sign_out}
                </td>
            </tr>
            <tr>
                <td>
                Perawat Sirkuler :
                </td>
                <td>
                Perawat Sirkuler :
                </td>
                <td>
                Perawat Sirkuler :
                </td>
            </tr>
            <tr>
                <td>
                    ${v.ssc_paraf_perawat_sign_in == '1' ? '&check;':'&#10006;'}
                    ${v.perawat_sign_in}
                    </td>
                    <td>
                    ${v.ssc_paraf_perawat_time_out == '1' ? '&check;':'&#10006;'}
                    ${v.perawat_time_out}
                </td>
                <td>
                    ${v.ssc_paraf_perawat_sign_out == '1' ? '&check;':'&#10006;'}
                    ${v.perawat_sign_out}
                </td>
            </tr>
        </tbody>
        `;
                $('#tabel-surgical-safety-ceklis').append(html);
            })
        }
    }

    function detailSurgicalSafetyCeklis(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-detail-surgical-safety-ceklis').modal('show');
        $('#table-detail-surgical-safety-ceklis tbody').empty();
        let html = /* html */ `
        <tbody>
            <tr class="text-center">
                <td colspan="2">Diklakukan oleh perawat dan dokter anestesi</td>
                <td colspan="2">Diklakukan oleh perawat, dokter anestesi dan ahli bedah</td>
                <td colspan="2">Diklakukan oleh perawat, dokter anestesi dan ahli bedah</td>
            </tr>
            <tr>
                <td colspan="2"><b>VERIFIKASI</b></td>
                <td colspan="2"><b>KELENGKAPAN TIM DAN FASILITAS OPERASI</b></td>
                <td colspan="2"><b>BACA SECARA VERBAL</b></td>
            </tr>
            <tr>
                <td>Identitas dan Gelang Pasien</td>
                <td><span id="dssc-gelang"></span></td>
                <td>lengkap</td>
                <td><span id="dssc-lengkap"></span></td>
                <td>Nama Tindakan</td>
                <td><span id="dssc-nama-tindakan-sign-out"></span></td>
            </tr>
            <tr>
                <td>Informed Concent</td>
                <td><span id="dssc-informed"></span></td>
                <td>Tidak lengkap, alasan</td>
                <td>
                    <span id="dssc-tidak-lengkap"></span>
                    <span id="dssc-alasan"></span>
                </td>
                <td colspan="2"><b>PEMERIKSAAN KELENGKAPAN SEBELUM LUKA OPERASI DITUTUP</b></td>
            </tr>
            <tr>
                <td>Dokter Bedah</td>
                <td><span id="dssc-dokter-bedah"></span></td>
                <td colspan="2"><b>PEMERIKSAAN KELENGKAPAN PERALATAN OPERASI</b></td>
                <td>Instrument</td>
                <td><span id="dssc-instrument-sign-out"></span></td>
            </tr>
            <tr>
                <td>Dokter Anestesi</td>
                <td><span id="dssc-anestesi"></span></td>
                <td>Instrument</td>
                <td><span id="dssc-instrument"></span></td>
                <td>Kassa</td>
                <td><span id="dssc-kassa-sign-out"></span></td>
            </tr>
            <tr>
                <td>Nama Operator</td>
                <td><span id="dssc-dokter-operator"></span></td>
                <td>Kassa</td>
                <td><span id="dssc-kassa"></span></td>
                <td>Jarum</td>
                <td><span id="dssc-jarum-sign-out"></span></td>
            </tr>
            <tr>
                <td>Nama Anestesi</td>
                <td><span id="dssc-dokter-anestesi"></span></td>
                <td>Jarum</td>
                <td><span id="dssc-jarum"></span></td>
                <td colspan="2"><b>PERIKSA KELENGKAPAN BAHAN PEMERIKSAAN</b></td>
            </tr>
            <tr>
                <td>Nama Tindakan</td>
                <td><span id="dssc-nama-tindakan"></span></td>
                <td colspan="2"><b>BACA SECARA VERBAL</b></td>
                <td colspan="2">Preprat :</td>
            </tr>
            <tr>
                <td>Pemberian Tanda Lokasi Operasi</td>
                <td>
                    <span class="mr-1" id="dssc-lokasi-ya"></span>Ya
                    <span class="mr-1 ml-3" id="dssc-lokasi-tidak"></span>tidak
                </td>
                <td>Tanggal Tindakan</td>
                <td><span id="dssc-tanggal-tindakan"></span></td>
                <td>Ya</td>
                <td><span id="dssc-preparat-ya"></span></td>
            </tr>
            <tr>
                <td colspan="2"><b>PEMERIKSAAN KELENGKAPAN ANESTESI</b></td>
                <td>Identitas Pasien</td>
                <td><span id="dssc-identitas-pasien"></span></td>
                <td></td>
                <td><span class="mr-1" id="dssc-preparat-pa"></span>PA</td>
            </tr>
            <tr>
                <td>Mesin Anestesi</td>
                <td><span id="dssc-mesin-anestesi"></span></td>
                <td>Nama Tindakan</td>
                <td><span id="dssc-nama-tindakan-time-out"></span></td>
                <td></td>
                <td><span  class="mr-1" id="dssc-preparat-kultur"></span>Kultur</td>
            </tr>
            <tr>
                <td>
                    Obat - obatan
                </td>
                <td>
                    <span id="dssc-obat"></span>
                </td>
                <td>
                    Prosedur Tindakan
                </td>
                <td>
                    <span id="dssc-prosedur-tindakan"></span>
                </td>
                <td></td>
                <td>
                    <span class="mr-1" id="dssc-preparat-sitologi"></span>Sitologi
                </td>
            </tr>
            <tr>
                <td>
                    Pulse Oximeter
                </td>
                <td>
                    <span id="dssc-oximeter"></span>
                </td>
                <td>
                    lokasi Tindakan
                </td>
                <td>
                    <span id="dssc-lokasi-tindakan"></span>
                </td>
                <td>
                    Tidak
                </td>
                <td>
                    <span id="dssc-preparat-tidak"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Laboratorium
                </td>
                <td>
                    <span id="dssc-lab"></span>
                </td>
                <td>
                    Informed Consent
                </td>
                <td>
                    <span id="dssc-consent"></span>
                </td>
                <td colspan="2">
                    Formulir permintaan pemeriksaan :
                </td>
            </tr>
            <tr>
                <td>
                    IV line
                </td>
                <td>
                    <span id="dssc-line"></span>
                </td>
                <td colspan="2">
                    <b>PREMEDIKASI</b>
                </td>
                <td>
                    Ya
                </td>
                <td>
                    <span id="dssc-formulir-permintaan-ya"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <b>PEMERIKSAAN TANDA VITAL</b>
                </td>
                <td>
                    Tidak Ada
                </td>
                <td>
                    <span id="dssc-premedikasi-tidak-ada"></span>
                </td>
                <td>
                    Tidak
                </td>
                <td>
                    <span id="dssc-formulir-permintaan-tidak"></span>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td colspan="2">Telah dilengkapi identitas pasien:</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>Ya</td>
                <td><span id="dssc-lengkap-pasien-ya"></span></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>Tidak</td>
                <td><span id="dssc-lengkap-pasien-tidak"></span></td>
            </tr>
            <tr>
                <td>Tekanan Darah</td>
                <td>
                    <span id="dssc-tekanan-darah"></span>
                </td>
                <td>
                    Ada
                </td>
                <td>
                    <span id="dssc-premedikasi-ada"></span>
                </td>
                <td colspan="2">
                    Penjelasan oleh operator kepada keluarga pasien :
                </td>
            </tr>
            <tr>
                <td>
                    Nadi
                </td>
                <td>
                    <span id="dssc-nadi"></span>
                </td>
                <td>Nama Obat</td>
                <td>
                    <span id="dssc-premedikasi-obat"></span>
                </td>
                <td>
                    Ya
                </td>
                <td>
                <span id="dssc-penjelasan-keluarga-ya"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Pernafasan
                    </td>
                <td>
                    <span id="dssc-pernafasan"></span>
                </td>
                <td>
                    Tanggal & jam diberikan
                </td>
                <td>
                    <span id="dssc-tanggal-obat"></span>
                </td>
                <td>
                    Tidak, alasan
                </td>
                <td>
                    <span id="dssc-penjelasan-keluarga-tidak"></span>
                    <span id="dssc-penjelasan-keluarga-ket"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Saturasi O2
                </td>
                <td>
                    <span id="dssc-saturasi"></span>
                </td>
                <td colspan="2">
                    <b>ANTIBIOTIK PROFILAKSIS</b>
                </td>
                <td colspan="2">
                    <b>OBAT-OBATAN YANG DIBERIKAN SELAMA OPERASI</b>
                </td>
            </tr>
            <tr>
                <td>
                    Suhu
                </td>
                <td>
                    <span id="dssc-suhu"></span>
                </td>
                <td colspan="2">
                    Apakah sudah diberikan dalam waktu sekurangnya 60 menit ?
                </td>
                <td>
                    Diberikan, alasan
                </td>
                <td>
                    <span id="dssc-obat-operasi-ya"></span>
                    <span id="dssc-obat-operasi-ya-alasan"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <b>RIWAYAT ALERGI</b>
                </td>
                <td>
                    Ya
                </td>
                <td>
                <span id="dssc-antibiotik-ya"></span>
                </td>
                <td>
                    Tidak diberikan, alasan
                </td>
                <td>
                    <span id="dssc-obat-operasi-tidak"></span>
                    <span id="dssc-obat-operasi-tidak-alasan"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Ada, Keterangan
                </td>
                <td>
                    <span id="dssc-alergi-ya"></span>
                    <span id="dssc-alergi"></span>
                </td>
                <td>
                    Nama Obat
                </td>
                <td>
                    <span id="dssc-antibiotik-obat"></span>
                </td>
                <td colspan="2"><b>PEMERIKSAAN TANDA VITAL</b></td>
            </tr>
            <tr>
                <td>
                    Tidak
                </td>
                <td>
                    <span id="dssc-alergi-tidak"></span>
                <td>
                    Dosis obat
                </td>
                <td>
                    <span id="dssc-antibiotik-dosis"></span>
                </td>
                <td>
                    Kesadaran
                </td>
                <td>
                    <span id="dssc-kesadaran-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <b>RESIKO ASPIRASI ATAU GANGGUAN PERNAFASAN</b>
                </td>
                <td>
                    jam diberikan
                </td>
                <td>
                    <span id="dssc-jam-antibiotik-obat"></span>
                </td>
                <td>
                    Tekanan darah
                </td>
                <td>
                    <span id="dssc-tekanan-darah-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Ya, dengan bantuan alat
                </td>
                <td>
                    <span id="dssc-aspirasi-ya"></span>
                </td>
                <td>
                    Tidak
                </td>
                <td>
                    <span id="dssc-antibiotik-tidak"></span>
                </td>
                <td>
                    Nadi
                </td>
                <td>
                    <span id="dssc-nadi-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Tidak
                </td>
                <td>
                    <span id="dssc-aspirasi-tidak"></span>
                </td>
                <td colspan="2">
                    <b>FOTO PEMERIKSAAN RADIOLOGI YANG DIPERLUKAN</b>
                </td>
                <td>
                    Pernafasan
                </td>
                <td>
                    <span id="dssc-pernafasan-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <b>RESIKO PENDARAHAN</b>
                </td>
                <td>
                    Dipasang
                </td>
                <td>
                    <span id="dssc-foto-dipasang"></span>
                </td>
                <td>
                    Saturasi
                </td>
                <td>
                    <span id="dssc-saturasi-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    Kehilangan darah > 50 ml (7ml/kg pada anak-anak)
                </td>
                <td>
                    tidak dipasang
                </td>
                <td>
                    <span id="dssc-foto-tidak-dipasang"></span>
                </td>
                <td>
                    Suhu
                </td>
                <td>
                    <span id="dssc-suhu-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Ya, dengan dua IV Line atau CVC
                </td>
                <td>
                    <span id="dssc-pendarahan-ya"></span>
                </td>
                <td colspan="2">
                    <b>RENCANA PEMASANGAN IMPLANT</b>
                </td>
                <td>
                    Skala nyeri
                </td>
                <td>
                    <span id="dssc-skala-nyeri-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Tidak
                </td>
                <td>
                    <span id="dssc-pendarahan-tidak"></span>
                </td>
                <td>
                    Ya
                </td>
                <td>
                    <span id="dssc-implant-ya"></span>
                </td>
                <td colspan="2">
                    <b>PEMERIKSAAN KEMBALI LUKA OPERASI</b>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <b>RENCANA ANESTESI</b>
                </td>
                <td>
                    Tidak
                </td>
                <td>
                    <span id="dssc-implant-tidak"></span>
                </td>
                <td>
                    Ada rembesan
                </td>
                <td>
                    <span id="dssc-rembesan-ya"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <span class="mr-1" id="dssc-umum"></span>Umum
                    <span class="ml-3 mr-1" id="dssc-spinal"></span>Spinal
                    <span class="ml-3 mr-1" id="dssc-blok"></span>Blok
                    <span class="ml-3 mr-1" id="dssc-lokal"></span>Lokal
                </td>
                <td colspan="2">
                    Tersedia :
                </td>
                <td>
                    Tidak ada rembesan
                </td>
                <td>
                    <span id="dssc-rembesan-tidak"></span>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>
                    Ya, jenis
                </td>
                <td>
                    <span id="dssc-jenis-ya"></span>
                    <span id="dssc-jenis"></span>
                </td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>
                    Tidak
                </td>
                <td>
                    <span id="dssc-jenis-tidak"></span>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>
                    <b>TANGGAL & JAM VERIFIKASI</b>
                </td>
                <td>
                    <span id="dssc-tanggal-sign-in"></span>
                </td>
                <td>
                    <b>TANGGAL & JAM VERIFIKASI</b>
                </td>
                <td>
                    <span id="dssc-tanggal-time-out"></span>
                </td>
                <td>
                    <b>TANGGAL & JAM VERIFIKASI</b>
                </td>
                <td>
                    <span id="dssc-tanggal-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
                <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
                <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
            </tr>
            <tr>
                <td>
                    Tanda tangan
                </td>
                <td>
                    <span id="dssc-paraf-perawat-sign-in"></span>
                </td>
                <td>Tanda tangan</td>
                <td>
                    <span id="dssc-paraf-perawat-time-out"></span>
                </td>
                <td>Tanda tangan</td>
                <td>
                    <span id="dssc-paraf-perawat-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Perawat Sirkuler
                </td>
                <td>
                    <span id="dssc-perawat-sign-in"></span>
                </td>
                <td>
                    Perawat Sirkuler
                </td>
                <td>
                    <span id="dssc-perawat-time-out"></span>
                </td>
                <td>
                    Perawat Sirkuler
                </td>
                <td>
                    <span id="dssc-perawat-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Tanda tangan
                </td>
                <td>
                    <span id="dssc-paraf-dokter-anestesi-sign-in"></span>
                </td>
                <td>Tanda tangan</td>
                <td>
                    <span id="dssc-paraf-dokter-anestesi-time-out"></span>
                </td>
                <td>
                    Tanda tangan
                </td>
                <td>
                    <span id="dssc-paraf-dokter-anestesi-sign-out"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Dokter Anestesi
                </td>
                <td>
                    <span id="dssc-dokter-sign-in"></span>
                </td>
                <td>
                    Dokter Anestesi
                </td>
                <td>
                    <span id="dssc-dokter-time-out"></span>
                </td>
                <td>
                    Dokter Anestesi
                </td>
                <td>
                    <span id="dssc-dokter-sign-out"></span>
                </td>
            </tr>
        </tbody>
    
        `;
        $('#table-detail-surgical-safety-ceklis').append(html);

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_surgical_safety_ceklis") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#modal-detail-surgical-safety-ceklis').modal('show');
                $('#dssc-gelang').html(data.ssc_gelang == '1' ? '&check;' : '&#10006;');
                $('#dssc-lengkap').html(data.ssc_lengkap == '1' ? '&check;' : '&#10006;');
                $('#dssc-nama-tindakan-sign-out').html(data.ssc_nama_tindakan_sign_out == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-informed').html(data.ssc_informed == '1' ? '&check;' : '&#10006;');
                $('#dssc-tidak-lengkap').html(data.ssc_lengkap == '0' ? '&check;' : '&#10006;');
                $('#dssc-dokter bedah').html(data.ssc_dokter_bedah == '1' ? '&check;' : '&#10006;');
                $('#dssc-instrument-sign-out').html(data.ssc_instrument_sign_out == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-anestesi').html(data.ssc_anestesi == '1' ? '&check;' : '&#10006;');
                $('#dssc-instrument').html(data.ssc_instrument == '1' ? '&check;' : '&#10006;');
                $('#dssc-kassa-sign-out').html(data.ssc_kassa_sign_out == '1' ? '&check;' : '&#10006;');
                $('#dssc-kassa').html(data.ssc_kassa == '1' ? '&check;' : '&#10006;');
                $('#dssc-jarum').html(data.ssc_jarum == '1' ? '&check;' : '&#10006;');
                $('#dssc-jarum-sign-out').html(data.ssc_jarum_sign_out == '1' ? '&check;' : '&#10006;');
                $('#dssc-lokasi-ya').html(data.ssc_lokasi == '1' ? '&check;' : '&#10006;');
                $('#dssc-lokasi-tidak').html(data.ssc_lokasi == '0' ? '&check;' : '&#10006;');
                $('#dssc-tanggal-tindakan').html(data.ssc_tanggal_tindakan == '1' ? '&check;' : '&#10006;');
                $('#dssc-preparat-ya').html(data.ssc_preparat == '1' ? '&check;' : '&#10006;');
                $('#dssc-identitas-pasien').html(data.ssc_identitas_pasien == '1' ? '&check;' : '&#10006;');
                $('#dssc-preparat-pa').html(data.ssc_preparat_pa == '1' ? '&check;' : '&#10006;');
                $('#dssc-mesin-anestesi').html(data.ssc_mesin_anestesi == '1' ? '&check;' : '&#10006;');
                $('#dssc-preparat-kultur').html(data.ssc_preparat_kultur == '1' ? '&check;' : '&#10006;');
                $('#dssc-preparat-sitologi').html(data.ssc_preparat_sitologi == '1' ? '&check;' : '&#10006;');
                $('#dssc-nama-tindakan-time-out').html(data.ssc_nama_tindakan_time_out == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-prepatur-kultur').html(data.ssc_preparat_kultur == '1' ? '&check;' : '&#10006;');
                $('#dssc-obat').html(data.ssc_obat == '1' ? '&check;' : '&#10006;');
                $('#dssc-prosedur-tindakan').html(data.ssc_prosedur_tindakan == '1' ? '&check;' : '&#10006;');
                $('#dssc-preparat-situlogi').html(data.ssc_preparat_sitologi == '1' ? '&check;' : '&#10006;');
                $('#dssc-oximeter').html(data.ssc_oximeter == '1' ? '&check;' : '&#10006;');
                $('#dssc-lokasi-tindakan').html(data.ssc_lokasi_tindakan == '1' ? '&check;' : '&#10006;');
                $('#dssc-preparat-tidak').html(data.ssc_preparat == '0' ? '&check;' : '&#10006;');
                $('#dssc-lab').html(data.ssc_lab == '1' ? '&check;' : '&#10006;');
                $('#dssc-consent').html(data.ssc_consent == '1' ? '&check;' : '&#10006;');
                $('#dssc-line').html(data.ssc_line == '1' ? '&check;' : '&#10006;');
                $('#dssc-formulir-permintaan-ya').html(data.ssc_formulir_permintaan == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-formulir-permintaan-tidak').html(data.ssc_formulir_permintaan == '0' ?
                    '&check;' : '&#10006;');
                $('#dssc-premedikasi-ada').html(data.ssc_premedikasi == '1' ? '&check;' : '&#10006;');
                $('#dssc-premedikasi-tidak-ada').html(data.ssc_premedikasi == '0' ? '&check;' :
                    '&#10006;');
                $('#dssc-lengkap-pasien-ya').html(data.ssc_lengkap_pasien == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-lengkap-pasien-tidak').html(data.ssc_lengkap_pasien == '0' ?
                    '&check;' : '&#10006;');
                $('#dssc-penjelasan-keluarga-ya').html(data.ssc_penjelasan_keluarga == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-penjelasan-keluarga-tidak').html(data.ssc_penjelasan_keluarga == '0' ?
                    '&check;' : '&#10006;');
                $('#dssc-obat-operasi-ya').html(data.ssc_obat_operasi == '1' ? '&check;' : '&#10006;');
                $('#dssc-antibiotik-ya').html(data.ssc_antibiotik == '1' ? '&check;' : '&#10006;');
                $('#dssc-obat-operasi-tidak').html(data.ssc_obat_operasi == '0' ? '&check;' : '&#10006;');
                $('#dssc-alergi-ya').html(data.ssc_alergi == '1' ? '&check;' : '&#10006;');
                $('#dssc-alergi-tidak').html(data.ssc_alergi == '0' ? '&check;' : '&#10006;');
                $('#dssc-antibiotik-tidak').html(data.ssc_antibiotik == '0' ? '&check;' : '&#10006;');
                $('#dssc-aspirasi-ya').html(data.ssc_aspirasi == '1' ? '&check;' : '&#10006;');
                $('#dssc-aspirasi-tidak').html(data.ssc_aspirasi == '0' ? '&check;' : '&#10006;');
                $('#dssc-foto-dipasang').html(data.ssc_foto == '1' ? '&check;' : '&#10006;');
                $('#dssc-foto-tidak-dipasang').html(data.ssc_foto == '0' ? '&check;' :
                    '&#10006;');
                $('#dssc-pendarahan-ya').html(data.ssc_pendarahan == '1' ? '&check;' : '&#10006;');
                $('#dssc-pendarahan-tidak').html(data.ssc_pendarahan == '0' ? '&check;' : '&#10006;');
                $('#dssc-implant-ya').html(data.ssc_implant == '1' ? '&check;' : '&#10006;');
                $('#dssc-implant-tidak').html(data.ssc_implant == '0' ? '&check;' : '&#10006;');
                $('#dssc-rembesan-ya').html(data.ssc_rembesan == '1' ? '&check;' : '&#10006;');
                $('#dssc-umum').html(data.ssc_rencana_anestesi == '0' ? '&check;' : '&#10006;');
                $('#dssc-spinal').html(data.ssc_rencana_anestesi == '1' ? '&check;' : '&#10006;');
                $('#dssc-blok').html(data.ssc_rencana_anestesi == '2' ? '&check;' : '&#10006;');
                $('#dssc-lokal').html(data.ssc_rencana_anestesi == '3' ? '&check;' : '&#10006;');
                $('#dssc-rembesan-tidak').html(data.ssc_rembesan == '0' ? '&check;' : '&#10006;');
                $('#dssc-jenis-ya').html(data.ssc_jenis == '1' ? '&check;' : '&#10006;');
                $('#dssc-jenis-tidak').html(data.ssc_jenis == '0' ? '&check;' : '&#10006;');
                $('#dssc-paraf-perawat-sign-in').html(data.ssc_paraf_perawat_sign_in == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-paraf-perawat-time-out').html(data.ssc_paraf_perawat_time_out == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-paraf-perawat-sign-out').html(data.ssc_paraf_perawat_sign_out == '1' ? '&check;' :
                    '&#10006;');
                $('#dssc-paraf-dokter-anestesi-sign-in').html(data.ssc_paraf_dokter_anestesi_sign_in == '1' ?
                    '&check;' : '&#10006;');
                $('#dssc-paraf-dokter-anestesi-time-out').html(data.ssc_paraf_dokter_anestesi_time_out == '1' ?
                    '&check;' : '&#10006;');
                $('#dssc-paraf-dokter-anestesi-sign-out').html(data.ssc_paraf_dokter_anestesi_sign_out == '1' ?
                    '&check;' : '&#10006;');
                $('#dssc-dokter-bedah').html(data.ssc_dokter_bedah == '1' ?
                    '&check;' : '&#10006;');
                $('#dssc-alasan').html(data.ssc_alasan);
                $('#dssc-dokter-operator').html(data.dokter_operator);
                $('#dssc-dokter-anestesi').html(data.dokter_anestesi);
                $('#dssc-nama-tindakan').html(data.ssc_nama_tindakan);
                $('#dssc-tekanan-darah').html(data.ssc_tekanan_darah);
                $('#dssc-premedikasi-obat').html(data.premedikasi_obat);
                $('#dssc-nadi').html(data.ssc_nadi);
                $('#dssc-pernafasan').html(data.ssc_pernafasan);
                $('#dssc-tanggal-obat').html(data.ssc_tanggal_obat);
                $('#dssc-penjelasan-keluarga-ket').html(data.ssc_penjelasan_keluarga_ket);
                $('#dssc-saturasi').html(data.ssc_saturasi);
                $('#dssc-suhu').html(data.ssc_suhu);
                $('#dssc-obat-operasi-ya-alasan').html(data.ssc_obat_operasi_ya_alasan);
                $('#dssc-obat-operasi-tidak-alasan').html(data.ssc_obat_operasi_tidak_alasan);
                $('#dssc-alergi').html(data.ssc_alergi_ket);
                $('#dssc-antibiotik-obat').html(data.antibiotik_obat);
                $('#dssc-antibiotik-dosis').html(data.ssc_antibiotik_dosis);
                $('#dssc-kesadaran-sign-out').html(data.ssc_kesadaran_sign_out);
                $('#dssc-jam-antibiotik-obat').html(data.ssc_jam_antibiotik_obat);
                $('#dssc-tekanan-darah-sign-out').html(data.ssc_tekanan_darah_sign_out);
                $('#dssc-nadi-sign-out').html(data.ssc_nadi_sign_out);
                $('#dssc-pernafasan-sign-out').html(data.ssc_pernafasan_sign_out);
                $('#dssc-saturasi-sign-out').html(data.ssc_saturasi_sign_out);
                $('#dssc-suhu-sign-out').html(data.ssc_suhu_sign_out);
                $('#dssc-skala-nyeri-sign-out').html(data.ssc_skala_nyeri_sign_out);
                $('#dssc-jenis').html(data.ssc_jenis_ket);
                $('#dssc-tanggal-sign-in').html(data.ssc_tanggal_sign_in);
                $('#dssc-tanggal-time-out').html(data.ssc_tanggal_time_out);
                $('#dssc-tanggal-sign-out').html(data.ssc_tanggal_sign_out);
                $('#dssc-perawat-sign-in').html(data.perawat_sign_in);
                $('#dssc-perawat-time-out').html(data.perawat_time_out);
                $('#dssc-perawat-sign-out').html(data.perawat_sign_out);
                $('#dssc-dokter-sign-in').html(data.dokter_anestesi_sign_in);
                $('#dssc-dokter-time-out').html(data.dokter_anestesi_time_out);
                $('#dssc-dokter-sign-out').html(data.dokter_anestesi_sign_out);



                $('#detail-ssc').empty();
                let dssc = '';
                dssc =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-detail-surgical-safety-ceklis').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
            `;
                $('#detail-ssc').append(dssc);
                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function editSurgicalSafetyCeklis(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {

        const modal = $('#modal-edit-surgical-safety-ceklis').modal('show');
        $('#table-edit-surgical-safety-ceklis tbody').empty();
        let html = /* html */ `
        <tbody>
            <tr class="text-center">
                <td colspan="2">Diklakukan oleh perawat dan dokter anestesi</td>
                <td colspan="2">Diklakukan oleh perawat, dokter anestesi dan ahli bedah</td>
                <td colspan="2">Diklakukan oleh perawat, dokter anestesi dan ahli bedah</td>
            </tr>
            <tr>
                <td colspan="2"><b>VERIFIKASI</b></td>
                <td colspan="2"><b>KELENGKAPAN TIM DAN FASILITAS OPERASI</b></td>
                <td colspan="2"><b>BACA SECARA VERBAL</b></td>
            </tr>
            <tr>
                <td>Identitas dan Gelang Pasien</td>
                <td><input type="checkbox" name="ssc_gelang" id="essc-gelang" value="1"></td>
                <td>Lengkap</td>
                <td><input type="radio" name="ssc_lengkap" id="essc-lengkap" value="1"></td>
                <td>Nama Tindakan</td>
                <td><input type="checkbox" name="ssc_nama_tindakan_sign_out" id="essc-nama-tindakan-sign-out" value="1"></td>
            </tr>
            <tr>
                <td>Informed Concent</td>
                <td><input type="checkbox" name="ssc_informed" id="essc-informed" value="1"></td>
                <td>Tidak lengkap, alasan</td>
                <td>
                    <input type="radio" name="ssc_lengkap" id="essc-tidak-lengkap" value="0">
                    <input type="text" name="ssc_alasan" id="essc-alasan" class="custom-form clear-input d-inline-block col-lg-10 ml-1">
                </td>
                <td colspan="2"><b>PEMERIKSAAN KELENGKAPAN SEBELUM LUKA OPERASI DITUTUP</b></td>
            </tr>
            <tr>
                <td>Dokter Bedah</td>
                <td><input type="checkbox" name="ssc_dokter_bedah" id="essc-dokter-bedah" value="1"></td>
                <td colspan="2"><b>PEMERIKSAAN KELENGKAPAN PERALATAN OPERASI</b></td>
                <td>Instrument</td>
                <td><input type="checkbox" name="ssc_instrument_sign_out" id="essc-instrument-sign-out" value="1"></td>
            </tr>
            <tr>
                <td>Dokter Anestesi</td>
                <td><input type="checkbox" name="ssc_anestesi" id="essc-anestesi" value="1"></td>
                <td>Instrument</td>
                <td><input type="checkbox" name="ssc_instrument" id="essc-instrument" value="1"></td>
                <td>Kassa</td>
                <td><input type="checkbox" name="ssc_kassa_sign_out" id="essc-kassa-sign-out" value="1"></td>
            </tr>
            <tr>
                <td>Nama Operator</td>
                <td><input type="text" name="ssc_dokter_operator" id="essc-dokter-operator" class="select2c-input"></td>
                <td>Kassa</td>
                <td><input type="checkbox" name="ssc_kassa" id="essc-kassa" value="1"></td>
                <td>Jarum</td>
                <td><input type="checkbox" name="ssc_jarum_sign_out" id="essc-jarum-sign-out" value="1"></td>
            </tr>
            <tr>
                <td>Nama Anestesi</td>
                <td><input type="text" name="ssc_dokter_anestesi" id="essc-dokter-anestesi" class="select2c-input"></td>
                <td>Jarum</td>
                <td><input type="checkbox" name="ssc_jarum" id="essc-jarum" value="1"></td>
                <td colspan="2"><b>PERIKSA KELENGKAPAN BAHAN PEMERIKSAAN</b></td>
            </tr>
            <tr>
                <td>Nama Tindakan</td>
                <td><input type="text" name="ssc_nama_tindakan" id="essc-nama-tindakan" class="custom-form clear-input d-inline-block col-lg-12"></td>
                <td colspan="2"><b>BACA SECARA VERBAL</b></td>
                <td colspan="2">Preprat :</td>
            </tr>
            <tr>
                <td>Pemberian Tanda Lokasi Operasi</td>
                <td>
                    <input class="mr-1" type="radio" name="ssc_lokasi" id="essc-lokasi-ya" value="1">Ya
                    <input class="ml-2 mr-1" type="radio" name="ssc_lokasi" id="essc-lokasi-tidak" value="0">Tidak
                </td>
                <td>Tanggal Tindakan</td>
                <td><input type="checkbox" name="ssc_tanggal_tindakan" id="essc-tanggal-tindakan" value="1"></td>
                <td>Ya</td>
                <td><input type="radio" name="ssc_preparat" id="essc-preparat-ya" value="1"></td>
            </tr>
            <tr>
                <td colspan="2"><b>PEMERIKSAAN KELENGKAPAN ANESTESI</b></td>
                <td>Identitas Pasien</td>
                <td><input type="checkbox" name="ssc_identitas_pasien" id="essc-identitas-pasien" value="1"></td>
                <td></td>
                <td><input type="checkbox" name="ssc_preparat_pa" class="mr-1" id="essc-preparat-pa" value="1">PA</td>
            </tr>
            <tr>
                <td>Mesin Anestesi</td>
                <td><input type="checkbox" name="ssc_mesin_anestesi" id="essc-mesin-anestesi" value="1"></td>
                <td>Nama Tindakan</td>
                <td><input type="checkbox" name="ssc_nama_tindakan_time_out" id="essc-nama-tindakan-time-out" value="1"></td>
                <td></td>
                <td><input type="checkbox" name="ssc_preparat_kultur" class="mr-1" id="essc-preparat-kultur" value="1">Kultur</td>
            </tr>
            <tr>
                <td>Obat - obatan</td>
                <td><input type="checkbox" name="ssc_obat" id="essc-obat" value="1"></td>
                <td>Prosedur Tindakan</td>
                <td><input type="checkbox" name="ssc_prosedur_tindakan" id="essc-prosedur-tindakan" value="1"></td>
                <td></td>
                <td><input type="checkbox" name="ssc_preparat_sitologi" class="mr-1" id="essc-preparat-sitologi" value="1">Sitologi</td>
            </tr>
            <tr>
                <td>Pulse Oximeter</td>
                <td><input type="checkbox" name="ssc_oximeter" id="essc-oximeter" value="1"></td>
                <td>lokasi Tindakan</td>
                <td><input type="checkbox" name="ssc_lokasi_tindakan" id="essc-lokasi-tindakan" value="1"></td>
                <td>Tidak</td>
                <td><input type="radio" name="ssc_preparat" id="essc-preparat-tidak" value="0"></td>
            </tr>
            <tr>
                <td>Laboratorium</td>
                <td><input type="checkbox" name="ssc_lab" id="essc-lab" value="1"></td>
                <td>Informed Consent</td>
                <td><input type="checkbox" name="ssc_consent" id="essc-consent" value="1"></td>
                <td colspan="2">Formulir permintaan pemeriksaan :</td>
            </tr>
            <tr>
                <td>IV line</td>
                <td><input type="checkbox" name="ssc_line" id="essc-line" value="1"></td>
                <td colspan="2"><b>PREMEDIKASI</b></td>
                <td>Ya</td>
                <td><input type="radio" name="ssc_formulir_permintaan" id="essc-formulir-permintaan-ya" value="1"></td>
            </tr>
            <tr>
                <td colspan="2"><b>PEMERIKSAAN TANDA VITAL</b></td>
                <td>Tidak Ada</td>
                <td><input type="radio" name="ssc_premedikasi" id="essc-premedikasi-tidak-ada" value="0"></td>
                <td>Tidak</td>
                <td><input type="radio" name="ssc_formulir_permintaan" id="essc-formulir-permintaan-tidak" value="0"></td>
            </tr>
            <tr>
                <td>Tekanan Darah</td>
                <td><input type="text" name="ssc_tekanan_darah" id="essc-tekanan-darah" class="custom-form clear-input d-inline-block col-lg-12" placeholder=""></td>
                <td>Ada</td>
                <td><input type="radio" name="ssc_premedikasi" id="essc-premedikasi-ada" value="1"></td>
                <td colspan="2">Telah dilengkapi identitas pasien:</td>
            </tr>
            <tr>
                <td>Nadi</td>
                <td><input type="text" name="ssc_nadi" id="essc-nadi" class="custom-form clear-input d-inline-block col-lg-12" placeholder=""></td>
                <td>Nama Obat</td>
                <td><input type="text" name="ssc_premedikasi_obat" id="essc-premedikasi-obat" class="select2c-input"></td>
                <td>Ya</td>
                <td><input type="radio" name="ssc_lengkap_pasien" id="essc-lengkap-pasien-ya" value="1"></td>
            </tr>
            <tr>
                <td>Pernafasan</td>
                <td><input type="text" name="ssc_pernafasan" id="essc-pernafasan" class="custom-form clear-input d-inline-block col-lg-12" placeholder=""></td>
                <td>Tanggal & jam diberikan</td>
                <td><input type="text" name="ssc_tanggal_obat" id="essc-tanggal-obat" class="custom-form clear-d-inline-block col-lg-5" placeholder="dd/mm/yyyy hh:mm"></td>
                <td>Tidak</td>
                <td><input type="radio" name="ssc_lengkap_pasien" id="essc-lengkap-pasien-tidak" value="0"></td>
            </tr>
            <tr>
                <td>Saturasi O2</td>
                <td><input type="text" name="ssc_saturasi" id="essc-saturasi" class="custom-form clear-input d-inline-block col-lg-12" placeholder=""></td>
                <td colspan="2"><b>ANTIBIOTIK PROFILAKSIS</b></td>
                <td colspan="2">Penjelasan oleh operator kepada keluarga pasien :</td>
            </tr>
            <tr>
                <td>Suhu</td>
                <td><input type="text" name="ssc_suhu" id="essc-suhu" class="custom-form clear-input d-inline-block col-lg-12" placeholder=""></td>
                <td colspan="2">Apakah sudah diberikan dalam waktu sekurangnya 60 menit ?</td>
                <td>Ya</td>
                <td><input type="radio" name="ssc_penjelasan_keluarga" id="essc-penjelasan-keluarga-ya" value="1"></td>
            </tr>
            <tr>
                <td colspan="2"><b>RIWAYAT ALERGI</b></td>
                <td>Tidak</td>
                <td> <input type="radio" name="ssc_antibiotik" id="essc-antibiotik-tidak" value="0"></td>
                <td>Tidak, alasan</td>
                <td>
                    <input type="radio" name="ssc_penjelasan_keluarga" id="essc-penjelasan-keluarga-tidak" value="0">
                    <input type="text" name="ssc_penjelasan_keluarga_ket" id="essc-penjelasan-keluarga-ket" class="custom-form clear-input d-inline-block col-lg-10 ml-1">
                </td>
            </tr>
            <tr>
                <td>Ada, Keterangan</td>
                <td>
                    <input type="radio" name="ssc_alergi" id="essc-alergi-ya" value="1">
                    <input type="text" name="ssc_alergi_ket" id="essc-alergi-ket" class="custom-form clear-input d-inline-block col-lg-11 ml-1">
                </td>
                <td>Ya</td>
                <td><input type="radio" name="ssc_antibiotik" id="essc-antibiotik-ya" value="1"></td>
                <td colspan="2"><b>OBAT-OBATAN YANG DIBERIKAN SELAMA OPERASI</b></td>
            </tr>
            <tr>
                <td>Tidak</td>
                <td><input type="radio" name="ssc_alergi" id="essc-alergi-tidak" value="0"></td>
                <td>Nama Obat</td>
                <td><input type="text" name="ssc_antibiotik_obat" id="essc-antibiotik-obat" class="select2c-input"></td>
                <td>Diberikan, alasan</td>
                <td>
                    <input type="radio" name="ssc_obat_operasi" id="essc-obat-operasi-ya" value="1">
                    <input type="text" name="ssc_obat_operasi_ya_alasan" id="essc-obat-operasi-ya-alasan" class="custom-form clear-input d-inline-block col-lg-10 ml-1">
                </td>
            </tr>
            <tr>
                <td colspan="2"><b>RESIKO ASPIRASI ATAU GANGGUAN PERNAFASAN</b></td>
                <td>Dosis obat</td>
                <td><input type="text" name="ssc_antibiotik_dosis" id="essc-antibiotik-dosis" class="custom-form clear-input d-inline-block"></td>
                <td>Tidak diberikan, alasan</td>
                <td>
                    <input type="radio" name="ssc_obat_operasi" id="essc-obat-operasi-tidak" value="0">
                    <input type="text" name="ssc_obat_operasi_tidak_alasan" id="essc-obat-operasi-tidak-alasan" class="custom-form clear-input d-inline-block col-lg-10 ml-1">
                </td>
            </tr>
            <tr>
                <td>Ya, dengan bantuan alat</td>
                <td><input type="radio" name="ssc_aspirasi" id="essc-aspirasi-ya" value="1"></td> <td>jam diberikan</td>
                <td><input type="text" name="ssc_jam_antibiotik_obat" id="essc-jam-antibiotik-obat" class="custom-form clear-d-inline-block col-lg-3" placeholder="hh:mm"></td>
                <td colspan="2"><b>PEMERIKSAAN TANDA VITAL</b></td>
            </tr>
            <tr>
                <td>Tidak</td>
                <td><input type="radio" name="ssc_aspirasi" id="essc-aspirasi-tidak" value="0"></td>
                <td colspan="2"><b>FOTO PEMERIKSAAN RADIOLOGI YANG DIPERLUKAN</b></td>
                <td>Kesadaran</td>
                <td><input type="text" name="ssc_kesadaran_sign_out" id="essc-kesadaran-sign-out" class="custom-form clear-input d-inline-block"></td>
            </tr>
            <tr>
                <td colspan="2"><b>RESIKO PENDARAHAN</b></td>
                <td>Dipasang</td>
                <td><input type="radio" name="ssc_foto" id="essc-foto-dipasang" value="1"></td>
                <td>Tekanan darah</td>
                <td><input type="text" name="ssc_tekanan_darah_sign_out" id="essc-tekanan-darah-sign-out" class="custom-form clear-input d-inline-block"></td>
            </tr>
            <tr>
                <td colspan="2">Kehilangan darah > 50 ml (7ml/kg pada anak-anak)</td>
                <td>tidak dipasang</td>
                <td><input type="radio" name="ssc_foto" id="essc-foto-tidak-dipasang" value="0"></td>
                <td>Nadi</td>
                <td><input type="text" name="ssc_nadi_sign_out" id="essc-nadi-sign-out" class="custom-form clear-input d-inline-block"></td>
            </tr>
            <tr>
                <td>Ya, dengan dua IV Line atau CVC</td>
                <td><input type="radio" name="ssc_pendarahan" id="essc-pendarahan-ya" value="1"></td>
                <td colspan="2"><b>RENCANA PEMASANGAN IMPLANT</b></td>
                <td>Pernafasan</td>
                <td><input type="text" name="ssc_pernafasan_sign_out" id="essc-pernafasan-sign-out" class="custom-form clear-input d-inline-block"></td>
            </tr>
            <tr>
                <td>Tidak</td>
                <td><input type="radio" name="ssc_pendarahan" id="essc-pendarahan-tidak" value="0"></td>
                <td>Ya</td>
                <td><input type="radio" name="ssc_implant" id="essc-implant-ya" value="1"></td>
                <td>Saturasi</td>
                <td><input type="text" name="ssc_saturasi_sign_out" id="essc-saturasi-sign-out" class="custom-form clear-input d-inline-block">
                </td>
            </tr>
            <tr>
                <td colspan="2"><b>RENCANA ANESTESI</b></td>
                <td>Tidak</td>
                <td><input type="radio" name="ssc_implant"id="essc-implant-tidak" value="0"></td>
                <td>Suhu</td>
                <td><input type="text" name="ssc_suhu_sign_out" id="essc-suhu-sign-out" class="custom-form clear-input d-inline-block"></td>
            </tr>
            <tr>
                <td colspan="2">
                    <input class="mr-1" type="radio" name="ssc_rencana_anestesi"
                        id="essc-umum" value="0">Umum
                    <input class="ml-3 mr-1" type="radio"
                        name="ssc_rencana_anestesi" id="essc-spinal" value="1">Spinal
                    <input class="ml-3 mr-1" type="radio" name="ssc_rencana_anestesi"
                        id="essc-blok" value="2">Blok
                    <input class="ml-3 mr-1" type="radio"
                        name="ssc_rencana_anestesi" id="essc-lokal" value="3">Lokal
                </td>
                <td colspan="2">Tersedia :</td>
                <td>Skala nyeri</td>
                <td><input type="text" name="ssc_skala_nyeri_sign_out" id="essc-skala-nyeri-sign-out" class="custom-form clear-input d-inline-block"></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>Ya, jenis</td>
                <td>
                    <input type="radio" name="ssc_jenis" id="essc-jenis-ya" value="1">
                    <input type="text" name="ssc_jenis_ket" id="essc-jenis-ket" class="custom-form clear-input d-inline-block col-lg-11 ml-1">
                </td>
                <td colspan="2"><b>PEMERIKSAAN KEMBALI LUKA OPERASI</b>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>Tidak</td>
                <td><input type="radio" name="ssc_jenis" id="essc-jenis-tidak" value="0"></td>
                <td>Ada rembesan</td>
                <td><input type="radio" name="ssc_rembesan"id="essc-rembesan-ya" value="1"></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>Tidak ada rembesan</td>
                <td><input type="radio" name="ssc_rembesan" id="essc-rembesan-tidak" value="0"></td>
            </tr>
            <tr>
                <td><b>TANGGAL & JAM VERIFIKASI</b></td>
                <td><input type="text" name="ssc_tanggal_sign_in" id="essc-tanggal-sign-in" class="custom-form clear-d-inline-block col-lg-5" placeholder="dd/mm/yyyy hh:mm"></td>
                <td><b>TANGGAL & JAM VERIFIKASI</b></td>
                <td><input type="text" name="ssc_tanggal_time_out" id="essc-tanggal-time-out" class="custom-form clear-d-inline-block col-lg-5" placeholder="dd/mm/yyyy hh:mm"></td>
                <td><b>TANGGAL & JAM VERIFIKASI</b></td>
                <td><input type="text" name="ssc_tanggal_sign_out" id="essc-tanggal-sign-out" class="custom-form clear-d-inline-block col-lg-5" placeholder="dd/mm/yyyy hh:mm"></td>
            </tr>
            <tr>
                <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
                <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
                <td colspan="2"><b>NAMA DAN TANDA TANGAN</b></td>
            </tr>
            <tr>
                <td>Tanda tangan</td>
                <td>
                    <div class="input-group">
                        <input type="checkbox"name="ssc_paraf_perawat_sign_in"id="essc-paraf-perawat-sign-in" value="1">
                    </div>
                </td>
                <td>Tanda tangan</td>
                <td>
                    <div class="input-group">
                        <input type="checkbox"name="ssc_paraf_perawat_time_out"id="essc-paraf-perawat-time-out" value="1">
                    </div>
                </td>
                <td>Tanda tangan</td>
                <td>
                    <div class="input-group">
                        <input type="checkbox"name="ssc_paraf_perawat_sign_out"id="essc-paraf-perawat-sign-out" value="1">
                    </div>
                </td>
            </tr>
            <tr>
                <td>Perawat Sirkuler</td>
                <td><input type="text" name="ssc_perawat_sign_in" id="essc-perawat-sign-in" class="select2c-input"></td>
                <td>Perawat Sirkuler</td>
                <td><input type="text" name="ssc_perawat_time_out" id="essc-perawat-time-out" class="select2c-input"></td>
                <td>Perawat Sirkuler</td>
                <td><input type="text" name="ssc_perawat_sign_out" id="essc-perawat-sign-out" class="select2c-input"></td>
            </tr>
            <tr>
                <td>Tanda tangan</td>
                <td><input type="checkbox" name="ssc_paraf_dokter_anestesi_sign_in" id="essc-paraf-dokter-anestesi-sign-in" value="1"></td>
                <td>Tanda tangan</td>
                <td><input type="checkbox" name="ssc_paraf_dokter_anestesi_time_out" id="essc-paraf-dokter-anestesi-time-out" value="1"></td>
                <td>Tanda tangan</td>
                <td><input type="checkbox" name="ssc_paraf_dokter_anestesi_sign_out" id="essc-paraf-dokter-anestesi-sign-out" value="1"></td>
            </tr>
            <tr>
                <td>Dokter Anestesi</td>
                <td><input type="text" name="ssc_dokter_anestesi_sign_in" id="essc-dokter-anestesi-sign-in" class="select2c-input"></td>
                <td>Dokter Anestesi</td>
                <td><input type="text" name="ssc_dokter_anestesi_time_out" id="essc-dokter-anestesi-time-out" class="select2c-input"></td>
                <td>Dokter Anestesi</td>
                <td><input type="text" name="ssc_dokter_anestesi_sign_out" id="essc-dokter-anestesi-sign-out" class="select2c-input"></td>
            </tr>
        </tbody>
        `;
        $('#table-edit-surgical-safety-ceklis').append(html);

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_surgical_safety_ceklis") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#modal-edit-surgical-safety-ceklis').modal('show');
                $('#update-ssc').empty();
                $('#id-surgical-safety-ceklis').val(id);

                $('#essc-dokter-operator, #essc-dokter-anestesi, #essc-dokter-anestesi-sign-in, #essc-dokter-anestesi-time-out, #essc-dokter-anestesi-sign-out')
                    .select2c({
                        ajax: {
                            url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                            dataType: 'json',
                            quietMillis: 100,
                            data: function(term,
                                page) { // page is the one-based page number tracked by Select2
                                return {
                                    q: term, //search term
                                    page: page, // page number
                                    jenis: 18,
                                };
                            },
                            results: function(data, page) {
                                var more = (page * 20) < data
                                    .total; // whether or not there are more results available

                                // notice we return the value of more so Select2 knows if more results can be loaded
                                return {
                                    results: data.data,
                                    more: more
                                };
                            }
                        },
                        formatResult: function(data) {
                            var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                            return markup;
                        },
                        formatSelection: function(data) {
                            return data.nama;
                        }
                    });

                $('#essc-perawat-sign-in, #essc-perawat-time-out, #essc-perawat-sign-out')
                    .select2c({
                        ajax: {
                            url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                            dataType: 'json',
                            quietMillis: 100,
                            data: function(term,
                                page) { // page is the one-based page number tracked by Select2
                                return {
                                    q: term, //search term
                                    page: page, // page number
                                    jenis: 18,
                                };
                            },
                            results: function(data, page) {
                                var more = (page * 20) < data
                                    .total; // whether or not there are more results available

                                // notice we return the value of more so Select2 knows if more results can be loaded
                                return {
                                    results: data.data,
                                    more: more
                                };
                            }
                        },
                        formatResult: function(data) {
                            var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                            return markup;
                        },
                        formatSelection: function(data) {
                            return data.nama;
                        }
                    });

                $('#essc-premedikasi-obat, #essc-antibiotik-obat').select2c({
                    minimumInputLength: 2,
                    ajax: {
                        url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
                        dataType: 'json',
                        quietMillis: 100,
                        data: function(term,
                            page) { // page is the one-based page number tracked by Select2

                            return {
                                q: term, //search term
                                page: page // page number
                            };
                        },
                        results: function(data, page) {
                            var more = (page * 20) < data
                                .total; // whether or not there are more results available

                            // notice we return the value of more so Select2 knows if more results can be loaded
                            return {
                                results: data.data,
                                more: more
                            };
                        }
                    },

                    formatResult: function(data) {
                        var markup = data.nama;

                        return markup;
                    },
                    formatSelection: function(data) {

                        return data.nama;

                    }

                });

                $('#essc-tanggal-sign-in, #essc-tanggal-time-out, #essc-tanggal-sign-out, #essc-tanggal-obat')
                    .datetimepicker({
                        format: 'DD/MM/YYYY HH:mm',
                        maxDate: new Date(),
                        beforeShow: function(i) {
                            if ($(i).attr('readonly')) {
                                return false;
                            }
                        }
                    });

                $('#essc-jam-antibiotik-obat')
                    .datetimepicker({
                        format: 'HH:mm',
                        beforeShow: function(i) {
                            if ($(i).attr('readonly')) {
                                return false;
                            }
                        }
                    });


                $('input[type=radio][name=ssc_alergi]').change(function() {
                    if (this.value == '0') {
                        $('#essc-alergi-ket').val('');
                        $('#essc-alergi-ket').prop('disabled', true);
                    } else {
                        $('#essc-alergi-ket').val('');
                        $('#essc-alergi-ket').prop('disabled', false);
                    }
                });

                // jquery :
                // $(this).is(':checked')
                // javascript :
                // this.value == '0'

                $('input[type=radio][name=ssc_lengkap]').change(function() {
                    if (this.value == '1') {
                        $('#essc-alasan').val('');
                        $('#essc-alasan').prop('disabled', true);
                    } else {
                        $('#essc-alasan').val('');
                        $('#essc-alasan').prop('disabled', false);
                    }
                });

                $('input[type=radio][name=ssc_antibiotik]').change(function() {
                    if (this.value == '0') {
                        $('#essc-antibiotik-obat, #essc-antibiotik-dosis, #essc-jam-antibiotik-obat')
                            .val(
                                '');
                        $('#essc-antibiotik-obat, #essc-antibiotik-dosis, #essc-jam-antibiotik-obat')
                            .prop(
                                'disabled', true);
                    } else {
                        $('#essc-antibiotik-obat, #essc-antibiotik-dosis, #essc-jam-antibiotik-obat')
                            .val(
                                '');
                        $('#essc-antibiotik-obat, #essc-antibiotik-dosis, #essc-jam-antibiotik-obat')
                            .prop(
                                'disabled', false);
                    }
                });

                $('input[type=radio][name=ssc_implant]').change(function() {
                    if (this.value == '0') {
                        $('#essc-jenis-ket').val('');
                        $('#essc-jenis-ya, #essc-jenis-tidak, #essc-jenis-ket').prop('disabled', true);
                        $('#essc-jenis-ya, #essc-jenis-tidak').prop('checked', false);
                    } else {
                        $('#essc-jenis-ket').val('');
                        $('#essc-jenis-ya, #essc-jenis-ket, #essc-jenis-tidak').prop('disabled', false);
                    }
                });

                $('input[type=radio][name=ssc_preparat]').change(function() {
                    if (this.value == '0') {
                        $('#essc-preparat-pa, #essc-preparat-kultur, #essc-preparat-sitologi').prop(
                            'checked', false);
                        $('#essc-preparat-pa, #essc-preparat-kultur, #essc-preparat-sitologi').prop(
                            'disabled', true);
                    } else {
                        $('#essc-preparat-pa, #essc-preparat-kultur, #essc-preparat-sitologi').prop(
                            'checked', false);
                        $('#essc-preparat-pa, #essc-preparat-kultur, #essc-preparat-sitologi').prop(
                            'disabled', false);
                    }
                });

                $('input[type=radio][name=ssc_penjelasan_keluarga]').change(function() {
                    if (this.value == '1') {
                        $('#essc-penjelasan-keluarga-ket').val('');
                        $('#essc-penjelasan-keluarga-ket').prop('disabled', true);
                    } else {
                        $('#essc-penjelasan-keluarga-ket').val('');
                        $('#essc-penjelasan-keluarga-ket').prop('disabled', false);
                    }
                });

                $('input[type=radio][name=ssc_obat_operasi]').change(function() {
                    if (this.value == '0') {
                        $('#essc-obat-operasi-ya-alasan').val('');
                        $('#essc-obat-operasi-ya-alasan').prop('disabled', true);
                        $('#essc-obat-operasi-tidak-alasan').val('');
                        $('#essc-obat-operasi-tidak-alasan').prop('disabled', false);
                    } else {
                        $('#essc-obat-operasi-ya-alasan').val('');
                        $('#essc-obat-operasi-ya-alasan').prop('disabled', false);
                        $('#essc-obat-operasi-tidak-alasan').val('');
                        $('#essc-obat-operasi-tidak-alasan').prop('disabled', true);
                    }
                });


                let essc = '';
                essc =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-surgical-safety-ceklis').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
        <button type="button" class="btn btn-info waves-effect" onclick="updateSurgicalSafetyCeklis(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-ssc').append(essc);

                function formatTanggaljamKhusus(waktu) {
                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1];
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu;
                }

                //  sign in
                if (data.ssc_gelang == '1') {
                    $('#essc-gelang').prop('checked', true)
                }
                if (data.ssc_informed == '1') {
                    $('#essc-informed').prop('checked', true)
                }
                if (data.ssc_dokter_bedah == '1') {
                    $('#essc-dokter-bedah').prop('checked', true)
                }
                if (data.ssc_anestesi == '1') {
                    $('#essc-anestesi').prop('checked', true)
                }
                $('#essc-dokter-operator').val(data.ssc_dokter_operator);
                $('#s2id_essc-dokter-operator a .select2c-chosen').html(data.dokter_operator);
                $('#essc-dokter-anestesi').val(data.ssc_dokter_anestesi);
                $('#s2id_essc-dokter-anestesi a .select2c-chosen').html(data.dokter_anestesi);
                $('#essc-nama-tindakan').val(data.ssc_nama_tindakan);
                if (data.ssc_lokasi == '1') {
                    $('#essc-lokasi-ya').prop('checked', true)
                }
                if (data.ssc_lokasi == '0') {
                    $('#essc-lokasi-tidak').prop('checked', true)
                }
                if (data.ssc_mesin_anestesi == '1') {
                    $('#essc-mesin-anestesi').prop('checked', true)
                }
                if (data.ssc_obat == '1') {
                    $('#essc-obat').prop('checked', true)
                }
                if (data.ssc_oximeter == '1') {
                    $('#essc-oximeter').prop('checked', true)
                }
                if (data.ssc_lab == '1') {
                    $('#essc-lab').prop('checked', true)
                }
                if (data.ssc_line == '1') {
                    $('#essc-line').prop('checked', true)
                }
                $('#essc-tekanan-darah').val(data.ssc_tekanan_darah);
                $('#essc-nadi').val(data.ssc_nadi);
                $('#essc-pernafasan').val(data.ssc_pernafasan);
                $('#essc-saturasi').val(data.ssc_saturasi);
                $('#essc-suhu').val(data.ssc_suhu);
                if (data.ssc_alergi == '1') {
                    $('#essc-alergi-ya').prop('checked', true)
                }
                if (data.ssc_alergi == '0') {
                    $('#essc-alergi-tidak').prop('checked', true)
                }
                $('#essc-alergi-ket').val(data.ssc_alergi_ket);
                if (data.ssc_aspirasi == '1') {
                    $('#essc-aspirasi-ya').prop('checked', true)
                }
                if (data.ssc_aspirasi == '0') {
                    $('#essc-aspirasi-tidak').prop('checked', true)
                }
                if (data.ssc_pendarahan == '1') {
                    $('#essc-pendarahan-ya').prop('checked', true)
                }
                if (data.ssc_pendarahan == '0') {
                    $('#essc-pendarahan-tidak').prop('checked', true)
                }
                if (data.ssc_rencana_anestesi == '0') {
                    $('#essc-umum').prop('checked', true)
                }
                if (data.ssc_rencana_anestesi == '1') {
                    $('#essc-spinal').prop('checked', true)
                }
                if (data.ssc_rencana_anestesi == '2') {
                    $('#essc-blok').prop('checked', true)
                }
                if (data.ssc_rencana_anestesi == '3') {
                    $('#essc-lokal').prop('checked', true)
                }
                if (data.ssc_tanggal_sign_in !== null) {
                    let essc_tanggal_sign_in = formatTanggaljamKhusus(data.ssc_tanggal_sign_in);
                    $('#essc-tanggal-sign-in').val(essc_tanggal_sign_in);
                }

                if (data.ssc_paraf_dokter_anestesi_sign_in == '1') {
                    $('#essc-paraf-dokter-anestesi-sign-in').prop('checked', true)
                }
                $('#essc-dokter-anestesi-sign-in').val(data.ssc_dokter_anestesi_sign_in);
                $('#s2id_essc-dokter-anestesi-sign-in a .select2c-chosen').html(data.dokter_anestesi_sign_in);

                if (data.ssc_paraf_perawat_sign_in == '1') {
                    $('#essc-paraf-perawat-sign-in').prop('checked', true)
                }
                $('#essc-perawat-sign-in').val(data.ssc_perawat_sign_in);
                $('#s2id_essc-perawat-sign-in a .select2c-chosen').html(data.perawat_sign_in);

                //  time out
                if (data.ssc_lengkap == '1') {
                    $('#essc-lengkap').prop('checked', true)
                }
                if (data.ssc_lengkap == '0') {
                    $('#essc-tidak-lengkap').prop('checked', true)
                }
                $('#essc-alasan').val(data.ssc_alasan);
                if (data.ssc_instrument == '1') {
                    $('#essc-instrument').prop('checked', true)
                }
                if (data.ssc_kassa == '1') {
                    $('#essc-kassa').prop('checked', true)
                }
                if (data.ssc_jarum == '1') {
                    $('#essc-jarum').prop('checked', true)
                }
                if (data.ssc_tanggal_tindakan == '1') {
                    $('#essc-tanggal-tindakan').prop('checked', true)
                }
                if (data.ssc_identitas_pasien == '1') {
                    $('#essc-identitas-pasien').prop('checked', true)
                }
                if (data.ssc_nama_tindakan_time_out == '1') {
                    $('#essc-nama-tindakan-time-out').prop('checked', true)
                }
                if (data.ssc_prosedur_tindakan == '1') {
                    $('#essc-prosedur-tindakan').prop('checked', true)
                }
                if (data.ssc_lokasi_tindakan == '1') {
                    $('#essc-lokasi-tindakan').prop('checked', true)
                }
                if (data.ssc_consent == '1') {
                    $('#essc-consent').prop('checked', true)
                }
                if (data.ssc_tindakan == '1') {
                    $('#essc-tindakan').prop('checked', true)
                }
                if (data.ssc_cosent == '1') {
                    $('#essc-cosent').prop('checked', true)
                }
                if (data.ssc_premedikasi == '1') {
                    $('#essc-premedikasi-ada').prop('checked', true)
                }
                if (data.ssc_premedikasi == '0') {
                    $('#essc-premedikasi-tidak-ada').prop('checked', true)
                }
                $('#essc-premedikasi-obat').val(data.ssc_premedikasi_obat);
                $('#s2id_essc-premedikasi-obat a .select2c-chosen').html(data.premedikasi_obat);

                if (data.ssc_tanggal_obat !== null) {
                    let essc_tanggal_obat = formatTanggaljamKhusus(data.ssc_tanggal_obat);
                    $('#essc-tanggal-obat').val(essc_tanggal_obat);
                }

                if (data.ssc_antibiotik == '1') {
                    $('#essc-antibiotik-ya').prop('checked', true)
                }
                if (data.ssc_antibiotik == '0') {
                    $('#essc-antibiotik-tidak').prop('checked', true)
                }
                $('#essc-antibiotik-obat').val(data.ssc_antibiotik_obat);
                $('#s2id_essc-antibiotik-obat a .select2c-chosen').html(data.antibiotik_obat);
                $('#essc-antibiotik-dosis').val(data.ssc_antibiotik_dosis);
                $('#essc-jam-antibiotik-obat').val(data.ssc_jam_antibiotik_obat);
                if (data.ssc_foto == '1') {
                    $('#essc-foto-dipasang').prop('checked', true)
                }
                if (data.ssc_foto == '0') {
                    $('#essc-foto-tidak-dipasang').prop('checked', true)
                }
                if (data.ssc_implant == '1') {
                    $('#essc-implant-ya').prop('checked', true)
                }
                if (data.ssc_implant == '0') {
                    $('#essc-implant-tidak').prop('checked', true)
                }
                if (data.ssc_jenis == '1') {
                    $('#essc-jenis-ya').prop('checked', true)
                }
                if (data.ssc_jenis == '0') {
                    $('#essc-jenis-tidak').prop('checked', true)
                }
                $('#essc-jenis-ket').val(data.ssc_jenis_ket);

                if (data.ssc_tanggal_time_out !== null) {
                    let essc_tanggal_time_out = formatTanggaljamKhusus(data.ssc_tanggal_time_out);
                    $('#essc-tanggal-time-out').val(essc_tanggal_time_out);
                }

                if (data.ssc_paraf_dokter_anestesi_time_out == '1') {
                    $('#essc-paraf-dokter-anestesi-time-out').prop('checked', true)
                }
                $('#essc-dokter-anestesi-time-out').val(data.ssc_dokter_anestesi_time_out);
                $('#s2id_essc-dokter-anestesi-time-out a .select2c-chosen').html(data.dokter_anestesi_time_out);

                if (data.ssc_paraf_perawat_time_out == '1') {
                    $('#essc-paraf-perawat-time-out').prop('checked', true)
                }
                $('#essc-perawat-time-out').val(data.ssc_perawat_time_out);
                $('#s2id_essc-perawat-time-out a .select2c-chosen').html(data.perawat_time_out);

                //  sign out
                if (data.ssc_nama_tindakan_sign_out == '1') {
                    $('#essc-nama-tindakan-sign-out').prop('checked', true)
                }
                if (data.ssc_instrument_sign_out == '1') {
                    $('#essc-instrument-sign-out').prop('checked', true)
                }
                if (data.ssc_kassa_sign_out == '1') {
                    $('#essc-kassa-sign-out').prop('checked', true)
                }
                if (data.ssc_jarum_sign_out == '1') {
                    $('#essc-jarum-sign-out').prop('checked', true)
                }
                if (data.ssc_preparat == '1') {
                    $('#essc-preparat-ya').prop('checked', true)
                }
                if (data.ssc_preparat == '0') {
                    $('#essc-preparat-tidak').prop('checked', true)
                }
                if (data.ssc_preparat_pa == '1') {
                    $('#essc-preparat-pa').prop('checked', true)
                }
                if (data.ssc_preparat_kultur == '1') {
                    $('#essc-preparat-kultur').prop('checked', true)
                }
                if (data.ssc_preparat_sitologi == '1') {
                    $('#essc-preparat-sitologi').prop('checked', true)
                }
                if (data.ssc_formulir_permintaan == '1') {
                    $('#essc-formulir-permintaan-ya').prop('checked', true)
                }
                if (data.ssc_formulir_permintaan == '0') {
                    $('#essc-formulir-permintaan-tidak').prop('checked', true)
                }
                if (data.ssc_lengkap_pasien == '1') {
                    $('#essc-lengkap-pasien-ya').prop('checked', true)
                }
                if (data.ssc_lengkap_pasien == '0') {
                    $('#essc-lengkap-pasien-tidak').prop('checked', true)
                }
                if (data.ssc_penjelasan_keluarga == '1') {
                    $('#essc-penjelasan-keluarga-ya').prop('checked', true)
                }
                if (data.ssc_penjelasan_keluarga == '0') {
                    $('#essc-penjelasan-keluarga-tidak').prop('checked', true)
                }
                $('#essc-penjelasan-keluarga-ket').val(data.ssc_penjelasan_keluarga_ket);
                if (data.ssc_obat_operasi == '1') {
                    $('#essc-obat-operasi-ya').prop('checked', true)
                }
                if (data.ssc_obat_operasi == '0') {
                    $('#essc-obat-operasi-tidak').prop('checked', true)
                }
                $('#essc-obat-operasi-ya-alasan').val(data.ssc_obat_operasi_ya_alasan);
                $('#essc-obat-operasi-tidak-alasan').val(data.ssc_obat_operasi_tidak_alasan);
                $('#essc-kesadaran-sign-out').val(data.ssc_kesadaran_sign_out);
                $('#essc-tekanan-darah-sign-out').val(data.ssc_tekanan_darah_sign_out);
                $('#essc-nadi-sign-out').val(data.ssc_nadi_sign_out);
                $('#essc-pernafasan-sign-out').val(data.ssc_pernafasan_sign_out);
                $('#essc-saturasi-sign-out').val(data.ssc_saturasi_sign_out);
                $('#essc-suhu-sign-out').val(data.ssc_suhu_sign_out);
                $('#essc-skala-nyeri-sign-out').val(data.ssc_skala_nyeri_sign_out);
                if (data.ssc_rembesan == '1') {
                    $('#essc-rembesan-ya').prop('checked', true)
                }
                if (data.ssc_rembesan == '0') {
                    $('#essc-rembesan-tidak').prop('checked', true)
                }

                if (data.ssc_tanggal_sign_out !== null) {
                    let essc_tanggal_sign_out = formatTanggaljamKhusus(data.ssc_tanggal_sign_out);
                    $('#essc-tanggal-sign-out').val(essc_tanggal_sign_out);
                }

                if (data.ssc_paraf_dokter_anestesi_sign_out == '1') {
                    $('#essc-paraf-dokter-anestesi-sign-out').prop('checked', true)
                }
                $('#essc-dokter-anestesi-sign-out').val(data.ssc_dokter_anestesi_sign_out);
                $('#s2id_essc-dokter-anestesi-sign-out a .select2c-chosen').html(data.dokter_anestesi_sign_out);
                if (data.ssc_paraf_perawat_sign_out == '1') {
                    $('#essc-paraf-perawat-sign-out').prop('checked', true)
                }
                $('#essc-perawat-sign-out').val(data.ssc_perawat_sign_out);
                $('#s2id_essc-perawat-sign-out a .select2c-chosen').html(data.perawat_sign_out);

                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function updateSurgicalSafetyCeklis(id_pendaftaran, id_layanan_pendaftaran, bed) {

        // console.log by name:
        // console.log($("[name=ssc_antibiotik_obat").val());
        // console.log by id :
        // console.log($('#form-edit-surgical-safety-ceklis').serialize());


        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_surgical_safety_ceklis") ?>',
            data: $('#form-edit-surgical-safety-ceklis').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '13');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }
                $('#modal-edit-surgical-safety-ceklis').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function hapusSurgicalSafetyCeklis(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_surgical_safety_ceklis") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeListTable(obj);
                                } else {
                                    customAlert('Hapus Surgical Safety Ceklis', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function showPemantauanSholat(num) {

        let html = bukaLebar('Form Pemantauan Shalat Lima Waktu Selama di Rumah Sakit', num);

        html += /* html */ `
                            <table class="table table-no-border table-sm table-striped">
                                <tr>
                                    <td>
                                        Tanggal Pemantauan
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <input type="text" name="pslw_tanggal_pemantauan" id="pslw-pemantauan" class="custom-form clear-input d-inline-block col-lg-5 ml-2" placeholder="dd/mm/yyyy hh:ii">
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Subuh
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <input type="radio" name="pslw_subuh" id="pslw-subuh-ya" value="1" class="ml-2">Ya
                                        <input type="radio" name="pslw_subuh" id="pslw-subuh-tidak" value="0" class="ml-2">Tidak
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Dzuhur
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <input type="radio" name="pslw_dzuhur" id="pslw-dzuhur-ya" value="1" class="ml-2">Ya
                                        <input type="radio" name="pslw_dzuhur" id="pslw-dzuhur-tidak" value="0" class="ml-2">Tidak
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Ashar
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <input type="radio" name="pslw_ashar" id="pslw-ashar-ya" value="1" class="ml-2">Ya
                                        <input type="radio" name="pslw_ashar" id="pslw-ashar-tidak" value="0" class="ml-2">Tidak
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Maghrib
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <input type="radio" name="pslw_maghrib" id="pslw-maghrib-ya" value="1" class="ml-2">Ya
                                        <input type="radio" name="pslw_maghrib" id="pslw-maghrib-tidak" value="0" class="ml-2">Tidak
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Isya
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <input type="radio" name="pslw_isya" id="pslw-isya-ya" value="1" class="ml-2">Ya
                                        <input type="radio" name="pslw_isya" id="pslw-isya-tidak" value="0" class="ml-2">Tidak
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button type="button" title="Tambah Pemantauan" class="btn btn-info" onclick="tambahPemantauanSholat()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Pemantauan</button>
                                    </td>
                                </tr>
                            </table>
                            <hr>
                            
        `;

        html += tutupRapet();

        $('#pengkajian-sholat').append(html);


    }

    function tambahPemakaianAntibiotik() {

        if ($('input[type=radio][name=sirs_pemakaian_antibiotika]:checked').val() === undefined && $(
                '#sirs-nama-antibiotika').val() !== '') {

            syams_validation('#sirs-antibiotika-msg', 'Pilih Ada pada Pemakaian Antibiotika.');
            return false;

        }

        if ($('input[type=radio][name=sirs_pemakaian_antibiotika]:checked').val() === 'ada' && $('#sirs-tanggal-antibiotik')
            .val() === '') {
            syams_validation('#sirs-tanggal-antibiotik', 'Tanggal Pemberian Antibiotik harus diisi.');
            return false;
        }

        if ($('input[type=radio][name=sirs_pemakaian_antibiotika]:checked').val() === 'ada' && $('#sirs-nama-antibiotika')
            .val() === '') {
            syams_validation('#sirs-nama-antibiotika', 'Nama Antibiotik harus diisi.');
            syams_validation_remove('#sirs-tanggal-antibiotik');
            syams_validation_remove('#sirs-dosis-antibiotika');
            syams_validation_remove('#sirs-teknik-pemberian');
            return false;
        }

        if ($('input[type=radio][name=sirs_pemakaian_antibiotika]:checked').val() === 'ada' && $('#sirs-dosis-antibiotika')
            .val() === '') {
            syams_validation('#sirs-dosis-antibiotika', 'Dosis Antibiotik harus diisi.');
            syams_validation_remove('#sirs-tanggal-antibiotik');
            syams_validation_remove('#sirs-nama-antibiotika');
            syams_validation_remove('#sirs-teknik-pemberian');
            return false;
        }

        if ($('input[type=radio][name=sirs_pemakaian_antibiotika]:checked').val() === 'ada' && $(
                'input[type=radio][name=sirs_teknik_pemberian]:checked').val() === undefined) {
            syams_validation('#sirs-teknik-pemberian', 'Teknik Pemberian Antibiotik harus diisi.');
            syams_validation_remove('#sirs-tanggal-antibiotik');
            syams_validation_remove('#sirs-nama-antibiotika');
            syams_validation_remove('#sirs-dosis-antibiotika');
            return false;
        }

        if ($('input[type=radio][name=sirs_pemakaian_antibiotika]:checked').val() === 'tidak ada') {
            syams_validation('#sirs-antibiotika-msg', 'Pilih Ada pada Pemakaian Antibiotika.');
            return false;
        }

        syams_validation_remove('#sirs-tanggal-antibiotik');
        syams_validation_remove('#sirs-nama-antibiotika');
        syams_validation_remove('#sirs-dosis-antibiotika');
        syams_validation_remove('#sirs-teknik-pemberian');
        syams_validation_remove('#sirs-antibiotika-msg');

        let html = '';
        let number = $('.no-pakai-antibiotik').length;
        let tanggal_pemberian = $('#sirs-tanggal-antibiotik').val();
        let tanggal_selesai = $('#sirs-antibiotik-selesai').val();
        let antibiotika = $('#s2id_sirs-nama-antibiotika a .select2c-chosen').html();
        let id_antibiotika = $('#sirs-nama-antibiotika').val();
        let dosis = $('#sirs-dosis-antibiotika').val();
        let teknik_pemberian = $('input[type=radio][name=sirs_teknik_pemberian]:checked').val();
        let selAnti = '';
        let selAntiPetugas = '';

        if (teknik_pemberian !== undefined) {

            view_teknik_pemberian = teknik_pemberian;

        } else {

            view_teknik_pemberian = '-';

        }

        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        if (accountGroup === 'Admin') {

            selAnti =
                '<td width="1%" align="center"></td><td width="10%" align="center"><input type="hidden" name="sirs_nama_antibiotika[]" value="' +
                id_antibiotika + '">' + antibiotika + '</td>';
            selAntiPetugas =
                '<td width="5%"><input type="hidden" name="petugas_antibiotik[]" value="<?= $this->session->userdata("id_translucent") ?>"></td>';

        } else {

            selAnti =
                '<td width="10%"><input type="hidden" name="petugas_antibiotik[]" value="<?= $this->session->userdata("id_translucent") ?>"><input type="hidden" name="sirs_nama_antibiotika[]" value="' +
                id_antibiotika + '">' + antibiotika + '</td>';
            selAntiPetugas = '';

        }


        function tanggalAntibiotik(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0];
        }

        let kirim_tanggal_selesaiantibiotik = '';
        let kirim_tanggal_beriantibiotik = tanggalAntibiotik(tanggal_pemberian);

        if (tanggal_selesai !== '') {

            kirim_tanggal_selesaiantibiotik = tanggalAntibiotik(tanggal_selesai);

        } else {

            kirim_tanggal_selesaiantibiotik = '';

        }

        html = /* html */ `
            <tr>
                <td width="1%" class="no-pakai-antibiotik" align="center">${++number}</td>
                ${selAnti}
                <td width="1%" align="center"><input type="hidden" name="dosis_antibiotik[]" value="${dosis}">${dosis}</td>
                <td width="1%" align="center"><input type="hidden" name="sirs_tanggal_pemberian[]" value="${kirim_tanggal_beriantibiotik}">${tanggal_pemberian}</td>
                <td width="1%" align="center"><input type="hidden" name="sirs_antibiotik_tanggal_selesai[]" value="${kirim_tanggal_selesaiantibiotik}">${tanggal_selesai}</td>
                <td width="1%" align="center"><input type="hidden" name="sirs_teknik_pemberian_antibiotik[]" value="${teknik_pemberian}">${view_teknik_pemberian}</td>
                ${selAntiPetugas}
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#table-pemakaian-antibiotika tbody').append(html);


    }

    function tambahKajiUlang() {
        if ($('#pundpn-tanggal-pengkajian').val() === '') {
            syams_validation('#pundpn-tanggal-pengkajian', 'Tanggal Kajian harus diisi.');
            return false;
        }

        if ($('#pundpn-skor-nyeri').val() === '') {
            syams_validation('#pundpn-skor-nyeri', 'Skor Nyeri wajib diisi.');
            return false;
        }


        let html = '';
        let number = $('.number-kajian-ulang').length;
        let tanggal_kajian = $('#pundpn-tanggal-pengkajian').val();
        let skor_nyeri = $('#pundpn-skor-nyeri').val();
        let tindakan_petugas = $('#tindakan-petugas').val();


        function tanggalKajianAja(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            return el[0] + ' ' + el[1];
        }

        function tanggalKajian(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            var tm = el[1].split(':');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0] + ' ' + tm[0] + ':' + tm[1] + ':' + '00';
        }

        let kirim_tanggal_kajian = tanggalKajian(tanggal_kajian);
        let lihat_tanggal_kajian = tanggalKajianAja(tanggal_kajian);


        html = /* html */ `
            <tr>
                <td width="1%" class="number-kajian-ulang" align="center">${++number}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_kajian[]" value="${kirim_tanggal_kajian}">${lihat_tanggal_kajian}</td>
                <td width="1%" align="center"><input type="hidden" name="skor_nyeri[]" value="${skor_nyeri}">${skor_nyeri}</td>
                <td width="5%" align="center"><input type="hidden" name="tindakan_petugas[]" value="${tindakan_petugas}">${tindakan_petugas}</td>
                <td width="4%" align="center"><input type="hidden" name="petugas_kajian[]" value="<?= $this->session->userdata("id_translucent") ?>"><input type="hidden" name="tanggal_kajian_dibuat[]" value="<?= date("Y-m-d H:i:s") ?>"></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#tabel-pengkajian-pemantauan tbody').append(html);


    }

    function tambahPemasanganAlat() {
        if ($('#sirs-tindakan').val() === '') {
            syams_validation('#sirs-tindakan', 'Tindakan harus diisi.');
            return false;
        }

        if ($('#sirs-lokasi').val() === '') {
            syams_validation('#sirs-lokasi', 'Lokasi wajib diisi.');
            return false;
        }

        if ($('#sirs-tanggal-pasang').val() === '') {
            syams_validation('#sirs-tanggal-pasang', 'Tanggal Pasang wajib diisi.');
            return false;
        }

        if ($('#sirs-alasan-pasang').val() === '') {
            syams_validation('#sirs-alasan-pasang', 'Alasan Pasang wajib diisi.');
            return false;
        }

        if ($('#sirs-perawat-pasang').val() === '') {
            syams_validation('#sirs-perawat-pasang', 'Nama Pemasang Alat wajib diisi.');
            return false;
        }


        let html = '';
        let number = $('.number-pemasangan-alat').length;
        let sirs_tindakan = $('#s2id_sirs-tindakan a .select2c-chosen').html();
        let id_sirs_tindakan = $('#sirs-tindakan').val();
        let lokasi = $('#sirs-lokasi').val();
        let tanggal_pasang = $('#sirs-tanggal-pasang').val();
        let alasan_pasang = $('#sirs-alasan-pasang').val();
        let tanggal_lepas = $('#sirs-tanggal-lepas').val();
        let alasan_lepas = $('#sirs-alasan-lepas').val();
        let sirs_perawat_pasang = $('#s2id_sirs-perawat-pasang a .select2c-chosen').html();
        let id_sirs_perawat_pasang = $('#sirs-perawat-pasang').val();
        let sirs_perawat_lepas = $('#s2id_sirs-perawat-lepas a .select2c-chosen').html();
        let id_sirs_perawat_lepas = $('#sirs-perawat-lepas').val();


        let cekTanggalPasang = cekDateTime('#sirs-tanggal-pasang', tanggal_pasang);
        let cekTanggalLepas = cekDateTime('#sirs-tanggal-lepas', tanggal_lepas);

        if (cekTanggalPasang === false) {

            syams_validation('#sirs-tanggal-pasang', 'Format Tanggal tidak sesuai(dd/mm/yyyy)');
            return false;

        }

        if (cekTanggalLepas === false) {

            syams_validation('#sirs-tanggal-lepas', 'Format Tanggal tidak sesuai(dd/mm/yyyy)');
            return false;

        }

        syams_validation_remove('#sirs-tanggal-pasang');
        syams_validation_remove('#sirs-tanggal-lepas');


        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        let selOp = '';

        if (accountGroup === 'Admin') {

            selOp =
                '<td width="1%" align="center"></td><td width="5%"><input type="hidden" name="sirs_tindakan[]" value="' +
                id_sirs_tindakan + '">' + sirs_tindakan + '</td>';

        } else {

            selOp = '<td width="5%"><input type="hidden" name="sirs_tindakan[]" value="' + id_sirs_tindakan + '">' +
                sirs_tindakan + '</td>';
        }


        html = /* html */ `
            <tr>
                <td width="1%" class="number-pemasangan-alat" align="center">${++number}</td>
                ${selOp}
                <td width="1%" align="center"><input type="hidden" name="sirs_tanggal_pasang[]" value="${tanggal_pasang}">${tanggal_pasang}</td>
                <td width="1%" align="center"><input type="hidden" name="sirs_lokasi[]" value="${lokasi}">${lokasi}</td>
                <td width="4%" align="center"><input type="hidden" name="sirs_alasan_pasang[]" value="${alasan_pasang}">${alasan_pasang}</td>
                <td width="2%" align="center"><input type="hidden" name="sirs_perawat_pasang[]" value="${id_sirs_perawat_pasang}">${sirs_perawat_pasang}</td>
                <td width="1%" align="center"><input type="hidden" name="sirs_tanggal_lepas[]" value="${tanggal_lepas}">${tanggal_lepas}</td>
                <td width="4%" align="center"><input type="hidden" name="sirs_alasan_lepas[]" value="${alasan_lepas}">${alasan_lepas}</td>
                <td width="2%" align="center"><input type="hidden" name="sirs_perawat_lepas[]" value="${id_sirs_perawat_lepas}">${sirs_perawat_lepas}</td>
                <td width="4%" align="center"><input type="hidden" name="sirs_pemasang_alat[]" value="<?= $this->session->userdata("id_translucent") ?>"></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#table-pemasangan-alat tbody').append(html);


    }

    function tambahPemantauanSholat() {
        if ($('#pslw-pemantauan').val() === '') {
            syams_validation('#pslw-pemantauan', 'Tanggal Pemantauan harus diisi.');
            return false;
        }



        let html = '';
        let number = $('.nomer-pemantauan-sholat').length;
        let tanggal_pemantauan = $('#pslw-pemantauan').val();

        let sholat_subuh = '';
        let sholat_dzuhur = '';
        let sholat_ashar = '';
        let sholat_maghrib = '';
        let sholat_isya = '';

        $("input[name='pslw_subuh']:checked").each(function() {
            if ($(this).val() == '1') {
                sholat_subuh =
                    '<td width="1%" align="center"><input type="hidden" name="sholat_subuh[]" value="1">Ya</td><td width="1%" align="center">-</td>';
            } else if ($(this).val() == '0') {
                sholat_subuh =
                    '<td width="1%" align="center">-</td><td width="1%" align="center"><input type="hidden" name="sholat_subuh[]" value="0">Tidak</td>';
            }
        });

        if ($("input[name='pslw_subuh']:checked").val() == undefined) {

            sholat_subuh =
                '<td width="1%" align="center"><input type="hidden" name="sholat_subuh[]" value="2">-</td><td width="1%" align="center">-</td>';

        }

        $("input[name='pslw_dzuhur']:checked").each(function() {

            if ($(this).val() == '1') {
                sholat_dzuhur =
                    '<td width="1%" align="center"><input type="hidden" name="sholat_dzuhur[]" value="1">Ya</td><td width="1%" align="center">-</td>';
            } else if ($(this).val() == '0') {
                sholat_dzuhur =
                    '<td width="1%" align="center">-</td><td width="1%" align="center"><input type="hidden" name="sholat_dzuhur[]" value="0">Tidak</td>';
            }
        });

        if ($("input[name='pslw_dzuhur']:checked").val() == undefined) {

            sholat_dzuhur =
                '<td width="1%" align="center"><input type="hidden" name="sholat_dzuhur[]" value="2">-</td><td width="1%" align="center">-</td>';

        }

        $("input[name='pslw_ashar']:checked").each(function() {
            if ($(this).val() == '1') {
                sholat_ashar =
                    '<td width="1%" align="center"><input type="hidden" name="sholat_ashar[]" value="1">Ya</td><td width="1%" align="center">-</td>';
            } else if ($(this).val() == '0') {
                sholat_ashar =
                    '<td width="1%" align="center">-</td><td width="1%" align="center"><input type="hidden" name="sholat_ashar[]" value="0">Tidak</td>';
            }
        });

        if ($("input[name='pslw_ashar']:checked").val() == undefined) {

            sholat_ashar =
                '<td width="1%" align="center"><input type="hidden" name="sholat_ashar[]" value="2">-</td><td width="1%" align="center">-</td>';

        }

        $("input[name='pslw_maghrib']:checked").each(function() {
            if ($(this).val() == '1') {
                sholat_maghrib =
                    '<td width="1%" align="center"><input type="hidden" name="sholat_maghrib[]" value="1">Ya</td><td width="1%" align="center">-</td>';
            } else if ($(this).val() == '0') {
                sholat_maghrib =
                    '<td width="1%" align="center">-</td><td width="1%" align="center"><input type="hidden" name="sholat_maghrib[]" value="0">Tidak</td>';
            }
        });

        if ($("input[name='pslw_maghrib']:checked").val() == undefined) {

            sholat_maghrib =
                '<td width="1%" align="center"><input type="hidden" name="sholat_maghrib[]" value="2">-</td><td width="1%" align="center">-</td>';

        }

        $("input[name='pslw_isya']:checked").each(function() {
            if ($(this).val() == '1') {
                sholat_isya =
                    '<td width="1%" align="center"><input type="hidden" name="sholat_isya[]" value="1">Ya</td><td width="1%" align="center">-</td>';
            } else if ($(this).val() == '0') {
                sholat_isya =
                    '<td width="1%" align="center">-</td><td width="1%" align="center"><input type="hidden" name="sholat_isya[]" value="0">Tidak</td>';
            }
        });

        if ($("input[name='pslw_isya']:checked").val() == undefined) {

            sholat_isya =
                '<td width="1%" align="center"><input type="hidden" name="sholat_isya[]" value="2">-</td><td width="1%" align="center">-</td>';

        }



        function tanggalKajianAja(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            return el[0] + ' ' + el[1];
        }

        function tanggalKajian(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            var tm = el[1].split(':');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0] + ' ' + tm[0] + ':' + tm[1] + ':' + '00';
        }

        let kirim_tanggal_pemantauan = tanggalKajian(tanggal_pemantauan);
        let lihat_tanggal_pemantauan = tanggalKajianAja(tanggal_pemantauan);

        html = /* html */ `
            <tr>
                <td width="1%" class="number-kajian-ulang" align="center">${++number}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_pemantauan[]" value="${kirim_tanggal_pemantauan}">${lihat_tanggal_pemantauan}</td>
                ${sholat_subuh}
                ${sholat_dzuhur}
                ${sholat_ashar}
                ${sholat_maghrib}
                ${sholat_isya}
                <td width="4%" align="center"><input type="hidden" name="petugas_pemantau[]" value="<?= $this->session->userdata("id_translucent") ?>"><input type="hidden" name="tanggal_pantauan_dibuat[]" value="<?= date("Y-m-d H:i:s") ?>"><input type="hidden" name="user_pantau[]" value="<?= $this->session->userdata("nama") ?>"></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#tabel-pemantauan-sholat tbody').append(html);


    }

    function showPengkajianUlang(num) {

        let html = bukaLebar('Form Pengkajian Ulang', num);

        html += /* html */ `
                            <table class="table table-no-border table-sm table-striped">
                                <tr>
                                    <td>
                                        Tanggal Pengkajian
                                    </td>
                                    <td>
                                        :
                                    </td>
                                    <td>
                                        <input type="text" name="purjd_tanggal_pengkajian" id="purjpd-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-lg-5 ml-2" placeholder="dd/mm/yyyy">
                                    </td>
                                </tr>
                            </table>
                            <hr>
                            <table class="table table-sm table-striped table-bordered" style="margin-top: -15px">
                                <thead>
                                    <tr>
                                        <th width="60%" class="center"><b>Parameter</b></th>
                                        <th width="20%" class="center"><b>Nilai</b></th>
                                        <th width="20%" class="center"><b>Skor</b></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td rowspan="2"><input type="hidden" id="purjpd-riwayat-jatuh">Riwayat jatuh dalam waktu 3 bulan sebab apapun</td>
                                        <td><input type="radio" name="purjpd_riwayat_jatuh" id="purjpd-riwayat-jatuh-ya" value="25" class="mr-1" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">25</td>
                                    </tr>
                                    <tr>
                                        <td><input type="radio" name="purjpd_riwayat_jatuh" id="purjpd-riwayat-jatuh-tidak" value="0" class="mr-1" onchange="calcscorepurjpd()" checked>Tidak</td>
                                        <td class="center">0</td>
                                    </tr>
                                    <tr>
                                        <td rowspan="2"><input type="hidden" id="purjpd-diagnosis-sekunder">Diagnosis Sekunder ( Diagnosis Medis)</td>
                                        <td><input type="radio" name="purjpd_diagnosis_sekunder" id="purjpd-diagnosis-sekunder-ya" value="15" class="mr-1" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">15</td>
                                    </tr>
                                    <tr>
                                        <td><input type="radio" name="purjpd_diagnosis_sekunder" id="purjpd-diagnosis-sekunder-tidak" value="0" class="mr-1" onchange="calcscorepurjpd()" checked>Tidak</td>
                                        <td class="center">0</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3"><input type="hidden" id="purjpd-alat-bantu-jalan">Alat Bantu Jalan</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" name="purjpd_alat_bantu_jalan_1" id="purjpd-alat-bantu-jalan-1" value="1" class="mr-1">Tidak Ada / Kursi Roda</td>
                                        <td><input type="radio" name="purjpd_alat_bantu_jalan_1_ya" id="purjpd-alat-bantu-jalan-1-ya" value="0" class="mr-1 disabled" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">0</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" name="purjpd_alat_bantu_jalan_2" id="purjpd-alat-bantu-jalan-2" value="1" class="mr-1">Kruk / Tongkat / Walker</td>
                                        <td><input type="radio" name="purjpd_alat_bantu_jalan_2_ya" id="purjpd-alat-bantu-jalan-2-ya" value="15" class="mr-1 disabled" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">15</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" name="purjpd_alat_bantu_jalan_3" id="purjpd-alat-bantu-jalan-3" value="1" class="mr-1">Berpegangan pada benda-benda disekitar / Furniture</td>
                                        <td><input type="radio" name="purjpd_alat_bantu_jalan_3_ya" id="purjpd-alat-bantu-jalan-3-ya" value="30" class="mr-1 disabled" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">30</td>
                                    </tr>
                                    <tr>
                                        <td rowspan="2"><input type="hidden" id="purjpd-terpasang-infus">Terpasang Infus / Heparin Lock</td>
                                        <td><input type="radio" name="purjpd_terpasang_infus" id="purjpd-terpasang-infus-ya" value="20" class="mr-1" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">20</td>
                                    </tr>
                                    <tr>
                                        <td><input type="radio" name="purjpd_terpasang_infus" id="purjpd-terpasang-infus-tidak" value="0" class="mr-1" onchange="calcscorepurjpd()" checked>Tidak</td>
                                        <td class="center">0</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3"><input type="hidden" id="purjpd-cara-berpindah">Cara Berjalan atau Berpindah</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" name="purjpd_cara_berjalan" id="purjpd-cara-berjalan" value="1" class="mr-1">Normal / Bedrest / Imobilisasi</td>
                                        <td><input type="radio" name="purjpd_cara_berjalan_ya" id="purjpd-cara-berjalan-ya" value="0" class="mr-1 disabled" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">0</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" name="purjpd_cara_berjalan_2" id="purjpd-cara-berjalan-2" value="1" class="mr-1">Lemah</td>
                                        <td><input type="radio" name="purjpd_cara_berjalan_2_ya" id="purjpd-cara-berjalan-2-ya" value="10" class="mr-1 disabled" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">10</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" name="purjpd_cara_berjalan_3" id="purjpd-cara-berjalan-3" value="1" class="mr-1">Terganggu</td>
                                        <td><input type="radio" name="purjpd_cara_berjalan_3_ya" id="purjpd-cara-berjalan-3-ya" value="20" class="mr-1 disabled" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">20</td>
                                    </tr>
                                    <tr>
                                        <td colspan="3"><input type="hidden" id="purjpd-status-mental">Status Mental</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" name="purjpd_status_mental_1" id="purjpd-status-mental-1" value="1" class="mr-1">Sadar Akan Kemampuan Diri Sendiri</td>
                                        <td><input type="radio" name="purjpd_status_mental_1_ya" id="purjpd-status-mental-1-ya" value="0" class="mr-1 disabled" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">0</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" name="purjpd_status_mental_2" id="purjpd-status-mental-2" value="1" class="mr-1">Sering Lupa akan Keterbatasan Yang dimiliki</td>
                                        <td><input type="radio" name="purjpd_status_mental_2_ya" id="purjpd-status-mental-2-ya" value="15" class="mr-1 disabled" onchange="calcscorepurjpd()">Ya</td>
                                        <td class="center">15</td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="bold">JUMLAH SKOR</td>
                                        <td class="center"><input type="number" min="0" name="purjpd_jumlah_skor" id="purjpd-jumlah-skor" class="custom-form clear-input center" placeholder="Jumlah" value="0" readonly></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <button type="button" title="Tambah Pengkajian" class="btn btn-info" onclick="tambahPengkajian()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Pengkajian</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
        `;

        html += tutupRapet();

        $('#buka-tutup-pengkajian').append(html);
    }

    function resetFormEntriKeperawatan() {
        $('#form_entri_keperawatan')[0].reset();

        $('#perawat_medis, #verifikasi_dokter, #perawat-terapi, #surveilans-perawat, #surveilans-ipcn').select2c('readonly',
            false);
        $('#sirs-diagnosis-masuk, #ek_nama_dokter, #sirs-ruang-rawat, #sirs-tindakan, #sirs-perawat-pasang, #sirs-perawat-lepas')
            .val('');
        $('#ek_jam_pemberian').val('');
        $('#ek_jam_pemberian_satu').val('');
        $('#ek_jam_pemberian_dua').val('');
        $('#ek_jam_pemberian_tiga').val('');
        $('#ek_jam_pemberian_empat').val('');
        $('#ek_jam_pemberian_lima').val('');
        $('#ek-keterangan-catatan').val('');
        $('#ek-jam-pagi').val('');
        $('#ek-jam-sore').val('');
        $('#ek-jam-malam').val('');

        $('#ek_ttd_perawat, #surveilans-ttd-petugas').show();
        $('#plsp-ttd-petugas').show();
        $('#ek_ttd_verifikasi_dokter_dpjp').show();
        $('#ek_ttd_perawat_verified, #surveilans_ttd_petugas_verified, #surveilans_ttd_ipcnlink_verified').hide();
        $('#plsp_ttd_petugas_verified').hide();
        $('#ek_ttd_verifikasi_dokter_dpjp_verified').hide();

        $('#ek_ttd_pasien').show();
        $('#ek_ttd_pasien_verified').hide();
        $('#ek-hamdalah-malam, #ek-paraf-malam, #ek-cek-malam, #ek-bismillah-malam, #ek-hamdalah-sore, #ek-paraf-sore, #ek-cek-sore, #ek-bismillah-sore, #ek-hamdalah-pagi, #ek-paraf-pagi, #ek-cek-pagi, #ek-bismillah-pagi, #ek-waktu-pagi, #ek-waktu-siang, #ek-waktu-malam, #ek-waktu-pagi-dua, #ek-waktu-siang-dua, #ek-waktu-malam-dua, #ek-waktu-pagi-tiga, #ek-waktu-siang-tiga, #ek-waktu-malam-tiga, #ek-tambahan-status, #ek-tambahan-status-dua, #ek-tambahan-status-tiga, #hbsag-positif, #hbsag-negatif, #hbsag-periksa, #antihcv-positif, #antihcv-negatif, #antihcv-periksa, #antihiv-positif, #antihiv-negatif, #antihiv-periksa, #t-op-ortopedi, #t-op-digestive, #t-op-plastik, #t-op-tumor, #t-op-urologi, #t-op-tht, #t-op-anak, #t-op-gilut, #t-op-vaskuler, #t-op-saraf, #t-op-mata, #t-op-thorax, #t-op-obgyn, #t-op-lain, #sirs-drain-ya, #sirs-drain-tidak, #sirs-jenis-operasi-bersih, #sirs-jenis-operasi-bersihcemar, #sirs-jenis-operasi-cemar, #sirs-jenis-operasi-kotor, #sirs-tindakan-operasi-cito, #sirs-tindakan-operasi-elektif, #sirs-antibiotik, #sirs-waktu-preoperasi, #sirs-waktu-selama, #sirs-waktu-sesudah, #sirs-drain-satu-ya, #sirs-drain-satu-tidak, #sirs-jenis-operasi-bersih-satu, #sirs-jenis-operasi-bersihcemar-satu, #sirs-jenis-operasi-cemar-satu, #sirs-jenis-operasi-kotor-satu, #sirs-tindakan-operasi-cito-satu, #sirs-tindakan-operasi-elektif-satu, #sirs-antibiotik-satu')
            .prop('checked', false);

        $('#s2id_ek-masalah-keperawatan a .select2c-chosen').empty();
        $('#s2id_ek-tindakan-keperawatan a .select2c-chosen').empty();
        $('#s2id_ek-rencana-tindakan a .select2c-chosen').empty();
        $('#s2id_ek-catatan-tindakan a .select2c-chosen').empty();
        $('#s2id_ek-perawat-tindakan-pagi a .select2c-chosen').empty();
        $('#s2id_sirs-ruang-rawat a .select2c-chosen, #s2id_sirs-tindakan a .select2c-chosen, #s2id_sirs-perawat-pasang a .select2c-chosen, #s2id_sirs-perawat-lepas a .select2c-chosen')
            .empty();
        $('#ek-perawat-tindakan-malam, #ek-perawat-tindakan-sore, #ek-perawat-tindakan-pagi, #ek-catatan-tindakan, #ek-tanggal-catatan-tindakan, #ek-tindakan-keperawatan, #ek-masalah-keperawatan, #ek-tanggal-mulai, #ek-tanggal-selesai, #verifikasi_penerima, #ek_tanggal_ttd_perawat, #ek_tanggal_verifikasi_dokter, #ek_tanggal_verifikasi_penerima, #pundpn-tanggal-pengkajian, #plsp-tanggal-ttd-petugas, #ek-keterangan-tambahan, #ek-rencana-tindakan, #ek-tanggal-tindakan-satu, #ek-tanggal-tindakan-dua, #ek-tanggal-tindakan-tiga, #surveilans-tanggal-ttd-perawat, #surveilans-tanggal-ttd-ipcn, #sirs-tanggal-mulai, #sirs-tanggal-selesai, #sirs-tanggal-pasang, #sirs-alasan-pasang, #sirs-lokasi, #sirs-tanggal-lepas, #sirs-alasan-lepas, #sm-top-lain, #sirs-tanggal-diagnosis, #sirs-antibiotik-profilaksis, #sirs-tanggal-diagnosis-satu, #sirs-antibiotik-profilaksis-satu')
            .val('');

        $('#surveilans-tanggal-ttd-perawat, #surveilans-tanggal-ttd-ipcn, #verifikasi_penerima, #ek_tanggal_ttd_perawat, #ek_tanggal_verifikasi_dokter, #ek_tanggal_verifikasi_penerima, #plsp-tanggal-ttd-petugas')
            .attr('disabled', false);

        $('#ek-cek-tindakan-manual').prop('checked', false);
        $('#ek-catatan-tindakan-manual').val('');
        $('#catatan-tindakan').removeAttr('hidden');
        if ($('#ek-cek-tindakan-manual').prop('checked')) {
            $('#tindakan-manual').removeAttr('hidden');
            $('#catatan-tindakan').attr('hidden', true);
        } else {
            $('#catatan-tindakan').removeAttr('hidden');
            $('#tindakan-manual').attr('hidden', true);
        }

        // Pengkajian Ulang Resiko Jatuh Pasien Anak
        $('#s2id_purjpa-perawat a .select2c-chosen').empty();
        $('#purjpa-tanggal-pengkajian').val('');
        $('#purjpa-jumlah-skor').val('');
        $('#purjpa-perawat').val('');

        // For non-blocking code (Asyncronous)
        setTimeout(() => {
            $('#form-purjpa').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)

        // Pengkajian Ulang Resiko Jatuh Pasien lansia
        $('#s2id_purjpl-perawat a .select2c-chosen').empty();
        $('#purjpl-tanggal-pengkajian').val('');
        $('#purjpl-jumlah-skor').val('');
        $('#purjpl-perawat').val('');

        // For non-blocking code (Asyncronous)
        setTimeout(() => {
            $('#purjpl-riwayat-jatuh, #purjpl-pasien-datang-karena-jatuh, #purjpl-jatuh-2-bulan-terakhir, #purjpl-mental, #purjpl-pasien-delirium, #purjpl-pasien-disorientasi, #purjpl-pasien-agitasi, #purjpl-penglihatan, #purjpl-pasien-kacamata, #purjpl-pasien-buram, #purjpl-pasien-glaukoma, #purjpl-berkemih, #purjpl-pasien-berkemih, #purjpl-transfer, #purjpl-mandiri, #purjpl-sedikit-bantuan, #purjpl-bantuan-nyata, #purjpl-bantuan-total, #purjpl-mobilitas, #purjpl-m-mandiri, #purjpl-m-sedikit-bantuan, #purjpl-kursi-roda, #purjpl-imobilisasi')
                .val('');
            $('#form-purjpl').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)

        // Upaya Pencegahan Resiko Jatuh Pasien lansia
        $('#s2id_uprjpl-perawat-p a .select2c-chosen').empty();
        $('#s2id_uprjpl-perawat-s a .select2c-chosen').empty();
        $('#s2id_uprjpl-perawat-m a .select2c-chosen').empty();
        $('#uprjpl-tanggal-pengkajian').val('');
        $('#uprjpl-perawat-p').val('');
        $('#uprjpl-perawat-s').val('');
        $('#uprjpl-perawat-m').val('');

        // For non-blocking code (Asyncronous)
        setTimeout(() => {
            $('#form-uprjpl').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)


        // UPRJPN
        // Upaya Pencegahan Resiko Jatuh Pada Neonatus
        $('#s2id_perawat-1 a .select2c-chosen').empty();
        $('#s2id_perawat-2 a .select2c-chosen').empty();
        $('#s2id_perawat-3 a .select2c-chosen').empty();
        $('#uprjpn-tanggal-pengkajian').val('');
        $('#perawat-1').val('');
        $('#perawat-2').val('');
        $('#perawat-3').val('');

        // For non-blocking code (Asyncronous) UPRJPN
        setTimeout(() => {
            $('#form-uprjpn').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)




        // CPDPO
        $('#s2id_nama-obat-rpo a .select2c-chosen').empty();
        $('#s2id_dokter-1-rpo a .select2c-chosen').empty();
        $('#s2id_dokter-2-rpo a .select2c-chosen').empty();
        $('#tanggal-rpo').val('');
        $('#tangggal-rpo').val('');        
        $('#nama-obat-rpo').val('');
        $('#dokter-1-rpo').val('');
        $('#dokter-2-rpo').val('');
        $('#alergii-1, #alergii-2')
            .prop('checked', false);
        // For non-blocking code (Asyncronous) 
        setTimeout(() => {
            $('#rute-rpo, #dosis-rpo, #frekuensi-rpo, #eso-rpo, #r-farmasi-rpo, #alergii-3')
                .val('');
            $('#form-rpo').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)
        // Catatan Pemberian Dan Pemantauan Obat 

        // ILLIS
        $('#s2id_nama-obat-rpoo a .select2c-chosen').empty();
        $('#s2id_dokter-1-rpoo a .select2c-chosen').empty();
        $('#s2id_dokter-2-rpoo a .select2c-chosen').empty();
        $('#tanggal-rpoo').val('');
        $('#tangggal-rpoo').val('');        
        $('#nama-obat-rpoo').val('');
        $('#dokter-1-rpoo').val('');
        $('#dokter-2-rpoo').val('');
        $('#alergiii-1, #alergiii-2')
            .prop('checked', false);
        // For non-blocking code (Asyncronous) 
        setTimeout(() => {
            $('#rute-rpoo, #dosis-rpoo, #frekuensi-rpoo, #eso-rpoo, #r-farmasi-rpoo, #alergiii-3')
                .val('');
            $('#form-rpo-infus').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)

        // WPT 
        $('#s2id_perawat-1-wpt a .select2c-chosen').empty();
        $('#tanggal-wpt').val('');      
        $('#perawat-1-wpt').val('');
        setTimeout(() => {
            $('#hari-wpt, #jam-wpt, #pasien-keluarga-wpt')
                .val('');
            $('#form-wpt').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)

     
        // IWPT
        $('#s2id_perawat-2-wptt a .select2c-chosen').empty();
        $('#tanggal-wptt').val('');        
        $('#perawat-2-wptt').val('');
        setTimeout(() => {
            $('#hari-wptt, #jam-wptt, #pasien-keluarga-wptt')
                .val('');
            $('#form-wpt-infus').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)


        // MP-A
        // $('#tabel-mg .body-table').empty();
        // $('#tanggal-mp, #bb-mp, #tb-mp').val('');
        // setTimeout(() => {
        //     $('#form-monitoring-pasien').find('input').each(function() {
        //         if ($(this).is(':checked')) {
        //             $(this).prop('checked', false);
        //         }
        //     })
        // }, 100)


        // MPP-C
        // $('#s2id_perawat-mpp a .select2c-chosen').empty();
        // $('#s2id_perawat-mpp-edit a .select2c-chosen').empty();
        // $('#tgl-mpp').val('');
        // $('#tgl-mpp-edit').val('');

        // setTimeout(() => {
        //     $('#oral-mpp, #ngt-mpp, #paranteral-mpp, #paranteral-mppp, #produk-mpp, #input-mpp, #urin-mpp, #bab-mpp, #gastrik-mpp, #wsd-mpp, #iwl-mpp, #output-mpp,#tdarah-mpp, #saturasi-mppp, #toksigen-mpp, #skesadaran-mpp, #kategori-mpp, #pengawasan-mpp, #diit-mpp, #jam-mpp, #blance-cairan-mpp')
        //         .val('');
        //     $('#form-mpp').find('input').each(function() {
        //         if ($(this).is(':checked')) {
        //             $(this).prop('checked', false);
        //         }
        //     })
        // }, 100)
        // MONITORING PASIEN 
   


        // PKN SLET
        // Pengawasan Khusus Neonatus
        $('#s2id_obat-pkn a .select2c-chosen').empty();
        $('#s2id_obat-pkn-edit a .select2c-chosen').empty();
        $('#s2id_perawat-pkn a .select2c-chosen').empty();
        $('#s2id_perawat-pkn-edit a .select2c-chosen').empty();
        $('#tgl-pkn').val('');
        $('#tgl-pkn-edit').val('');

        setTimeout(() => {
            $('#bb-pkn, #lp-pkn, #tgl-pkn, #jam-pkn, #kesadaran-pkn, #pasien-pkn, #inkubator-pkn, #nadi-pkn, #rr-pkn, #modus-pkn, #peep-pkn, #buble-pkn,#fio2-pkn, #spo2-pkn, #flow-pkn, #air-pkn, #suhu-pkn, #line1-pkn, #line2-pkn, #plebitis-pkn, #oral-pkn, #jml-pkn, #muntah-pkn, #residu-pkn, #bak-pkn, #bab-pkn, #foto-therapy-pkn')
                .val('');
            $('#form-pkn').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)
        // Pengawasan Khusus Neonatus



        // Upaya Pencegahan Resiko Jatuh Pasien anak
        $('#s2id_uprjpd-perawat-p a .select2c-chosen').empty();
        $('#s2id_uprjpd-perawat-s a .select2c-chosen').empty();
        $('#s2id_uprjpd-perawat-m a .select2c-chosen').empty();
        $('#uprjpd-tanggal-pengkajian').val('');
        $('#uprjpd-perawat-p').val('');
        $('#uprjpd-perawat-s').val('');
        $('#uprjpd-perawat-m').val('');

        // For non-blocking code (Asyncronous)
        setTimeout(() => {
            $('#form-uprjpd').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)

        // Upaya Pencegahan Resiko Jatuh Pasien anak
        $('#s2id_uprjpa-perawat-p a .select2c-chosen').empty();
        $('#s2id_uprjpa-perawat-s a .select2c-chosen').empty();
        $('#s2id_uprjpa-perawat-m a .select2c-chosen').empty();
        $('#uprjpa-tanggal-pengkajian').val('');
        $('#uprjpa-perawat-p').val('');
        $('#uprjpa-perawat-s').val('');
        $('#uprjpa-perawat-m').val('');

        // For non-blocking code (Asyncronous)
        setTimeout(() => {
            $('#form-uprjpa').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
            })
        }, 100)

        // surgical ceklis reset form
        $('#ssc-dokter-operator,#ssc-dokter-anestesi,#ssc-premedikasi-obat,#ssc-antibiotik-obat,#ssc-perawat-sign-in,#ssc-perawat-time-out,#ssc-perawat-sign-out,#ssc-dokter-anestesi-sign-in,#ssc-dokter-anestesi-time-out,#ssc-dokter-anestesi-sign-out')
            .val('');

        $('#s2id_ssc-dokter-operator a .select2c-chosen,#s2id_ssc-dokter-anestesi a .select2c-chosen,#s2id_ssc-premedikasi-obat a .select2c-chosen,#s2id_ssc-antibiotik-obat a .select2c-chosen,#s2id_ssc-perawat-sign-in a .select2c-chosen,#s2id_ssc-perawat-time-out a .select2c-chosen,#s2id_ssc-perawat-sign-out a .select2c-chosen,#s2id_ssc-dokter-anestesi-sign-in a .select2c-chosen,#s2id_ssc-dokter-anestesi-time-out a .select2c-chosen,#s2id_ssc-dokter-anestesi-sign-out a .select2c-chosen')
            .empty();

        $('#ssc-alasan,#ssc-nama-tindakan,#ssc-tekanan-darah,#ssc-nadi,#ssc-pernafasan,#ssc-tanggal-obat,#ssc-penjelasan-keluarga-ket,#ssc-saturasi,#ssc-suhu,#ssc-obat-operasi-ya-alasan,#ssc-obat-operasi-tidak-alasan,#ssc-alergi-ket,#ssc-antibiotik-dosis,#ssc-kesadaran-sign-out,#ssc-jam-antibiotik-obat,#ssc-tekanan-darah-sign-out,#ssc-nadi-sign-out,#ssc-pernafasan-sign-out,#ssc-saturasi-sign-out,#ssc-suhu-sign-out,#ssc-skala-nyeri-sign-out,#ssc-jenis,#ssc-tanggal-sign-in,#ssc-tanggal-time-out,#ssc-tanggal-sign-out')
            .val('');

        // For non-blocking code (Asyncronous)
        setTimeout(() => {
            $('#form-ssc').find('input').each(function() {
                if ($(this).is(':checked')) {
                    $(this).prop('checked', false);
                }
                if ($(this).is(':disabled')) {
                    $(this).prop('disabled', false);
                }
            })
        }, 100)
    }

    function showTerapiPulang(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#table-terapi tbody').empty();
        let idRkLayanan = $('#rk-id-layanan-pendaftaran').val();
        let idEkLayanan = $('#ek_id_layanan_pendaftaran').val();

        if (data !== null) {
            $.each(data, function(i, v) {
                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        <td width="15%">${v.barang_auto}</td>
                        <td width="1%">${v.jumlah_obat}</td>
                        <td width="2%">${v.dosis}</td>
                        <td width="2%">${v.frekuensi}</td>
                        <td width="2%">${v.cara_pemberian}</td>
                        <td width="1%">${((v.ek_jam_pemberian !== null) ? timerzmysql(v.ek_jam_pemberian) : '')}</td>
                        <td width="1%">${((v.ek_jam_pemberian_satu !== null) ? timerzmysql(v.ek_jam_pemberian_satu) : '')}</td>
                        <td width="1%">${((v.ek_jam_pemberian_dua !== null) ? timerzmysql(v.ek_jam_pemberian_dua) : '')}</td>
                        <td width="1%">${((v.ek_jam_pemberian_tiga !== null) ? timerzmysql(v.ek_jam_pemberian_tiga) : '')}</td>
                        <td width="1%">${((v.ek_jam_pemberian_empat !== null) ? timerzmysql(v.ek_jam_pemberian_empat) : '')}</td>
                        <td width="1%">${((v.ek_jam_pemberian_lima !== null) ? timerzmysql(v.ek_jam_pemberian_lima) : '')}</td>
                        <td width="5%">${v.petunjuk_khusus}</td>
                        <td width="8%">${v.akun_user}</td>
                    </tr>
                `;
                $('#table-terapi tbody').append(html);
            })
        }
    }

    function hapusCatatanTindakan(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_catatan_tindakan_keperawatan") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Catatan Tindakan Keperawatan', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusTerapiPulang(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_terapi_pulang") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Terapi Pulang', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function editCatatanTindakan(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed, action) {

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_catatan_tindakan_keperawatan") ?>/id/' + id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data !== null) {

                    $('#update-catatan-tdkn').empty();
                    $('#id-catatan-tindakan').val(id);

                    $('#ek-edit-catatan-tindakan').select2c({
                        ajax: {
                            url: "<?= base_url('pelayanan/api/pelayanan/catatan_tindakan_keperawatan') ?>",
                            dataType: 'json',
                            quietMillis: 100,
                            data: function(term,
                                page) { // page is the one-based page number tracked by Select2
                                return {
                                    q: term, //search term
                                    page: page, // page number

                                };
                            },
                            results: function(data, page) {
                                var more = (page * 20) < data
                                    .total; // whether or not there are more results available

                                // notice we return the value of more so Select2 knows if more results can be loaded
                                return {
                                    results: data.data,
                                    more: more
                                };
                            }
                        },
                        formatResult: function(data) {
                            var markup = data.nama;
                            return markup;
                        },
                        formatSelection: function(data) {
                            return data.nama;
                        }
                    });

                    let cttntndkn = '';
                    cttntndkn =
                        `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-catatan-tindakan').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                                <button type="button" class="btn btn-info waves-effect" onclick="updateCatatanTindakanKeperawatan(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}', '${action}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                    $('#update-catatan-tdkn').append(cttntndkn);

                    $('#edit-catatan-tindakan').attr('hidden', false);
                    $('#edit-tindakan-manual').attr('hidden', false);

                    if (data.ek_catatan_tindakan_keperawatan === null) {
                        $('#edit-catatan-tindakan').attr('hidden', true);
                        $('#s2id_ek-edit-catatan-tindakan a .select2c-chosen').html();
                        $('#ek-edit-catatan-tindakan').val('');
                        $('#ek-edit-cek-tindakan-manual').prop('checked', true);
                        $('#ek-edit-catatan-tindakan-manual').val(data.ek_catatan_tindakan_keperawatan_manual);
                    } else {
                        $('#edit-tindakan-manual').attr('hidden', true);
                        $('#ek-edit-catatan-tindakan').val(data.id_catatan);
                        $('#s2id_ek-edit-catatan-tindakan a .select2c-chosen').html(data.nama_tindakan);
                        $('#ek-edit-cek-tindakan-manual').prop('checked', false);
                        $('#ek-edit-catatan-tindakan-manual').val('');
                    }

                    $('#ek-edit-cek-tindakan-manual').on('change', function() {
                        if ($('#ek-edit-cek-tindakan-manual').prop('checked')) {
                            // $('#s2id_ek-edit-catatan-tindakan a .select2c-chosen').empty();
                            // $('#ek-edit-catatan-tindakan').val('');
                            $('#s2id_ek-edit-catatan-tindakan a .select2c-chosen').html(data.nama_tindakan);
                            $('#ek-edit-catatan-tindakan').val(data.id_catatan);
                            $('#edit-tindakan-manual').removeAttr('hidden');
                            $('#edit-catatan-tindakan').attr('hidden', true);
                            // if ($('#ek-edit-catatan-tindakan-manual').val() === '') {
                            //     syams_validation('#ek-edit-catatan-tindakan-manual', 'Catatan Tindakan manual harus diisi.');
                            //     return false;
                            // }
                        } else {
                            // $('#ek-edit-catatan-tindakan-manual').val('');
                            $('#ek-edit-catatan-tindakan-manual').val(data.ek_catatan_tindakan_keperawatan_manual);
                            $('#edit-catatan-tindakan').removeAttr('hidden');
                            $('#edit-tindakan-manual').attr('hidden', true);
                            // if ($('#ek-edit-catatan-tindakan').val() === '') {
                            //     syams_validation('#ek-edit-catatan-tindakan', 'Catatan Tindakan harus dipilih.');
                            //     return false;
                            // }
                        }
                    });

                    syams_validation_remove('#ek-edit-catatan-tindakan-manual');
                    syams_validation_remove('#ek-edit-catatan-tindakan');

                    if (data.ek_perawat_tindakan_pagi === '') {
                        $('#s2id_ek-edit-perawat-tindakan-pagi a .select2c-chosen').html();
                        $('#ek-edit-perawat-tindakan-pagi').val();
                    } else {
                        $('#ek-edit-perawat-tindakan-pagi').val(data.ek_perawat_tindakan_pagi);
                        $('#s2id_ek-edit-perawat-tindakan-pagi a .select2c-chosen').html(data.perawat_pagi);
                    }

                    if (data.ek_perawat_tindakan_sore === '') {
                        $('#s2id_ek-edit-perawat-tindakan-sore a .select2c-chosen').html();
                        $('#ek-edit-perawat-tindakan-sore').val();
                    } else {
                        $('#ek-edit-perawat-tindakan-sore').val(data.ek_perawat_tindakan_sore);
                        $('#s2id_ek-edit-perawat-tindakan-sore a .select2c-chosen').html(data.perawat_sore);
                    }

                    if (data.ek_perawat_tindakan_malam === '') {
                        $('#s2id_ek-edit-perawat-tindakan-malam a .select2c-chosen').html();
                        $('#ek-edit-perawat-tindakan-malam').val();
                    } else {
                        $('#ek-edit-perawat-tindakan-malam').val(data.ek_perawat_tindakan_malam);
                        $('#s2id_ek-edit-perawat-tindakan-malam a .select2c-chosen').html(data.perawat_malam);
                    }

                    $('#ek-edit-keterangan-catatan').val(data.ek_keterangan_catatan);

                    function formatTanggalKhusus(waktu) {

                        var el = waktu.split('-');
                        var tahun = el[0];
                        var bulan = el[1];
                        var hari = el[2];
                        return hari + '/' + bulan + '/' + tahun;

                    }

                    let edit_tanggal_tindakan = formatTanggalKhusus(data.ek_tanggal_catatan_tindakan);

                    $('#ek-edit-tanggal-catatan-tindakan').val(edit_tanggal_tindakan);

                    if (data.ek_bismillah_pagi === '1') {
                        $('#ek-edit-bismillah-pagi').prop('checked', true).change()
                    }
                    if (data.ek_cek_pagi === '1') {
                        $('#ek-edit-cek-pagi').prop('checked', true).change()
                    }
                    if (data.ek_paraf_pagi === '1') {
                        $('#ek-edit-paraf-pagi').prop('checked', true).change()
                    }
                    if (data.ek_hamdalah_pagi === '1') {
                        $('#ek-edit-hamdalah-pagi').prop('checked', true).change()
                    }
                    if (data.ek_bismillah_sore === '1') {
                        $('#ek-edit-bismillah-sore').prop('checked', true).change()
                    }
                    if (data.ek_cek_sore === '1') {
                        $('#ek-edit-cek-sore').prop('checked', true).change()
                    }
                    if (data.ek_paraf_sore === '1') {
                        $('#ek-edit-paraf-sore').prop('checked', true).change()
                    }
                    if (data.ek_hamdalah_sore === '1') {
                        $('#ek-edit-hamdalah-sore').prop('checked', true).change()
                    }
                    if (data.ek_bismillah_malam === '1') {
                        $('#ek-edit-bismillah-malam').prop('checked', true).change()
                    }
                    if (data.ek_cek_malam === '1') {
                        $('#ek-edit-cek-malam').prop('checked', true).change()
                    }
                    if (data.ek_paraf_malam === '1') {
                        $('#ek-edit-paraf-malam').prop('checked', true).change()
                    }
                    if (data.ek_hamdalah_malam === '1') {
                        $('#ek-edit-hamdalah-malam').prop('checked', true).change()
                    }

                    $('#ek-edit-jam-pagi, #ek-edit-jam-sore, #ek-edit-jam-malam').timepicker({
                        format: 'HH:mm',
                        showInputs: true,
                        showMeridian: false
                    });

                    let jam_pagi = '';
                    let jam_sore = '';
                    let jam_malam = '';

                    jam_pagi = data.ek_jam_pagi;
                    jam_sore = data.ek_jam_sore;
                    jam_malam = data.ek_jam_malam;



                    if (jam_pagi !== null) {

                        $('#ek-edit-jam-pagi').val(timerzmysql(jam_pagi));

                    } else {

                        $('#ek-edit-jam-pagi').val('')

                    }

                    if (jam_sore !== null) {

                        $('#ek-edit-jam-sore').val(timerzmysql(jam_sore));

                    } else {

                        $('#ek-edit-jam-sore').val('')

                    }

                    if (jam_malam !== null) {

                        $('#ek-edit-jam-malam').val(timerzmysql(jam_malam));

                    } else {

                        $('#ek-edit-jam-malam').val('')

                    }

                    $('#modal-edit-catatan-tindakan').modal('show');
                }
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function updateCatatanTindakanKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed, action) {
        if ($('#ek-edit-cek-tindakan-manual').prop('checked')) {
            if ($('#ek-edit-catatan-tindakan-manual').val() === '') {
                syams_validation('#ek-edit-catatan-tindakan-manual', 'Catatan Tindakan manual harus diisi.');
                return false;
            }
        } else {
            if ($('#ek-edit-catatan-tindakan').val() === '') {
                syams_validation('#ek-edit-catatan-tindakan', 'Catatan Tindakan harus dipilih.');
                return false;
            }
        }

        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_catatan_tindakan_keperawatan") ?>',
            data: $('#form-edit-catatan-tindakan').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '2');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed, action);
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-catatan-tindakan').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function editTerapiPulang(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_terapi_pulang") ?>/id/' + id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data !== null) {

                    $('#update-terapi-plg').empty();
                    $('#id-terapi-pulang').val(id);

                    $('#barang-auto-edit').select2c({
                        minimumInputLength: 2,
                        ajax: {
                            url: "<?= base_url('masterdata/api/masterdata_auto/obat_untuk_keperawatan') ?>",
                            dataType: 'json',
                            quietMillis: 100,
                            data: function(term,
                                page) { // page is the one-based page number tracked by Select2

                                return {
                                    q: term, //search term
                                    page: page // page number
                                };
                            },
                            results: function(data, page) {
                                var more = (page * 20) < data
                                    .total; // whether or not there are more results available

                                // notice we return the value of more so Select2 knows if more results can be loaded
                                return {
                                    results: data.data,
                                    more: more
                                };
                            }
                        },

                        formatResult: function(data) {
                            var markup = data.nama;

                            return markup;
                        },
                        formatSelection: function(data) {

                            return data.nama;

                        }

                    });

                    let trpplg = '';
                    trpplg =
                        `  <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                                <button type="button" class="btn btn-info waves-effect" onclick="updateTerapiPulang(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                    $('#update-terapi-plg').append(trpplg);



                    if (data.barang_auto === '') {
                        $('#s2id_barang-auto-edit a .select2c-chosen').html();
                        $('#barang-auto-edit').val();
                    } else {
                        $('#barang-auto-edit').val(data.id_barang);
                        $('#s2id_barang-auto-edit a .select2c-chosen').html(data.barang_auto);
                    }

                    $('#jumlah-obat-edit').val(data.jumlah_obat);
                    $('#dosis-edit').val(data.dosis);
                    $('#frekuensi-edit').val(data.frekuensi);
                    $('#cara-pemberian-edit').val(data.cara_pemberian);

                    $('#ek-jam-pemberian-edit, #ek-jam-pemberian-satu-edit, #ek-jam-pemberian-dua-edit, #ek-jam-pemberian-tiga-edit, #ek-jam-pemberian-empat-edit, #ek-jam-pemberian-lima-edit')
                        .timepicker({
                            format: 'HH:mm',
                            showInputs: true,
                            showMeridian: false
                        });

                    let satu = data.ek_jam_pemberian;
                    let dua = data.ek_jam_pemberian_satu;
                    let tiga = data.ek_jam_pemberian_dua;
                    let empat = data.ek_jam_pemberian_tiga;
                    let lima = data.ek_jam_pemberian_empat;
                    let enam = data.ek_jam_pemberian_lima;



                    if (satu !== null) {

                        $('#ek-jam-pemberian-edit').val(timerzmysql(data.ek_jam_pemberian));
                    } else {

                        $('#ek-jam-pemberian-edit').val('')

                    }

                    if (dua !== null) {

                        $('#ek-jam-pemberian-satu-edit').val(timerzmysql(data.ek_jam_pemberian_satu));

                    } else {

                        $('#ek-jam-pemberian-satu-edit').val('')

                    }

                    if (tiga !== null) {

                        $('#ek-jam-pemberian-dua-edit').val(timerzmysql(data.ek_jam_pemberian_dua));

                    } else {

                        $('#ek-jam-pemberian-dua-edit').val('')

                    }

                    if (empat !== null) {

                        $('#ek-jam-pemberian-tiga-edit').val(timerzmysql(data.ek_jam_pemberian_tiga));

                    } else {

                        $('#ek-jam-pemberian-tiga-edit').val('')

                    }

                    if (lima !== null) {

                        $('#ek-jam-pemberian-empat-edit').val(timerzmysql(data.ek_jam_pemberian_empat));

                    } else {

                        $('#ek-jam-pemberian-empat-edit').val('')

                    }

                    if (enam !== null) {

                        $('#ek-jam-pemberian-lima-edit').val(timerzmysql(data.ek_jam_pemberian_lima));

                    } else {

                        $('#ek-jam-pemberian-lima-edit').val('')

                    }



                    $('#petunjuk-khusus-edit').val(data.petunjuk_khusus);



                    $('#modal-edit-terapi-pulang').modal('show');
                }
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function updateTerapiPulang(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_terapi_pulang") ?>',
            data: $('#form-edit-terapi-pulang').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed)
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-terapi-pulang').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function showKontrolKembali(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#table-kontrol tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {


                let tanggal_kontrol = v.tanggal;


                var myDays = ['Ahad', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];

                function dateTime(waktu) {
                    var el = waktu.split(' ');
                    var tgl = date2mysql(el[0]);
                    return tgl;
                }

                function timeAja(waktu) {
                    var el = waktu.split(' ');
                    var tgl = date2mysql(el[0]);
                    var tm = el[1].split(':');
                    return tm[0] + ':' + tm[1];
                }

                function tanggalAja(waktu) {
                    if (waktu !== undefined && waktu !== null && waktu !== 'null') {
                        var el = waktu.split(' ');
                        var elem = el[0].split('-');
                        var tahun = elem[0];
                        var bulan = elem[1];
                        var hari = elem[2];
                        return hari + '/' + bulan + '/' + tahun;
                    } else {
                        return '';
                    }

                }

                function formatTanggalKhusus(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1];
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu;

                }

                let idRkLayanan = $('#rk-id-layanan-pendaftaran').val();
                let idEkLayanan = $('#ek_id_layanan_pendaftaran').val();

                var tanggal_baru = formatTanggalKhusus(tanggal_kontrol);
                var cariHari = dateTime(tanggal_baru);
                var cari_jam = timeAja(tanggal_kontrol);
                var hari_tsb = new Date(cariHari);
                var ambil_hari = hari_tsb.getDay(),
                    ambil_hari = myDays[ambil_hari];
                var ambil_tanggal = tanggalAja(tanggal_kontrol);
                let html = /* html */ `
                    <tr>
                        <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                        <td width="1%" align="center">${ambil_tanggal}</td>
                        <td width="1%" align="center">${ambil_hari}</td>
                        <td width="1%" align="center">${cari_jam}</td>
                        <td width="2%">${v.dokter}</td>
                        <td width="2%">${v.tempat_kontrol}</td>
                        <td width="2%">${v.akun_user}</td>
                    </tr>
                `;
                $('#table-kontrol tbody').append(html);
            })
        }
    }

    function hapusKontrolKembali(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_kontrol_kembali") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Kontrol Kembali', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function editKontrolKembali(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_kontrol_kembali") ?>/id/' + id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data !== null) {

                    $('#update-kontrol-kbl').empty();
                    $('#id-kontrol-kembali').val(id);

                    $('#ek-nama-dokter-edit').select2c({
                        ajax: {
                            url: "<?= base_url('masterdata/api/masterdata_auto/dokter_auto') ?>",
                            dataType: 'json',
                            quietMillis: 100,
                            data: function(term,
                                page) { // page is the one-based page number tracked by Select2
                                return {
                                    q: term, //search term
                                    page: page, // page number
                                };
                            },
                            results: function(data, page) {
                                var more = (page * 20) < data
                                    .total; // whether or not there are more results available

                                // notice we return the value of more so Select2 knows if more results can be loaded
                                return {
                                    results: data.data,
                                    more: more
                                };
                            }
                        },
                        formatResult: function(data) {
                            var markup = '<b>' + data.nama + '</b><br/><i>' + data.spesialisasi +
                                '</i>';
                            return markup;
                        },
                        formatSelection: function(data) {
                            return data.nama;
                        }
                    });

                    let ktrkmbl = '';
                    ktrkmbl =
                        `  <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                                <button type="button" class="btn btn-info waves-effect" onclick="updateKontrolKembali(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                    $('#update-kontrol-kbl').append(ktrkmbl);

                    if (data.dokter === '') {
                        $('#s2id_ek-nama-dokter-edit a .select2c-chosen').html();
                        $('#ek-nama-dokter-edit').val();
                    } else {
                        $('#ek-nama-dokter-edit').val(data.id_dokter);
                        $('#s2id_ek-nama-dokter-edit a .select2c-chosen').html(data.dokter);
                    }

                    function formatTanggalKhusus(waktu) {

                        var el = waktu.split(' ');
                        var elem_tgl = el[0].split('-');
                        var elem_waktu = el[1];
                        var tahun = elem_tgl[0];
                        var bulan = elem_tgl[1];
                        var hari = elem_tgl[2];
                        return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu;

                    }

                    var tanggal_baru = formatTanggalKhusus(data.tanggal);

                    $('#ek-kontrol-dokter-edit').val(tanggal_baru);

                    let currentDate = new Date();
                    $('#ek-kontrol-dokter-edit').datetimepicker({
                        format: 'DD/MM/YYYY HH:mm',
                        pickSecond: false,
                        pick12HourFormat: false,
                        maxDate: new Date(currentDate.getFullYear(), currentDate.getMonth() + 2, 0),
                        beforeShow: function(i) {
                            if ($(i).attr('readonly')) {
                                return false;
                            }
                        }

                    });

                    $('#modal-edit-kontrol-kembali').modal('show');
                }
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function updateKontrolKembali(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_kontrol_kembali") ?>',
            data: $('#form-edit-kontrol-kembali').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-kontrol-kembali').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function showMasalahRawat(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-masalah-keperawatan tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {




                function formatTanggalTertentu(waktu) {

                    var el = waktu.split(' ');
                    var elem_tgl = el[0].split('-');
                    var elem_waktu = el[1].split(':');
                    var tahun = elem_tgl[0];
                    var bulan = elem_tgl[1];
                    var hari = elem_tgl[2];
                    return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                }

                let tanggal_mulai = v.tanggal_mulai;
                let tanggal_selesai = v.tanggal_selesai;

                let lihat_tanggal_mulai = formatTanggalTertentu(tanggal_mulai);

                let lihat_tanggal_selesai = '';

                if (tanggal_selesai !== null) {

                    lihat_tanggal_selesai = formatTanggalTertentu(tanggal_selesai);

                } else {

                    lihat_tanggal_selesai = '';

                }

                let html = /* html */ `
            <tr>
                <td width="1%" class="number-terapi" align="center">${(++i)}</td>
                <td width="5%" align="left">${v.masalah_keperawatan}</td>
                <td width="1%" align="center">${lihat_tanggal_mulai}</td>
                <td width="1%" align="center">${lihat_tanggal_selesai}</td>
                <td width="5%" align="center">${v.akun_user}</td>
                <td width="1%" align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editMasalahRawat(this, ${v.id}, ${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-edit"></i></button><button type="button" class="btn btn-secondary btn-xs" onclick="hapusMasalahRawat(this, ${v.id})"><i class="fas fa-trash-alt"></i></button></td>
            </tr>
        `;
                $('#tabel-masalah-keperawatan tbody').append(html);
            })
        }
    }

    function hapusMasalahRawat(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_masalah_rawat") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Kontrol Kembali', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function editMasalahRawat(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_masalah_rawat") ?>/id/' + id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data !== null) {

                    $('#update-masalah-kprwtn').empty();
                    $('#id-masalah-rawat').val(id);

                    $('#ek-masalah-keperawatan-edit').select2c({
                        ajax: {
                            url: "<?= base_url('masterdata/api/masterdata_auto/masalah_keperawatan_auto') ?>",
                            dataType: 'json',
                            quietMillis: 100,
                            data: function(term,
                                page) { // page is the one-based page number tracked by Select2
                                return {
                                    q: term, //search term
                                    page: page, // page number

                                };
                            },
                            results: function(data, page) {
                                var more = (page * 20) < data
                                    .total; // whether or not there are more results available

                                // notice we return the value of more so Select2 knows if more results can be loaded
                                return {
                                    results: data.data,
                                    more: more
                                };
                            }
                        },
                        formatResult: function(data) {
                            var markup = data.nama;
                            return markup;
                        },
                        formatSelection: function(data) {
                            return data.nama;
                        }
                    });

                    let mslhkprwtn = '';
                    mslhkprwtn =
                        `  <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                                <button type="button" class="btn btn-info waves-effect" onclick="updateMasalahKeperawatan(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                    $('#update-masalah-kprwtn').append(mslhkprwtn);

                    if (data.masalah_keperawatan === '') {
                        $('#s2id_ek-masalah-keperawatan-edit a .select2c-chosen').html();
                        $('#ek-masalah-keperawatan-edit').val();
                    } else {
                        $('#ek-masalah-keperawatan-edit').val(data.id_masalah);
                        $('#s2id_ek-masalah-keperawatan-edit a .select2c-chosen').html(data
                            .masalah_keperawatan);
                    }

                    function formatTanggalTertentu(waktu) {

                        var el = waktu.split(' ');
                        var elem_tgl = el[0].split('-');
                        var elem_waktu = el[1].split(':');
                        var tahun = elem_tgl[0];
                        var bulan = elem_tgl[1];
                        var hari = elem_tgl[2];
                        return hari + '/' + bulan + '/' + tahun + ' ' + elem_waktu[0] + ':' + elem_waktu[1];

                    }

                    var lihat_tanggal_mulai = formatTanggalTertentu(data.tanggal_mulai);

                    let lihat_tanggal_selesai = data.tanggal_selesai;

                    if (lihat_tanggal_selesai !== null) {

                        tanggal_selesai = formatTanggalTertentu(lihat_tanggal_selesai);

                    } else {

                        tanggal_selesai = '';

                    }

                    $('#ek-tanggal-mulai-edit').val(lihat_tanggal_mulai);
                    $('#ek-tanggal-selesai-edit').val(tanggal_selesai);

                    $('#modal-edit-masalah-rawat').modal('show');
                }
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function updateMasalahKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_masalah_keperawatan") ?>',
            data: $('#form-edit-masalah-rawat').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '1');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);


                } else {
                    messageEditFailed();
                }

                $('#modal-edit-masalah-rawat').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function konfirmasiSimpanEntriKeperawatan() {

        // console.log('contoh');

        swal.fire({
            title: 'Simpan Entri Keperawatan',
            text: "Apakah anda yakin akan menyimpan Form Pengkajian Ulang Dan Pemantauan Risiko Jatuh Pasien Anak?",
            icon: 'question',
            showCancelButton: true,
            confirmButtonText: '<i class="fas fa-fw fa-save mr-1"></i>Simpan',
            cancelButtonText: '<i class="fas fa-fw fa-times-circle mr-1"></i>Batal',
            reverseButtons: true
        }).then((result) => {
            if (result.value) {
                simpanEntriKeperawatan();
            }
        })

      
    }

    // MP-A
    function simpanEntriKeperawatan() {
        $.ajax({
            type: 'POST',
            url: '<?= base_url("form_rekam_medis/api/entri_keperawatan/simpan_entri_keperawatan") ?>',
            data: $('#form_entri_keperawatan').serialize(),
            // data: $('#form_entri_keperawatan').serialize() + '&grafik_mp=' + $('#data-chart-mp').val(),
            cache: false,
            dataType: 'JSON',
            beforeSend: function() {
                showLoader();
            },
            success: function(data) {

                if (data.respon !== null) {

                    if (data.respon.show !== null) {

                        $('#wizard_form_resume').bwizard('show', data.respon.show);

                        if (data.respon.add_show !== undefined) {

                            $('#wizard-resume-group').bwizard('show', data.respon.add_show);

                            if (data.respon.id !== undefined) {
                                $(data.respon.id).addClass('show');
                            }

                        } else {

                            if (data.respon.id !== undefined) {
                                $(data.respon.id).addClass('show');
                            }

                        }

                        if (data.respon.status === false) {

                            bootbox.dialog({
                                message: data.respon.message,
                                title: "Penyimpanan Data Gagal",
                                buttons: {
                                    batal: {
                                        label: '<i class=" fas fa-times-circle"></i> Close',
                                        className: "btn-danger",
                                        callback: function() {

                                        }
                                    }

                                }
                            });

                        }

                    }

                } else {

                    $('input[name=csrf_syam]').val(data.token);
                    if (data.status) {
                        messageAddSuccess();
                        $('#modal_entri_keperawatan_rm').modal('hide');
                        showListForm($('#ek-id-pendaftaran').val(), $('#ek_id_layanan_pendaftaran').val(), $('#ek_id_pasien').val());
                    } else {
                        messageAddFailed();
                    }
                }

            },
            complete: function() {
                hideLoader();
            },
            error: function(e) {
                messageAddFailed();
            }
        });
    }

    function cekDateTime(id, form) {
        // ekspresi reguler untuk mencocokkan format tanggal yang dibutuhkan

        re = /^(\d{1,2})[-\/](\d{1,2})[-\/](\d{4})$/;
        if (form != '') {

            if (regs = form.match(re)) {
                // nilai hari antara 1 s.d 31
                if (regs[1] < 1 || regs[1] > 31) {
                    alert("Nilai tidak valid untuk hari: " + regs[1]);
                    syams_validation(id, 'Format Tanggal tidak sesuai');
                    return false;
                }
                // nilai bulan antara 1 s.d 12
                if (regs[2] < 1 || regs[2] > 12) {
                    alert("Nilai tidak valid untuk bulan: " + regs[2]);
                    syams_validation(id, 'Format Tanggal tidak sesuai');
                    return false;
                }
                // nilai tahun antara 2000 s.d sekarang
                if (regs[3] < ((new Date()).getFullYear()) - 1 || regs[3] > ((new Date()).getFullYear()) + 1) {
                    alert("Nilai tidak valid untuk tahun: " + regs[3] + " - harus antara " + (((new Date()).getFullYear()) -
                        1) + " dan " + (((new Date()).getFullYear()) + 1));
                    syams_validation(id, 'Format Tanggal tidak sesuai');
                    return false;
                }

            } else {

                syams_validation(id, 'Format Tanggal tidak sesuai');
                return false;

            }
        }

    }



    function tambahRuangRawat() {
        if ($('#sirs-ruang-rawat').val() === '') {
            syams_validation('#sirs-ruang-rawat', 'Ruang tempat di rawat harus diisi.');
            return false;
        }

        if ($('#sirs-tanggal-mulai').val() === '') {
            syams_validation('#sirs-tanggal-mulai', 'Tanggal mulai rawat harus diisi.');
            return false;
        }

        if ($('#sirs-tanggal-selesai').val() === '') {
            syams_validation('#sirs-tanggal-selesai', 'Tanggal selesai rawat harus diisi.');
            return false;
        }

        let html = '';
        let number = $('.number-ruang-rawat').length;
        let tanggal_mulai = $('#sirs-tanggal-mulai').val();
        let tanggal_selesai = $('#sirs-tanggal-selesai').val();
        let kamar = $('#s2id_sirs-ruang-rawat a .select2c-chosen').html();
        let id_kamar = $('#sirs-ruang-rawat').val();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        let cekTanggalMulai = cekDateTime('#sirs-tanggal-mulai', tanggal_mulai);
        let cekTanggalSelesai = cekDateTime('#sirs-tanggal-selesai', tanggal_selesai);

        if (cekTanggalMulai === false) {

            syams_validation('#sirs-tanggal-mulai', 'Format Tanggal tidak sesuai(dd/mm/yyyy)');
            return false;

        }

        if (cekTanggalSelesai === false) {

            syams_validation('#sirs-tanggal-selesai', 'Format Tanggal tidak sesuai(dd/mm/yyyy)');
            return false;

        }

        syams_validation_remove('#sirs-tanggal-mulai');
        syams_validation_remove('#sirs-tanggal-selesai');

        let selOp = '';

        if (accountGroup === 'Admin') {

            selOp =
                '<td width="1%" align="center"></td><td width="5%"><input type="hidden" name="sirs_ruang_rawat[]" value="' +
                id_kamar + '">' + kamar + '</td>';

        } else {

            selOp = '<td width="5%"><input type="hidden" name="sirs_ruang_rawat[]" value="' + id_kamar + '">' + kamar +
                '</td>';
        }


        html = /* html */ `
            <tr>
                <td width="1%" class="number-ruang-rawat" align="center">${++number}</td>
                ${selOp}
                <td width="1%" align="center"><input type="hidden" name="sirs_tanggal_mulai[]" value="${tanggal_mulai}">${tanggal_mulai}</td>
                <td width="1%" align="center"><input type="hidden" name="sirs_tanggal_selesai[]" value="${tanggal_selesai}">${tanggal_selesai}</td>
                <td width="5%" align="center"><input type="hidden" name="sirs_petugas[]" value="<?= $this->session->userdata("id_translucent") ?>"></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#table-ruang-rawat tbody').append(html);


    }

    function tambahPengkajian() {
        if ($('#purjpd-tanggal-pengkajian').val() === '') {
            syams_validation('#purjpd-tanggal-pengkajian', 'Tanggal Pengkajian harus diisi.');
            return false;
        } else {
            syams_validation_remove('#purjpd-tanggal-pengkajian');
        }

        if ($('#purjpd-alat-bantu-jalan').val() === '') {
            syams_validation('#purjpd-alat-bantu-jalan', 'Alat Bantu Jalan belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpd-alat-bantu-jalan');
        }

        if ($('#purjpd-cara-berpindah').val() === '') {
            syams_validation('#purjpd-cara-berpindah', 'Cara Berjalan belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpd-cara-berpindah');
        }

        if ($('#purjpd-status-mental').val() === '') {
            syams_validation('#purjpd-status-mental', 'Status Mental belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpd-status-mental');
        }


        let html = '';
        let number = $('.nomer-pengkajian').length;
        let tanggal_pengkajian = $('#purjpd-tanggal-pengkajian').val();
        let jumlah_skor = $('#purjpd-jumlah-skor').val();
        let riwayat_jatuh = $('#purjpd-riwayat-jatuh').val();
        let diagnosis_sekunder = $('#purjpd-diagnosis-sekunder').val();
        let alat_bantu_dua = $('#purjpd-alat-bantu-jalan').val();
        let infus = $('#purjpd-terpasang-infus').val();
        let cara_berjalan = $('#purjpd-cara-berpindah').val();
        let status_mental = $('#purjpd-status-mental').val();

        html = /* html */ `
            <tr>
                <td class="number-pengkajian" align="center">${++number}</td>
                <td align="center"><input type="hidden" name="tanggal_pengkajian[]" value="${tanggal_pengkajian}">${tanggal_pengkajian}</td>
                <td align="center"><input type="hidden" name="jumlah_skor[]" value="${jumlah_skor}">${jumlah_skor}</td>
                <td align="center"><input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>"><input type="hidden" name="pengkajian_date[]" value="<?= date("Y-m-d H:i:s") ?>">
                <input type="hidden" name="riwayat_jatuh[]" value="${riwayat_jatuh}"><input type="hidden" name="diagnosis_sekunder[]" value="${diagnosis_sekunder}"><input type="hidden" name="alat_bantu_dua[]" value="${alat_bantu_dua}"><input type="hidden" name="infus[]" value="${infus}"><input type="hidden" name="cara_berjalan[]" value="${cara_berjalan}"><input type="hidden" name="status_mental[]" value="${status_mental}"></td>
                <td align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
        `;
        $('#tabel-pengkajian-ulang tbody').append(html);


    }


    function editPengkajianUlangResikoJatuhPasienAnak(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-pengkajian-ulang-resiko-jatuh-pasien-anak');

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_pengkajian_ulang_resiko_jatuh_pasien_anak") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#modal-edit-pengkajian-ulang-resiko-jatuh-pasien-anak').modal('show');
                $('#update-purjpa').empty();
                $('#id-pengkajian-ulang-resiko-jatuh-pasien-anak').val(id);

                function formatTanggalKhusus(waktu) {
                    var el = waktu.split('-');
                    var tahun = el[0];
                    var bulan = el[1];
                    var hari = el[2];
                    return hari + '/' + bulan + '/' + tahun;

                }

                let edit_tanggal_pengkajian = formatTanggalKhusus(data.tanggal_pengkajian);
                $('#purjpa-edit-tanggal-pengkajian').val(edit_tanggal_pengkajian);

                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-pengkajian-ulang-resiko-jatuh-pasien-anak').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
							<button type="button" class="btn btn-info waves-effect" onclick="updatePengkajianUalngResikoJatuhPasienAnak(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-purjpa').append(cttntndkn);

                // umur
                $('#purjpa-edit-umur').val(data.umur);
                modal.find('table input[name="purjpa_umur"]').each(function() {
                    if ($(this).val() === data.umur) $(this).prop('checked', 'checked');
                });

                // jenis kelamin
                $('#purjpa-edit-jenis-kelamin').val(data.jenis_kelamin);
                modal.find('table input[name="purjpa_jenis_kelamin"]').each(function() {
                    if ($(this).val() === data.jenis_kelamin) $(this).prop('checked', true);
                });

                // diagnosis
                $('#purjpa-edit-diagnosis').val(data.diagnosis);
                modal.find('table input[name="purjpa_diagnosis"]').each(function() {
                    if ($(this).val() === data.diagnosis) $(this).prop('checked', true);
                });

                // ganguan kognitif
                $('#purjpa-edit-gangguan-kognitif').val(data.gangguan_kognitif)
                modal.find('table input[name="purjpa_gangguan_kognitif"]').each(function() {
                    if ($(this).val() === data.gangguan_kognitif) $(this).prop('checked', true);
                });

                // faktor lingkungan
                $('#purjpa-edit-faktor-lingkungan').val(data.faktor_lingkungan);
                modal.find('table input[name="purjpa_faktor_lingkungan"]').each(function() {
                    if ($(this).val() === data.faktor_lingkungan) $(this).prop('checked', true);
                });

                // respon pembedahan
                $('#purjpa-edit-respon-pembedahan').val(data.respon_terhadap_pembedahan);
                modal.find('table input[name="purjpa_respon_pembedahan"]').each(function() {
                    if ($(this).val() === data.respon_terhadap_pembedahan) $(this).prop('checked',
                        true);
                });

                // penggunaan obat-obatan
                $('#purjpa-edit-penggunaan-obat').val(data.penggunaan_obat_obatan);
                modal.find('table input[name="purjpa_penggunaan_obat"]').each(function() {
                    if ($(this).val() === data.penggunaan_obat_obatan) $(this).prop('checked', true);
                });

                $('#purjpa-edit-jumlah-skor').val(data.jumlah_skor);

                $('#purjpa-edit-paraf').prop('checked', true);

                $('#purjpa-edit-perawat').val(data.perawat);
                $('#s2id_purjpa-edit-perawat a .select2c-chosen').html(data.nama_perawat);


                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function editPengkajianUlangResikoJatuhPasienLansia(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-pengkajian-ulang-risiko-jatuh-pasien-lansia');
        $('#update-purjpl').children().remove();

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_pengkajian_ulang_resiko_jatuh_pasien_lansia") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#update-purjpl').empty();
                $('#id-pengkajian-ulang-risiko-jatuh-pasien-lansia').val(id);

                function formatTanggalKhusus(waktu) {
                    var el = waktu.split('-');
                    var tahun = el[0];
                    var bulan = el[1];
                    var hari = el[2];
                    return hari + '/' + bulan + '/' + tahun;

                }

                let edit_tanggal_pengkajian = formatTanggalKhusus(data.tanggal_pengkajian);
                $('#purjpl-edit-tanggal-pengkajian').val(edit_tanggal_pengkajian);

                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-pengkajian-ulang-risiko-jatuh-pasien-lansia').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
							<button type="button" class="btn btn-info waves-effect" onclick="updatePengkajianUalngRisikoJatuhPasienLansia(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-purjpl').append(cttntndkn);

                // Pasien datang karena jatuh
                $('#purjpl-edit-pasien-datang-karena-jatuh').val(data.pasien_datang_karena_jatuh);
                modal.find('table input[name="purjpl_pasien_datang_karena_jatuh"]').each(function() {
                    if ($(this).val() === data.pasien_datang_karena_jatuh) $(this).prop('checked',
                        true);
                });

                // Pasien jatuh 2 bulan terakhir
                $('#purjpl-edit-jatuh-2-bulan-terakhir').val(data.jatuh_dua_bulan_terakhir);
                modal.find('table input[name="purjpl_jatuh_2_bulan_terakhir"]').each(function() {
                    if ($(this).val() === data.jatuh_dua_bulan_terakhir) $(this).prop('checked', true);
                });

                // Pasien delirium
                $('#purjpl-edit-pasien-delirium').val(data.delirium);
                modal.find('table input[name="purjpl_pasien_delirium"]').each(function() {
                    if ($(this).val() === data.delirium) $(this).prop('checked', true);
                });

                // Pasien disorientasi
                $('#purjpl-edit-pasien-disorientasi').val(data.disorientasi)
                modal.find('table input[name="purjpl_pasien_disorientasi"]').each(function() {
                    if ($(this).val() === data.disorientasi) $(this).prop('checked', true);
                });

                // Pasien agitasi
                $('#purjpl-edit-pasien-agitasi').val(data.agitasi);
                modal.find('table input[name="purjpl_pasien_agitasi"]').each(function() {
                    if ($(this).val() === data.agitasi) $(this).prop('checked', true);
                });

                // Pasien kacamata
                $('#purjpl-edit-pasien-kacamata').val(data.kacamata);
                modal.find('table input[name="purjpl_pasien_kacamata"]').each(function() {
                    if ($(this).val() === data.kacamata) $(this).prop('checked',
                        true);
                });

                // Pasien buram
                $('#purjpl-edit-pasien-buram').val(data.buram);
                modal.find('table input[name="purjpl_pasien_buram"]').each(function() {
                    if ($(this).val() === data.buram) $(this).prop('checked', true);
                });

                // Pasien glaukoma
                $('#purjpl-edit-pasien-glaukoma').val(data.galukoma);
                modal.find('table input[name="purjpl_pasien_glaukoma"]').each(function() {
                    if ($(this).val() === data.galukoma) $(this).prop('checked', true);
                });

                // Pasien berkemih
                $('#purjpl-edit-pasien-berkemih').val(data.berkemih);
                modal.find('table input[name="purjpl_pasien_berkemih"]').each(function() {
                    if ($(this).val() === data.berkemih) $(this).prop('checked', true);
                });

                // Pasien mandiri
                $('#purjpl-edit-mandiri').val(data.mandiri);
                if ($('#purjpl-edit-pasien-mandiri').val() === data.mandiri) {
                    $('#purjpl-edit-pasien-mandiri').prop('checked', true);
                } else {
                    $('#purjpl-edit-pasien-mandiri').prop('checked', false);
                }

                // Pasien sedikit bantuan
                $('#purjpl-edit-sedikit-bantuan').val(data.sedikit_bantuan);
                if ($('#purjpl-edit-pasien-sedikit-bantuan').val() === data.sedikit_bantuan) {
                    $('#purjpl-edit-pasien-sedikit-bantuan').prop('checked', true);
                } else {
                    $('#purjpl-edit-pasien-sedikit-bantuan').prop('checked', false);
                }

                // Pasien bantuan nyata
                $('#purjpl-edit-bantuan-nyata').val(data.bantuan_nyata);
                if ($('#purjpl-edit-pasien-bantuan-nyata').val() === data.bantuan_nyata) {
                    $('#purjpl-edit-pasien-bantuan-nyata').prop('checked', true);
                } else {
                    $('#purjpl-edit-pasien-bantuan-nyata').prop('checked', false);
                }

                // Pasien bantuan total
                $('#purjpl-edit-bantuan-total').val(data.bantuan_total);
                if ($('#purjpl-edit-pasien-bantuan-total').val() === data.bantuan_total) {
                    $('#purjpl-edit-pasien-bantuan-total').prop('checked', true);
                } else {
                    $('#purjpl-edit-pasien-bantuan-total').prop('checked', false);
                }

                // Pasien mobilitas mandiri
                $('#purjpl-edit-m-mandiri').val(data.m_mandiri);
                if ($('#purjpl-edit-pasien-m-mandiri').val() === data.m_mandiri) {
                    $('#purjpl-edit-pasien-m-mandiri').prop('checked', true);
                } else {
                    $('#purjpl-edit-pasien-m-mandiri').prop('checked', false);
                }

                // Pasien mobilitas sedikit bantuan
                $('#purjpl-edit-m-sedikit-bantuan').val(data.m_sedikit_bantuan);
                if ($('#purjpl-edit-pasien-m-sedikit-bantuan').val() === data.m_sedikit_bantuan) {
                    $('#purjpl-edit-pasien-m-sedikit-bantuan').prop('checked', true);
                } else {
                    $('#purjpl-edit-pasien-m-sedikit-bantuan').prop('checked', false);
                }

                // Pasien kursi roda
                $('#purjpl-edit-kursi-roda').val(data.kursi_roda);
                if ($('#purjpl-edit-pasien-kursi-roda').val() === data.kursi_roda) {
                    $('#purjpl-edit-pasien-kursi-roda').prop('checked', true);
                } else {
                    $('#purjpl-edit-pasien-kursi-roda').prop('checked', false);
                }

                // Pasien imobilisasi
                $('#purjpl-edit-imobilisasi').val(data.imobilisasi);
                if ($('#purjpl-edit-pasien-imobilisasi').val() === data.imobilisasi) {
                    $('#purjpl-edit-pasien-imobilisasi').prop('checked', true);
                } else {
                    $('#purjpl-edit-pasien-imobilisasi').prop('checked', false);
                }

                $('#purjpl-edit-jumlah-skor').val(data.jumlah_skor);

                $('#purjpl-edit-paraf').prop('checked', true);

                $('#purjpl-edit-perawat').val(data.id_perawat);
                $('#s2id_purjpl-edit-perawat a .select2c-chosen').html(data.nama_perawat);

                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function editUpayaPencegahanRisikoJatuhPasienLansia(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-lansia');
        $('#update-uprjpl').children().remove();

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_upaya_pencegahan_risiko_jatuh_pasien_lansia") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#update-purjpl').empty();
                $('#id-upaya-pencegahan-risiko-jatuh-pasien-lansia').val(id);

                function formatTanggalKhusus(waktu) {
                    var el = waktu.split('-');
                    var tahun = el[0];
                    var bulan = el[1];
                    var hari = el[2];
                    return hari + '/' + bulan + '/' + tahun;

                }

                let edit_tanggal_pengkajian = formatTanggalKhusus(data.tanggal_pengkajian);
                $('#uprjpl-edit-tanggal-pengkajian').val(edit_tanggal_pengkajian);

                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-lansia').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
							<button type="button" class="btn btn-info waves-effect" onclick="updateUpayaPencegahanRisikoJatuhPasienLansia(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-uprjpl').append(cttntndkn);

                // Bel berfungsi dan mudah dihangkau
                data.bel_p_ho == '1' ? $('#uprjpl-edit-bel-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-bel-p-ho').prop('checked', false);
                data.bel_p_10 == '1' ? $('#uprjpl-edit-bel-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-bel-p-10').prop('checked', false);
                data.bel_s_ho == '1' ? $('#uprjpl-edit-bel-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-bel-s-ho').prop('checked', false);
                data.bel_s_18 == '1' ? $('#uprjpl-edit-bel-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-bel-s-18').prop('checked', false);
                data.bel_m_ho == '1' ? $('#uprjpl-edit-bel-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-bel-m-ho').prop('checked', false);
                data.bel_m_23 == '1' ? $('#uprjpl-edit-bel-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-bel-m-23').prop('checked', false);
                data.bel_m_4 == '1' ? $('#uprjpl-edit-bel-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-bel-m-4').prop('checked', false);

                // Roda tempat tidur terkunci
                data.roda_p_ho == '1' ? $('#uprjpl-edit-roda-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-roda-p-ho').prop('checked', false);
                data.roda_p_10 == '1' ? $('#uprjpl-edit-roda-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-roda-p-10').prop('checked', false);
                data.roda_s_ho == '1' ? $('#uprjpl-edit-roda-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-roda-s-ho').prop('checked', false);
                data.roda_s_18 == '1' ? $('#uprjpl-edit-roda-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-roda-s-18').prop('checked', false);
                data.roda_m_ho == '1' ? $('#uprjpl-edit-roda-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-roda-m-ho').prop('checked', false);
                data.roda_m_23 == '1' ? $('#uprjpl-edit-roda-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-roda-m-23').prop('checked', false);
                data.roda_m_4 == '1' ? $('#uprjpl-edit-roda-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-roda-m-4').prop('checked', false);

                // Posisikan tempat tidur pada posisi terendah
                data.ptt_p_ho == '1' ? $('#uprjpl-edit-ptt-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-ptt-p-ho').prop('checked', false);
                data.ptt_p_10 == '1' ? $('#uprjpl-edit-ptt-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-ptt-p-10').prop('checked', false);
                data.ptt_s_ho == '1' ? $('#uprjpl-edit-ptt-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-ptt-s-ho').prop('checked', false);
                data.ptt_s_18 == '1' ? $('#uprjpl-edit-ptt-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-ptt-s-18').prop('checked', false);
                data.ptt_m_ho == '1' ? $('#uprjpl-edit-ptt-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-ptt-m-ho').prop('checked', false);
                data.ptt_m_23 == '1' ? $('#uprjpl-edit-ptt-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-ptt-m-23').prop('checked', false);
                data.ptt_m_4 == '1' ? $('#uprjpl-edit-ptt-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-ptt-m-4').prop('checked', false);

                // Pagar pengaman tempat tidur dinaikan
                data.ppt_p_ho == '1' ? $('#uprjpl-edit-ppt-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-ppt-p-ho').prop('checked', false);
                data.ppt_p_10 == '1' ? $('#uprjpl-edit-ppt-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-ppt-p-10').prop('checked', false);
                data.ppt_s_ho == '1' ? $('#uprjpl-edit-ppt-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-ppt-s-ho').prop('checked', false);
                data.ppt_s_18 == '1' ? $('#uprjpl-edit-ppt-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-ppt-s-18').prop('checked', false);
                data.ppt_m_ho == '1' ? $('#uprjpl-edit-ppt-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-ppt-m-ho').prop('checked', false);
                data.ppt_m_23 == '1' ? $('#uprjpl-edit-ppt-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-ppt-m-23').prop('checked', false);
                data.ppt_m_4 == '1' ? $('#uprjpl-edit-ppt-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-ppt-m-4').prop('checked', false);

                // Penerang cukup
                data.penerangan_p_ho == '1' ? $('#uprjpl-edit-penerangan-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-penerangan-p-ho').prop('checked', false);
                data.penerangan_p_10 == '1' ? $('#uprjpl-edit-penerangan-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-penerangan-p-10').prop('checked', false);
                data.penerangan_s_ho == '1' ? $('#uprjpl-edit-penerangan-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-penerangan-s-ho').prop('checked', false);
                data.penerangan_s_18 == '1' ? $('#uprjpl-edit-penerangan-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-penerangan-s-18').prop('checked', false);
                data.penerangan_m_ho == '1' ? $('#uprjpl-edit-penerangan-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-penerangan-m-ho').prop('checked', false);
                data.penerangan_m_23 == '1' ? $('#uprjpl-edit-penerangan-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-penerangan-m-23').prop('checked', false);
                data.penerangan_m_4 == '1' ? $('#uprjpl-edit-penerangan-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-penerangan-m-4').prop('checked', false);

                // Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan
                data.alas_p_ho == '1' ? $('#uprjpl-edit-alas-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-alas-p-ho').prop('checked', false);
                data.alas_p_10 == '1' ? $('#uprjpl-edit-alas-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-alas-p-10').prop('checked', false);
                data.alas_s_ho == '1' ? $('#uprjpl-edit-alas-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-alas-s-ho').prop('checked', false);
                data.alas_s_18 == '1' ? $('#uprjpl-edit-alas-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-alas-s-18').prop('checked', false);
                data.alas_m_ho == '1' ? $('#uprjpl-edit-alas-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-alas-m-ho').prop('checked', false);
                data.alas_m_23 == '1' ? $('#uprjpl-edit-alas-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-alas-m-23').prop('checked', false);
                data.alas_m_4 == '1' ? $('#uprjpl-edit-alas-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-alas-m-4').prop('checked', false);

                // Lantai kering dan tidak licin
                data.lantai_p_ho == '1' ? $('#uprjpl-edit-lantai-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-lantai-p-ho').prop('checked', false);
                data.lantai_p_10 == '1' ? $('#uprjpl-edit-lantai-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-lantai-p-10').prop('checked', false);
                data.lantai_s_ho == '1' ? $('#uprjpl-edit-lantai-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-lantai-s-ho').prop('checked', false);
                data.lantai_s_18 == '1' ? $('#uprjpl-edit-lantai-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-lantai-s-18').prop('checked', false);
                data.lantai_m_ho == '1' ? $('#uprjpl-edit-lantai-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-lantai-m-ho').prop('checked', false);
                data.lantai_m_23 == '1' ? $('#uprjpl-edit-lantai-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-lantai-m-23').prop('checked', false);
                data.lantai_m_4 == '1' ? $('#uprjpl-edit-lantai-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-lantai-m-4').prop('checked', false);

                // Dekatkan alat-alat pasien
                data.alat_p_ho == '1' ? $('#uprjpl-edit-alat-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-alat-p-ho').prop('checked', false);
                data.alat_p_10 == '1' ? $('#uprjpl-edit-alat-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-alat-p-10').prop('checked', false);
                data.alat_s_ho == '1' ? $('#uprjpl-edit-alat-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-alat-s-ho').prop('checked', false);
                data.alat_s_18 == '1' ? $('#uprjpl-edit-alat-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-alat-s-18').prop('checked', false);
                data.alat_m_ho == '1' ? $('#uprjpl-edit-alat-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-alat-m-ho').prop('checked', false);
                data.alat_m_23 == '1' ? $('#uprjpl-edit-alat-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-alat-m-23').prop('checked', false);
                data.alat_m_4 == '1' ? $('#uprjpl-edit-alat-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-alat-m-4').prop('checked', false);

                // Edukasi pasien tentang efek samping obat yang diberikan
                data.edukasi_p_ho == '1' ? $('#uprjpl-edit-edukasi-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-edukasi-p-ho').prop('checked', false);
                data.edukasi_p_10 == '1' ? $('#uprjpl-edit-edukasi-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-edukasi-p-10').prop('checked', false);
                data.edukasi_s_ho == '1' ? $('#uprjpl-edit-edukasi-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-edukasi-s-ho').prop('checked', false);
                data.edukasi_s_18 == '1' ? $('#uprjpl-edit-edukasi-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-edukasi-s-18').prop('checked', false);
                data.edukasi_m_ho == '1' ? $('#uprjpl-edit-edukasi-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-edukasi-m-ho').prop('checked', false);
                data.edukasi_m_23 == '1' ? $('#uprjpl-edit-edukasi-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-edukasi-m-23').prop('checked', false);
                data.edukasi_m_4 == '1' ? $('#uprjpl-edit-edukasi-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-edukasi-m-4').prop('checked', false);

                // Tidak meninggalkan pasien di kamar mandi saat menggunakan commode
                data.commode_p_ho == '1' ? $('#uprjpl-edit-commode-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-commode-p-ho').prop('checked', false);
                data.commode_p_10 == '1' ? $('#uprjpl-edit-commode-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-commode-p-10').prop('checked', false);
                data.commode_s_ho == '1' ? $('#uprjpl-edit-commode-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-commode-s-ho').prop('checked', false);
                data.commode_s_18 == '1' ? $('#uprjpl-edit-commode-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-commode-s-18').prop('checked', false);
                data.commode_m_ho == '1' ? $('#uprjpl-edit-commode-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-commode-m-ho').prop('checked', false);
                data.commode_m_23 == '1' ? $('#uprjpl-edit-commode-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-commode-m-23').prop('checked', false);
                data.commode_m_4 == '1' ? $('#uprjpl-edit-commode-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-commode-m-4').prop('checked', false);

                // Pasang gelang khusus
                data.gelang_p_ho == '1' ? $('#uprjpl-edit-gelang-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-gelang-p-ho').prop('checked', false);
                data.gelang_p_10 == '1' ? $('#uprjpl-edit-gelang-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-gelang-p-10').prop('checked', false);
                data.gelang_s_ho == '1' ? $('#uprjpl-edit-gelang-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-gelang-s-ho').prop('checked', false);
                data.gelang_s_18 == '1' ? $('#uprjpl-edit-gelang-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-gelang-s-18').prop('checked', false);
                data.gelang_m_ho == '1' ? $('#uprjpl-edit-gelang-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-gelang-m-ho').prop('checked', false);
                data.gelang_m_23 == '1' ? $('#uprjpl-edit-gelang-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-gelang-m-23').prop('checked', false);
                data.gelang_m_4 == '1' ? $('#uprjpl-edit-gelang-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-gelang-m-4').prop('checked', false);

                // Tempatkan pasien di kamar yang paling dekat dengan Nurse Station
                data.station_p_ho == '1' ? $('#uprjpl-edit-station-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-station-p-ho').prop('checked', false);
                data.station_p_10 == '1' ? $('#uprjpl-edit-station-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-station-p-10').prop('checked', false);
                data.station_s_ho == '1' ? $('#uprjpl-edit-station-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-station-s-ho').prop('checked', false);
                data.station_s_18 == '1' ? $('#uprjpl-edit-station-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-station-s-18').prop('checked', false);
                data.station_m_ho == '1' ? $('#uprjpl-edit-station-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-station-m-ho').prop('checked', false);
                data.station_m_23 == '1' ? $('#uprjpl-edit-station-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-station-m-23').prop('checked', false);
                data.station_m_4 == '1' ? $('#uprjpl-edit-station-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-station-m-4').prop('checked', false);

                // Paraf
                data.paraf_p_ho == '1' ? $('#uprjpl-edit-paraf-p-ho').prop('checked', true) : $(
                    '#uprjpl-edit-paraf-p-ho').prop('checked', false);
                data.paraf_p_10 == '1' ? $('#uprjpl-edit-paraf-p-10').prop('checked', true) : $(
                    '#uprjpl-edit-paraf-p-10').prop('checked', false);
                data.paraf_s_ho == '1' ? $('#uprjpl-edit-paraf-s-ho').prop('checked', true) : $(
                    '#uprjpl-edit-paraf-s-ho').prop('checked', false);
                data.paraf_s_18 == '1' ? $('#uprjpl-edit-paraf-s-18').prop('checked', true) : $(
                    '#uprjpl-edit-paraf-s-18').prop('checked', false);
                data.paraf_m_ho == '1' ? $('#uprjpl-edit-paraf-m-ho').prop('checked', true) : $(
                    '#uprjpl-edit-paraf-m-ho').prop('checked', false);
                data.paraf_m_23 == '1' ? $('#uprjpl-edit-paraf-m-23').prop('checked', true) : $(
                    '#uprjpl-edit-paraf-m-23').prop('checked', false);
                data.paraf_m_4 == '1' ? $('#uprjpl-edit-paraf-m-4').prop('checked', true) : $(
                    '#uprjpl-edit-paraf-m-4').prop('checked', false);

                $('#uprjpl-edit-perawat-p').val(data.id_perawat_p);
                $('#s2id_uprjpl-edit-perawat-p a .select2c-chosen').html(data.perawat_p);

                $('#uprjpl-edit-perawat-s').val(data.id_perawat_s);
                $('#s2id_uprjpl-edit-perawat-s a .select2c-chosen').html(data.perawat_s);

                $('#uprjpl-edit-perawat-m').val(data.id_perawat_m);
                $('#s2id_uprjpl-edit-perawat-m a .select2c-chosen').html(data.perawat_m);

                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }






    
    // UPRJPN
    function editUpayaPencegahanRisikoJatuhPadaNeonatus(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-upaya-pencegahan-risiko-jatuh-pada-neonatus');
        $('#update-uprjpn').children().remove();
        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_upaya_pencegahan_risiko_jatuh_pada_neonatus") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {

                // console.log(data);
                $('#update-uprjpn').empty();
                $('#id-upaya-pencegahan-risiko-jatuh-pada-neonatus').val(id);

                function formatTanggalKhusus(waktu) {
                    var el = waktu.split('-');
                    var tahun = el[0];
                    var bulan = el[1];
                    var hari = el[2];
                    return hari + '/' + bulan + '/' + tahun;
                }
                let edit_tanggal_pengkajian = formatTanggalKhusus(data.tanggal_pengkajian);
                $('#uprjpn-edit-tanggal-pengkajian').val(edit_tanggal_pengkajian);
                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-upaya-pencegahan-risiko-jatuh-pada-neonatus').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
							<button type="button" class="btn btn-info waves-effect" onclick="updateUpayaPencegahanRisikoJatuhPadaNeonatus(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-uprjpn').append(cttntndkn);

                // Posisi tanda Risiko  jatuh tetap ada/terpasang
                data.terpasang_p_ho == '1' ? $('#terpasang-edit-p-ho').prop('checked', true) : $('#terpasang-edit-p-ho').prop('checked', false);
                data.terpasang_p_10 == '1' ? $('#terpasang-edit-p-10').prop('checked', true) : $('#terpasang-edit-p-10').prop('checked', false);
                data.terpasang_s_ho == '1' ? $('#terpasang-edit-s-ho').prop('checked', true) : $('#terpasang-edit-s-ho').prop('checked', false);
                data.terpasang_s_18 == '1' ? $('#terpasang-edit-s-18').prop('checked', true) : $('#terpasang-edit-s-18').prop('checked', false);
                data.terpasang_m_ho == '1' ? $('#terpasang-edit-m-ho').prop('checked', true) : $('#terpasang-edit-m-ho').prop('checked', false);
                data.terpasang_m_23 == '1' ? $('#terpasang-edit-m-23').prop('checked', true) : $('#terpasang-edit-m-23').prop('checked', false);
                data.terpasang_m_4 == '1' ? $('#terpasang-edit-m-4').prop('checked', true)   : $('#terpasang-edit-m-4').prop('checked', false);

                // Pastikan roda box/incubator pada posisi terkunci
                data.terkunci_p_ho == '1' ? $('#terkunci-edit-p-ho').prop('checked', true) : $('#terkunci-edit-p-ho').prop('checked', false);
                data.terkunci_p_10 == '1' ? $('#terkunci-edit-p-10').prop('checked', true) : $('#terkunci-edit-p-10').prop('checked', false);
                data.terkunci_s_ho == '1' ? $('#terkunci-edit-s-ho').prop('checked', true) : $('#terkunci-edit-s-ho').prop('checked', false);
                data.terkunci_s_18 == '1' ? $('#terkunci-edit-s-18').prop('checked', true) : $('#terkunci-edit-s-18').prop('checked', false);
                data.terkunci_m_ho == '1' ? $('#terkunci-edit-m-ho').prop('checked', true) : $('#terkunci-edit-m-ho').prop('checked', false);
                data.terkunci_m_23 == '1' ? $('#terkunci-edit-m-23').prop('checked', true) : $('#terkunci-edit-m-23').prop('checked', false);
                data.terkunci_m_4 == '1' ? $('#terkunci-edit-m-4').prop('checked', true)   : $('#terkunci-edit-m-4').prop('checked', false);

                // Pastikan pintu inkubator tertutup bila tidak ada tindakan
                data.tindakan_p_ho == '1' ? $('#tindakan-edit-p-ho').prop('checked', true) : $('#tindakan-edit-p-ho').prop('checked', false);
                data.tindakan_p_10 == '1' ? $('#tindakan-edit-p-10').prop('checked', true) : $('#tindakan-edit-p-10').prop('checked', false);
                data.tindakan_s_ho == '1' ? $('#tindakan-edit-s-ho').prop('checked', true) : $('#tindakan-edit-s-ho').prop('checked', false);
                data.tindakan_s_18 == '1' ? $('#tindakan-edit-s-18').prop('checked', true) : $('#tindakan-edit-s-18').prop('checked', false);
                data.tindakan_m_ho == '1' ? $('#tindakan-edit-m-ho').prop('checked', true) : $('#tindakan-edit-m-ho').prop('checked', false);
                data.tindakan_m_23 == '1' ? $('#tindakan-edit-m-23').prop('checked', true) : $('#tindakan-edit-m-23').prop('checked', false);
                data.tindakan_m_4 == '1' ? $('#tindakan-edit-m-4').prop('checked', true)   : $('#tindakan-edit-m-4').prop('checked', false);

                // Paraf
                data.paraff_p_ho == '1' ? $('#paraff-edit-p-ho').prop('checked', true) : $('#paraff-edit-p-ho').prop('checked', false);
                data.paraff_p_10 == '1' ? $('#paraff-edit-p-10').prop('checked', true) : $('#paraff-edit-p-10').prop('checked', false);
                data.paraff_s_ho == '1' ? $('#paraff-edit-s-ho').prop('checked', true) : $('#paraff-edit-s-ho').prop('checked', false);
                data.paraff_s_18 == '1' ? $('#paraff-edit-s-18').prop('checked', true) : $('#paraff-edit-s-18').prop('checked', false);
                data.paraff_m_ho == '1' ? $('#paraff-edit-m-ho').prop('checked', true) : $('#paraff-edit-m-ho').prop('checked', false);
                data.paraff_m_23 == '1' ? $('#paraff-edit-m-23').prop('checked', true) : $('#paraff-edit-m-23').prop('checked', false);
                data.paraff_m_4 == '1' ? $('#paraff-edit-m-4').prop('checked', true)   : $('#paraff-edit-m-4').prop('checked', false);

                $('#perawat-edit-1').val(data.id_perawat_1);
                $('#s2id_perawat-edit-1 a .select2c-chosen').html(data.perawat_1);

                $('#perawat-edit-2').val(data.id_perawat_2);
                $('#s2id_perawat-edit-2 a .select2c-chosen').html(data.perawat_2);

                $('#perawat-edit-3').val(data.id_perawat_3);
                $('#s2id_perawat-edit-3 a .select2c-chosen').html(data.perawat_3);

                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }



    // CPDPO
    function editRiwayatPemakaianObat(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-riwayat-pemakaian-obat');
        $('#update-rpo').children().remove();
        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_riwayat_pemakaian_obat") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                // console.log(data);
                $('#update-rpo').empty();
                $('#id-riwayat-pemakaian-obat').val(id);
                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-riwayat-pemakaian-obat').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                            <button type="button" class="btn btn-info waves-effect" onclick="updateRiwayatPemakaianObat(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-rpo').append(cttntndkn);
                data.alergii == '1' ? $('#alergii-1-edit').prop('checked', true) : $('#alergii-1-edit').prop('checked', false);
                data.alergii == '0' ? $('#alergii-2-edit').prop('checked', true) : $('#alergii-2-edit').prop('checked', false);
                $('#alergii-3-edit').val(data.alergii_ob);
                $('#rute-rpo-edit').val(data.rute_rpo);
                $('#dosis-rpo-edit').val(data.dosis_rpo);
                $('#frekuensi-rpo-edit').val(data.frekuensi_rpo);
                $('#eso-rpo-edit').val(data.eso_rpo);
                $('#r-farmasi-rpo-edit').val(data.r_farmasi_rpo);
                $('#tanggal-rpo-edit').val(data.tanggal_rpo);
                $('#tangggal-rpo-edit').val(data.tangggal_rpo);
                $('#nama-obat-rpo-edit').val(data.nama_obat_rpo);
                $('#s2id_nama-obat-rpo-edit a .select2c-chosen').html(data.nama_obat_1);
                $('#dokter-1-rpo-edit').val(data.dokter_1_rpo);
                $('#s2id_dokter-1-rpo-edit a .select2c-chosen').html(data.nama_dokter_1);
                $('#dokter-2-rpo-edit').val(data.dokter_2_rpo);
                $('#s2id_dokter-2-rpo-edit a .select2c-chosen').html(data.nama_dokter_2);

                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }


    // ILLIS
    function editRiwayatPemakaianObatInfus(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-riwayat-pemakaian-obat-infus');
        $('#update-rpo-infus').children().remove();
        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_riwayat_pemakaian_obat_infus") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#update-rpo-infus').empty();
                $('#id-riwayat-pemakaian-obat-infus').val(id);
                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-riwayat-pemakaian-obat-infus').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                            <button type="button" class="btn btn-info waves-effect" onclick="updateRiwayatPemakaianObatInfus(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-rpo-infus').append(cttntndkn);
 
                data.alergii == '1' ? $('#alergiii-1-edit').prop('checked', true) : $('#alergii-1-edit').prop('checked', false);
                data.alergii == '0' ? $('#alergiii-2-edit').prop('checked', true) : $('#alergii-2-edit').prop('checked', false);
                $('#alergiii-3-edit').val(data.alergii_obb);
                $('#rute-rpo-edit').val(data.rute_rpo);
                $('#dosis-rpo-edit').val(data.dosis_rpo);
                $('#frekuensi-rpo-edit').val(data.frekuensi_rpo);
                $('#eso-rpo-edit').val(data.eso_rpo);
                $('#r-farmasi-rpo-edit').val(data.r_farmasi_rpo);
                $('#rute-rpoo-edit').val(data.rute_rpoo);
                $('#dosis-rpoo-edit').val(data.dosis_rpoo);
                $('#frekuensi-rpoo-edit').val(data.frekuensi_rpoo);
                $('#eso-rpoo-edit').val(data.eso_rpoo);
                $('#r-farmasi-rpoo-edit').val(data.r_farmasi_rpoo);
                $('#tanggal-rpoo-edit').val(data.tanggal_rpoo);
                $('#tangggal-rpoo-edit').val(data.tangggal_rpoo);
                $('#nama-obat-rpoo-edit').val(data.nama_obat_rpoo);
                $('#s2id_nama-obat-rpoo-edit a .select2c-chosen').html(data.nama_obat_2);
                $('#dokter-1-rpoo-edit').val(data.dokter_1_rpoo);
                $('#s2id_dokter-1-rpoo-edit a .select2c-chosen').html(data.nama_dokter_3);
                $('#dokter-2-rpoo-edit').val(data.dokter_2_rpoo);
                $('#s2id_dokter-2-rpoo-edit a .select2c-chosen').html(data.nama_dokter_4);
                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }


    // WPT  
    function editWaktuPemberianTanggal(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-waktu-pemberian-tanggal');
        $('#update-wpt').children().remove();
        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_waktu_pemberian_tanggal") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#update-wpt').empty();
                $('#id-waktu-pemberian-tanggal').val(id);
                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-waktu-pemberian-tanggal').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                            <button type="button" class="btn btn-info waves-effect" onclick="updateWaktuPemberianTanggal(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-wpt').append(cttntndkn);
                $('#hari-wpt-edit').val(data.hari_wpt);
                $('#jam-wpt-edit').val(data.jam_wpt);
                $('#pasien-keluarga-wpt-edit').val(data.pasien_keluarga_wpt);
                data.pagi_wpt == '1' ? $('#pagi-wpt-edit').prop('checked', true) : $('#pagi-wpt-edit').prop('checked', false);
                data.siang_wpt == '1' ? $('#siang-wpt-edit').prop('checked', true) : $('#siang-wpt-edit').prop('checked', false);
                data.sore_wpt == '1' ? $('#sore-wpt-edit').prop('checked', true) : $('#sore-wpt-edit').prop('checked', false);
                data.malam_wpt == '1' ? $('#malam-wpt-edit').prop('checked', true) : $('#malam-wpt-edit').prop('checked', false);
                $('#tanggal-wpt-edit').val(data.tanggal_wpt);
                $('#perawat-1-wpt-edit').val(data.perawat_1_wpt);
                $('#s2id_perawat-1-wpt-edit a .select2c-chosen').html(data.nama_perawat_1);
                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    // IWPT  
    function editWaktuPemberianTanggalInfus(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-waktu-pemberian-tanggal-infus');
        $('#update-wpt-infus').children().remove();
        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_waktu_pemberian_tanggal_infus") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                // console.log(split);
                $('#update-wpt-infus').empty();
                $('#id-waktu-pemberian-tanggal-infus').val(id);
                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-waktu-pemberian-tanggal-infus').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                            <button type="button" class="btn btn-info waves-effect" onclick="updateWaktuPemberianTanggalInfus(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-wpt-infus').append(cttntndkn);

                $('#hari-wptt-edit').val(data.hari_wptt);
                $('#jam-wptt-edit').val(data.jam_wptt);
                $('#pasien-keluarga-wptt-edit').val(data.pasien_keluarga_wptt);
                data.pagi_wptt == '1' ? $('#pagi-wptt-edit').prop('checked', true) : $('#pagi-wptt-edit').prop('checked', false);
                data.siang_wptt == '1' ? $('#siang-wptt-edit').prop('checked', true) : $('#siang-wptt-edit').prop('checked', false);
                data.sore_wptt == '1' ? $('#sore-wptt-edit').prop('checked', true) : $('#sore-wptt-edit').prop('checked', false);
                data.malam_wptt == '1' ? $('#malam-wptt-edit').prop('checked', true) : $('#malam-wptt-edit').prop('checked', false);

                $('#tanggal-wptt-edit').val(data.tanggal_wptt);

                $('#perawat-2-wptt-edit').val(data.perawat_2_wptt);
                $('#s2id_perawat-2-wptt-edit a .select2c-chosen').html(data.nama_perawat_2);

                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

   
    // MPP-C  
    // function editMonitoringPasieen(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
    //     const modal = $('#modal-edit-monitoring-pasieen');
    //     $('#update-mpp').children().remove();
    //     $.ajax({
    //         type: 'GET',
    //         url: '<?= base_url("pelayanan/api/pelayanan/get_monitoring_pasieen") ?>/id/' +
    //             id,
    //         cache: false,
    //         dataType: 'JSON',
    //         success: function(data) {
    //             // console.log(split);
    //             $('#update-mpp').empty();
    //             $('#id-monitoring-pasieen').val(id);
    //             let cttntndkn = '';
    //             cttntndkn =
    //                 `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-monitoring-pasieen').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
    //                 <button type="button" class="btn btn-info waves-effect" onclick="updateMonitoringPasieen(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
    //             $('#update-mpp').append(cttntndkn);
    //             $('#tdarah-mpp-edit').val(data.tdarah_mpp);
    //             $('#saturasi-mppp-edit').val(data.saturasi_mppp);
    //             $('#toksigen-mpp-edit').val(data.toksigen_mpp);
    //             $('#skesadaran-mpp-edit').val(data.skesadaran_mpp);
    //             $('#kategori-mpp-edit').val(data.kategori_mpp);
    //             $('#pengawasan-mpp-edit').val(data.pengawasan_mpp);
    //             $('#diit-mpp-edit').val(data.diit_mpp);
    //             $('#oral-mpp-edit').val(data.oral_mpp);
    //             $('#ngt-mpp-edit').val(data.ngt_mpp);
    //             $('#paranteral-mpp-edit').val(data.paranteral_mpp);
    //             $('#paranteral-mppp-edit').val(data.paranteral_mppp);
    //             $('#produk-mpp-edit').val(data.produk_mpp);
    //             $('#input-mpp-edit').val(data.input_mpp);
    //             $('#urin-mpp-edit').val(data.urin_mpp);
    //             $('#bab-mpp-edit').val(data.bab_mpp);
    //             $('#gastrik-mpp-edit').val(data.gastrik_mpp);
    //             $('#wsd-mpp-edit').val(data.wsd_mpp);
    //             $('#iwl-mpp-edit').val(data.iwl_mpp);
    //             $('#output-mpp-edit').val(data.output_mpp);
    //             $('#blance-cairan-mpp-edit').val(data.blance_cairan_mpp);
    //             $('#tgl-mpp-edit').val(data.tgl_mpp);
    //             $('#jam-mpp-edit').val(data.jam_mpp);
    //             $('#s2id_perawat-mpp-edit a .select2c-chosen').html(data.nama_perawat);
    //             $('#perawat-mpp-edit').val(data.perawat_mpp);
    //             modal.modal('show');
    //         },
    //         error: function(e) {
    //             accessFailed(e.status);
    //         }
    //     })
    // }







    // PKN
    function editPengawasanKhususNeonatus(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-pengawasan-khusus-neonatus');
        $('#update-pkn').children().remove();
        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_pengawasan_khusus_neonatus") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                // console.log(split);
                $('#update-pkn').empty();
                $('#id-pengawasan-khusus-neonatus').val(id);
                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-pengawasan-khusus-neonatus').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
					<button type="button" class="btn btn-info waves-effect" onclick="updatePengawasanKhususNeonatus(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-pkn').append(cttntndkn);
                $('#bb-pkn-edit').val(data.bb_pkn);
                $('#lp-pkn-edit').val(data.lp_pkn);
                $('#tgl-pkn-edit').val(data.tgl_pkn);
                $('#jam-pkn-edit').val(data.jam_pkn);
                $('#kesadaran-pkn-edit').val(data.kesadaran_pkn);
                $('#pasien-pkn-edit').val(data.pasien_pkn);
                $('#inkubator-pkn-edit').val(data.inkubator_pkn);
                $('#nadi-pkn-edit').val(data.nadi_pkn);
                $('#rr-pkn-edit').val(data.rr_pkn);
                $('#modus-pkn-edit').val(data.modus_pkn);
                $('#peep-pkn-edit').val(data.peep_pkn);
                $('#buble-pkn-edit').val(data.buble_pkn);
                $('#fio2-pkn-edit').val(data.fio2_pkn);
                $('#spo2-pkn-edit').val(data.spo2_pkn);
                $('#flow-pkn-edit').val(data.flow_pkn);
                $('#air-pkn-edit').val(data.air_pkn);
                $('#suhu-pkn-edit').val(data.suhu_pkn);
                $('#line1-pkn-edit').val(data.line1_pkn);
                $('#line2-pkn-edit').val(data.line2_pkn);
                $('#plebitis-pkn-edit').val(data.plebitis_pkn);
                $('#oral-pkn-edit').val(data.oral_pkn);
                $('#jml-pkn-edit').val(data.jml_pkn);
                $('#muntah-pkn-edit').val(data.muntah_pkn);
                $('#residu-pkn-edit').val(data.residu_pkn);
                $('#bak-pkn-edit').val(data.bak_pkn);
                $('#bab-pkn-edit').val(data.bab_pkn);
                $('#foto-therapy-pkn-edit').val(data.foto_therapy_pkn);
                $('#obat-pkn-edit').val(data.obat_pkn);
                $('#s2id_obat-pkn-edit a .select2c-chosen').html(data.nama_obat);
                $('#perawat-pkn-edit').val(data.perawat_pkn);
                $('#s2id_perawat-pkn-edit a .select2c-chosen').html(data.nama_perawat);
                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }



    function showPengkajianUlangResikoJatuhPasienAnak(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-pengkajian-ulang-anak tbody').empty();
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";
        if (data !== null) {
            $.each(data, function(i, v) {

                const selOp =
                    '<td align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editPengkajianUlangResikoJatuhPasienAnak(this, ' +
                    v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit"></i> </button> <button type="button" class="btn btn-secondary btn-xs" onclick="hapusPengkajianUlangResikoJatuhPasienAnak(this, ' +
                    v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';

                let html = /* html */ `
                    <tr>
                        <td class="number-terapi" align="center">${(++i)}</td>
                        <td align="center">${v.tanggal_pengkajian}</td>
                        <td align="center">${v.paraf == '1' ? '&check;' : '&#10006;'}</td>
                        <td align="center">${v.perawat}</td>
                        <td align="center">${v.jumlah_skor}</td>
                        <td align="center">${v.akun_user}</td>
                        ${selOp}
                    </tr>
                `;
                $('#tabel-pengkajian-ulang-anak tbody').append(html);
            })
        }

    }

    function showPengkajianUlangRisikoJatuhPasienLansia(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-purjpl tbody').empty();
        if (data !== null) {
            $.each(data, function(i, v) {

                const selOp =
                    '<td align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editPengkajianUlangResikoJatuhPasienLansia(this, ' +
                    v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit"></i> </button> <button type="button" class="btn btn-secondary btn-xs" onclick="hapusPengkajianUlangResikoJatuhPasienLansia(this, ' +
                    v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';

                let html = /* html */ `
                    <tr>
                        <td class="number-terapi" align="center">${(++i)}</td>
                        <td align="center">${v.tanggal_pengkajian}</td>
                        <td align="center">${v.paraf == '1' ? '&check;' : '&#10006;'}</td>
                        <td align="center">${v.perawat}</td>
                        <td align="center">${v.jumlah_skor}</td>
                        <td align="center">${v.akun_user}</td>
                        ${selOp}
                    </tr>
                `;
                $('#tabel-purjpl tbody').append(html);
            })
        }

    }

    function showUpayaPencegahanRisikoJatuhPasienLansia(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-uprjpl .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {

                const selOp =
                    '<td align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editUpayaPencegahanRisikoJatuhPasienLansia(this, ' +
                    v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit"></i> </button> <button type="button" class="btn btn-secondary btn-xs" onclick="hapusUpayaPencegahanResikoJatuhPasienLansia(this, ' +
                    v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';

                let html = /* html */ `
                    <tr>
                        <td class="number-terapi" align="center">${(++i)}</td>
                        <td align="center">${v.tanggal_pengkajian}</td>
                        <td align="center">${v.perawat_p || '-' }</td>
                        <td align="center">${v.perawat_s || '-'}</td>
                        <td align="center">${v.perawat_m || '-'}</td>
                        <td align="center">${v.akun_user}</td>
                        ${selOp}
						<td align="center"><button type="button" class="btn btn-info btn-xxs" data-toggle="collapse" data-target="#data-collapse-${i}" aria-expanded="false" aria-controls="data-collapse-${i}"><i class="fas fa-expand"></i> Expand</button></td>
                    </tr>
					<tr class="collapse" id="data-collapse-${i}">
						<td colspan="8">
							<table class="table table-sm table-striped table-bordered" style="margin-top: .5rem">
								<thead>
								<tr>
									<th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
									<th class="center" colspan="2">Pagi</th>
									<th class="center" colspan="2">Siang</th>
									<th class="center" colspan="3">Malam</th>
								</tr>
								<tr>
									<th class="center">Hand Over</th>
									<th class="center">Jam 10</th>
									<th class="center">Hand Over</th>
									<th class="center">Jam 18</th>
									<th class="center">Hand Over</th>
									<th class="center">Jam 23</th>
									<th class="center">Jam 4</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
								</tr>
								<tr>
									<td>Bel berfungsi dan mudah dijangkau</td>
									<td class="center">${v.bel_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.bel_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.bel_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.bel_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.bel_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.bel_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.bel_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Roda tempat tidur terkunci</td>
									<td class="center">${v.roda_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.roda_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.roda_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.roda_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.roda_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.roda_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.roda_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Posisikan tempat tidur pada posisi terendah</td>
									<td class="center">${v.ptt_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ptt_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ptt_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ptt_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ptt_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ptt_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ptt_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Pagar pengaman tempat tidur dinaikan</td>
									<td class="center">${v.ppt_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ppt_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ppt_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ppt_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ppt_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ppt_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.ppt_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Penerangan cukup</td>
									<td class="center">${v.penerangan_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.penerangan_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.penerangan_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.penerangan_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.penerangan_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.penerangan_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.penerangan_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
									<td class="center">${v.alas_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alas_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alas_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alas_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alas_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alas_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alas_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Lantai kering dan tidak licin</td>
									<td class="center">${v.lantai_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.lantai_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.lantai_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.lantai_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.lantai_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.lantai_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.lantai_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Dekatkan alat-alat pasien</td>
									<td class="center">${v.alat_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alat_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alat_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alat_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alat_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alat_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.alat_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Edukasi pasien tentang efek samping obat yang diberikan</td>
									<td class="center">${v.edukasi_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.edukasi_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.edukasi_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.edukasi_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.edukasi_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.edukasi_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.edukasi_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
									<td class="center">${v.commode_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.commode_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.commode_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.commode_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.commode_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.commode_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.commode_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
								</tr>
								<tr>
									<td>Pasang gelang khusus (Warna Kuning)</td>
									<td class="center">${v.gelang_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.gelang_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.gelang_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.gelang_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.gelang_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.gelang_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.gelang_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
									<td class="center">${v.station_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.station_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.station_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.station_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.station_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.station_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.station_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td class="bold">Paraf</td>
									<td class="center">${v.paraf_p_ho == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraf_p_10 == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraf_s_ho == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraf_s_18 == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraf_m_ho == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraf_m_23 == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraf_m_4 == '1' ? '&check;' : '&#10006;'}</td>
								</tr>
								</tbody>
							</table>
						</td>
					</tr>
                `;

                $('#tabel-uprjpl .body-table').append(html);

                numberUprjpl = i;
            })
        }
    }



    // UPRJPN    
    function showUpayaPencegahanRisikoJatuhPadaNeonatus(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-uprjpn .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {
                const selOp =
                    '<td align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editUpayaPencegahanRisikoJatuhPadaNeonatus(this, ' +
                    v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit"></i> </button> <button type="button" class="btn btn-secondary btn-xs" onclick="hapusUpayaPencegahanResikoJatuhPadaNeonatus(this, ' +
                    v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';

                let html = /* html */ `
                    <tr>
                        <td class="number-terapi" align="center">${(++i)}</td>
                        <td align="center">${v.tanggal_pengkajian}</td>
                        <td align="center">${v.perawat_1 || '-' }</td>
                        <td align="center">${v.perawat_2 || '-'}</td>
                        <td align="center">${v.perawat_3 || '-'}</td>
                        <td align="center">${v.akun_user}</td>
                        ${selOp}
						<td align="center"><button type="button" class="btn btn-info btn-xxs" data-toggle="collapse" data-target="#data-collapse-${i}" aria-expanded="false" aria-controls="data-collapse-${i}"><i class="fas fa-expand"></i> Expand</button></td>
                    </tr>
					<tr class="collapse" id="data-collapse-${i}">
						<td colspan="8">
							<table class="table table-sm table-striped table-bordered" style="margin-top: .5rem">
								<thead>
								<tr>
									<th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
									<th class="center" colspan="2">Pagi</th>
									<th class="center" colspan="2">Siang</th>
									<th class="center" colspan="3">Malam</th>
								</tr>
								<tr>
									<th class="center">Hand Over</th>
									<th class="center">Jam 10</th>
									<th class="center">Hand Over</th>
									<th class="center">Jam 18</th>
									<th class="center">Hand Over</th>
									<th class="center">Jam 23</th>
									<th class="center">Jam 4</th>
								</tr>
								</thead>
								<tbody>
								<tr>
									<td colspan="8" class="bold text-uppercase"></td>
								</tr>
								<tr>
									<td>Posisi tanda Risiko  jatuh tetap ada/terpasang</td>
									<td class="center">${v.terpasang_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terpasang_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terpasang_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terpasang_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terpasang_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terpasang_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terpasang_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Pastikan roda box/incubator pada posisi terkunci</td>
									<td class="center">${v.terkunci_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terkunci_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terkunci_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terkunci_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terkunci_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terkunci_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.terkunci_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
								<tr>
									<td>Pastikan pintu inkubator tertutup bila tidak ada tindakan</td>
									<td class="center">${v.tindakan_p_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.tindakan_p_10 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.tindakan_s_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.tindakan_s_18 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.tindakan_m_ho == '1' ? '&check;' : ''}</td>
									<td class="center">${v.tindakan_m_23 == '1' ? '&check;' : ''}</td>
									<td class="center">${v.tindakan_m_4 == '1' ? '&check;' : ''}</td>
								</tr>
					
								<tr>
									<td class="bold">Paraf</td>
									<td class="center">${v.paraff_p_ho == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraff_p_10 == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraff_s_ho == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraff_s_18 == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraff_m_ho == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraff_m_23 == '1' ? '&check;' : '&#10006;'}</td>
									<td class="center">${v.paraff_m_4 == '1' ? '&check;' : '&#10006;'}</td>
								</tr>
								</tbody>
							</table>
						</td>
					</tr>
                `;
                $('#tabel-uprjpn .body-table').append(html);
                numberUprjpn = i;
            })
        }
    }




    // CPDPO
    function showRiwayatPemakaianObat(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-rpo .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {
                const selOp =
                    '<td align="center"><button type="button" class="btn btn-secondary btn-xs"onclick="editRiwayatPemakaianObat(this, ' + v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit" ></i> </button> <button type="button" class="btn btn-secondary btn-xs"onclick="hapusRiwayatPemakaianObat($(this),' + v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';

                let html = /* html */ `
                    <tr>
                        <td class="number-terapi" align="center">${(++i)}</td>
                        <td class="center">${v.alergii == '1' ? 'ada' : 'tidak ada'}</td>
                        <td align="center">${v.alergii_ob || '-'}</td>
                        <td align="center">${v.nama_obat_1 || '-'}</td>
                        <td align="center">${v.rute_rpo || '-'}</td>
                        <td align="center">${v.dosis_rpo || '-'}</td>
                        <td align="center">${v.frekuensi_rpo || '-'}</td>
                        <td align="center">${v.tanggal_rpo || '-'}</td>
                        <td align="center">${v.nama_dokter_1 || '-'}</td>
                        <td align="center">${v.tangggal_rpo || '-'}</td>                   
                        <td align="center">${v.nama_dokter_2 || '-'}</td>
                        <td align="center">${v.eso_rpo || '-'}</td>                   
                        <td align="center">${v.r_farmasi_rpo || '-'}</td>
                        <td align="center">${v.akun_user}</td>
                        ${selOp}
                        <td align="center"></td>
                    </tr>
                         
                `;
                $('#tabel-rpo .body-table').append(html);
                numberRpo = i;
            })
        }
    }


    // ILLIS
    function showRiwayatPemakaianObatInfus(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-rpo-infus .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {
                const selOp =
                    '<td align="center"><button type="button" class="btn btn-secondary btn-xs"onclick="editRiwayatPemakaianObatInfus(this, ' + v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit" ></i> </button> <button type="button" class="btn btn-secondary btn-xs"onclick="hapusRiwayatPemakaianObatInfus($(this),' + v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';

                let html = /* html */ `
                    <tr>                    
                        <td class="number-terapi" align="center">${(++i)}</td>
                        <td class="center">${v.alergiii == '1' ? 'ada' : 'tidak ada'}</td>
                        <td align="center">${v.alergii_obb || '-'}</td>
                        <td align="center">${v.nama_obat_2 || '-'}</td>
                        <td align="center">${v.rute_rpoo || '-'}</td>
                        <td align="center">${v.dosis_rpoo || '-'}</td>
                        <td align="center">${v.frekuensi_rpoo || '-'}</td>
                        <td align="center">${v.tanggal_rpoo || '-'}</td>
                        <td align="center">${v.nama_dokter_3 || '-'}</td>
                        <td align="center">${v.tangggal_rpoo || '-'}</td>                   
                        <td align="center">${v.nama_dokter_4 || '-'}</td>
                        <td align="center">${v.eso_rpoo || '-'}</td>                   
                        <td align="center">${v.r_farmasi_rpoo || '-'}</td>
                        <td align="center">${v.akun_user}</td>
                        ${selOp}
                        <td align="center"></td>>
                    </tr>                           
                `;
                $('#tabel-rpo-infus .body-table').append(html);
                numberRpoi = i;
            })
        }
    }


    // WPT 
    function showWaktuPemberianTanggal(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-wpt .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {
                const selOp =

                     '<td align="center"><button type="button" class="btn btn-secondary btn-xs"onclick="editWaktuPemberianTanggal(this, ' + v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit" ></i> </button> <button type="button" class="btn btn-secondary btn-xs"onclick="hapusWaktuPemberianTanggal($(this),' + v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';                               
                let html = /* html */ `
                    <tr>
                        <td class="number-terapi" align="center">${(++i)}</td>
                        <td align="center">${v.tanggal_wpt || '-'}</td>
                        <td align="center">${v.hari_wpt || '-'}</td>
                        <td align="center">${v.jam_wpt || '-'}</td>
                        <td align="center">${v.nama_perawat_1 || '-'}</td>
                        <td align="center">${v.pasien_keluarga_wpt || '-'}</td>
                        <td class="center">${v.pagi_wpt == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.siang_wpt == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.sore_wpt == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.malam_wpt == '1' ? '&check;' : '&#10006;'}</td>
                        <td align="center">${v.akun_user}</td>
                        ${selOp}
                        <td align="center"></td>
                    </tr>              
                `;
                $('#tabel-wpt .body-table').append(html);
                numberWpt = i;
            })
        }
    }

    // IWPT
    function showWaktuPemberianTanggalInfus(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-wpt-infus .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {
                const selOp =

                     '<td align="center"><button type="button" class="btn btn-secondary btn-xs"onclick="editWaktuPemberianTanggalInfus(this, ' + v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit" ></i> </button> <button type="button" class="btn btn-secondary btn-xs"onclick="hapusWaktuPemberianTanggalInfus($(this),' + v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';                               
                let html = /* html */ `
                    <tr> 
                        <td class="number-terapi" align="center">${(++i)}</td>                                  
                        <td align="center">${v.tanggal_wptt || '-'}</td>
                        <td align="center">${v.hari_wptt || '-'}</td>
                        <td align="center">${v.jam_wptt || '-'}</td>
                        <td align="center">${v.nama_perawat_2 || '-'}</td>
                        <td align="center">${v.pasien_keluarga_wptt || '-'}</td>
                        <td class="center">${v.pagi_wptt == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.siang_wptt == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.sore_wptt == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.malam_wptt == '1' ? '&check;' : '&#10006;'}</td>
                        <td align="center">${v.akun_user}</td>
                        ${selOp}
                        <td align="center"></td>                   
                    </tr>               
                `;
                $('#tabel-wpt-infus .body-table').append(html);
                numberWpti = i;
            })
        }
    }




    
    // MPP-C 
    // function showMonitoringPasieen(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
    //     // console.log(data);
    //     $('#tabel-mpp .body-table').empty();
    //     if (data !== null) {
    //         $.each(data, function(i, v) {
    //             const selOp =
    //                  '<td align="center"><button type="button" class="btn btn-secondary btn-xs"onclick="editMonitoringPasieen(this, ' + v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
    //                 '\')"><i class="fas fa-edit" ></i> </button> <button type="button" class="btn btn-secondary btn-xs"onclick="hapusMonitoringPasieen($(this),' + v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';                               
    //             let html = /* html */ `
    //                 <tr>
    //                     <td class="number-terapi" align="center">${(++i)}</td>
    //                     <td align="center">${v.tdarah_mpp || '-'}</td>
    //                     <td align="center">${v.saturasi_mppp || '-'}</td>
    //                     <td align="center">${v.toksigen_mpp || '-'} LPM</td>
    //                     <td align="center">${v.skesadaran_mpp || '-'}</td>
    //                     <td align="center">${v.kategori_mpp || '-'}</td>
    //                     <td align="center">${v.pengawasan_mpp || '-'}</td>
    //                     <td align="center">${v.diit_mpp || '-'}</td>
    //                     <td align="center"></td>
    //                     <td align="center"></td>
    //                     <td align="center">${v.oral_mpp || '-'} CC</td>
    //                     <td align="center">${v.ngt_mpp || '-'} CC</td>
    //                     <td align="center">${v.paranteral_mpp || '-'} CC</td>
    //                     <td align="center">${v.paranteral_mppp || '-'} CC</td>
    //                     <td align="center">${v.produk_mpp || '-'} CC</td>
    //                     <td align="center">${v.input_mpp || '-'} CC</td>
    //                     <td align="center"></td>
    //                     <td align="center"></td>
    //                     <td align="center">${v.urin_mpp || '-'} CC</td>
    //                     <td align="center">${v.bab_mpp || '-'}</td>
    //                     <td align="center">${v.gastrik_mpp || '-'} CC</td>
    //                     <td align="center">${v.wsd_mpp || '-'} CC</td>
    //                     <td align="center">${v.iwl_mpp || '-'} CC</td>
    //                     <td align="center">${v.output_mpp || '-'} CC</td> 
    //                     <td align="center">${v.blance_cairan_mpp || '-'} CC</td> 
    //                     <td align="center"></td>
    //                     <td align="center"></td>                      
    //                     <td align="center">${v.tgl_mpp || '-'}</td>
    //                     <td align="center">${v.jam_mpp || '-'}</td>
    //                     <td>${v.nama_perawat || '-'}</td>
    //                     <td align="center">${v.akun_user}</td>
    //                     ${selOp}
    //                     <td align="center"></td>
    //                 </tr>               
    //             `;               
    //             //  <td align="center"> <div style="display:flex"> ${v.oral_mpp || '-'} CC </div> </td>
    //             $('#tabel-mpp .body-table').append(html);
    //             numberMpp = i;
    //         })
    //     }
    // }


    
    // PKN 
    function showPengawasanKhususNeonatus(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        // console.log(data);
        $('#tabel-pkn .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {
                const selOp =

                     '<td align="center"><button type="button" class="btn btn-secondary btn-xs"onclick="editPengawasanKhususNeonatus(this, ' + v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit" ></i> </button> <button type="button" class="btn btn-secondary btn-xs"onclick="hapusPengawasanKhususNeonatus($(this),' + v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';                               
                let html = /* html */ `
                    <tr>
                        <td class="number-terapi" align="center">${(++i)}</td>           
                        <td align="center">${v.tgl_pkn || '-'}</td>
                        <td align="center">${v.jam_pkn || '-'}</td>
                        <td align="center" >${v.bb_pkn || '-'}</td>
                        <td align="center" >${v.lp_pkn || '-'}</td>
                        <td align="center" >${v.kesadaran_pkn || '-'}</td>
                        <td align="center" >${v.pasien_pkn || '-'}</td>
                        <td align="center" >${v.inkubator_pkn || '-'}</td>
                        <td align="center" >${v.nadi_pkn || '-'}</td>
                        <td align="center" >${v.rr_pkn || '-'}</td>
                        <td align="center" >${v.modus_pkn || '-'}</td>
                        <td align="center" >${v.peep_pkn || '-'}</td>
                        <td align="center" >${v.buble_pkn || '-'}</td>
                        <td align="center" >${v.fio2_pkn || '-'}</td>
                        <td align="center" >${v.spo2_pkn || '-'}</td>
                        <td align="center" >${v.flow_pkn || '-'}</td>
                        <td align="center" >${v.air_pkn || '-'}</td>
                        <td align="center" >${v.suhu_pkn || '-'}</td>
                        <td align="center" >${v.line1_pkn || '-'}</td>
                        <td align="center" >${v.line2_pkn || '-'}</td>
                        <td align="center" >${v.plebitis_pkn || '-'}</td>
                        <td align="center" >${v.oral_pkn || '-'}</td>
                        <td align="center" >${v.jml_pkn || '-'}</td>
                        <td align="center" >${v.muntah_pkn || '-'}</td>
                        <td align="center" >${v.residu_pkn || '-'}</td>
                        <td align="center" >${v.bak_pkn || '-'}</td>
                        <td align="center" >${v.bab_pkn || '-'}</td>
                        <td align="center" >${v.foto_therapy_pkn || '-'}</td>
                        <td>${v.nama_obat || '-'}</td>
                        <td>${v.nama_perawat || '-'}</td>
                        <td align="center" >${v.akun_user}</td>
                        ${selOp}
						<td align="center"></td>
                    </tr>				
                `;
                $('#tabel-pkn .body-table').append(html);
                numberPkn = i;
            })
        }
    }



    function updatePengkajianUalngResikoJatuhPasienAnak(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_pengkajian_ulang_resiko_jatuh_pasien_anak") ?>',
            data: $('#form-edit-pengkajian-ulang-resiko-jatuh-pasien-anak').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '3');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-pengkajian-ulang-resiko-jatuh-pasien-anak').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function updatePengkajianUalngRisikoJatuhPasienLansia(id_pendaftaran, id_layanan_pendaftaran, bed) {
        console.log($('#form-edit-pengkajian-ulang-risiko-jatuh-pasien-lansia').serializeArray())
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_pengkajian_ulang_risiko_jatuh_pasien_lansia") ?>',
            data: $('#form-edit-pengkajian-ulang-risiko-jatuh-pasien-lansia').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '3');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-pengkajian-ulang-risiko-jatuh-pasien-lansia').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function updateUpayaPencegahanRisikoJatuhPasienLansia(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_upaya_pencegahan_risiko_jatuh_pasien_lansia") ?>',
            data: $('#form-edit-upaya-pencegahan-risiko-jatuh-pasien-lansia').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '3');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-lansia').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }



    // UPRJPN updateUpayaPencegahanRisikoJatuhPadaNeonatus
    function updateUpayaPencegahanRisikoJatuhPadaNeonatus(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_upaya_pencegahan_risiko_jatuh_pada_neonatus") ?>',
            data: $('#form-edit-upaya-pencegahan-risiko-jatuh-pada-neonatus').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '3');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-upaya-pencegahan-risiko-jatuh-pada-neonatus').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }




    // CPDPO
    function updateRiwayatPemakaianObat(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_riwayat_pemakaian_obat") ?>',
            data: $('#form-edit-riwayat-pemakaian-obat').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '14');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }
                $('#modal-edit-riwayat-pemakaian-obat').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    // ILLIS
    function updateRiwayatPemakaianObatInfus(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_riwayat_pemakaian_obat_infus") ?>',
            data: $('#form-edit-riwayat-pemakaian-obat-infus').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '14');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }
                $('#modal-edit-riwayat-pemakaian-obat-infus').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }


    // WPT 
    function updateWaktuPemberianTanggal(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_waktu_pemberian_tanggal") ?>',
            data: $('#form-edit-waktu-pemberian-tanggal').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '14');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }
                $('#modal-edit-waktu-pemberian-tanggal').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }


    // IWPT
    function updateWaktuPemberianTanggalInfus(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_waktu_pemberian_tanggal_infus") ?>',
            data: $('#form-edit-waktu-pemberian-tanggal-infus').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '14');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }
                $('#modal-edit-waktu-pemberian-tanggal-infus').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }


   

    // MPP-C
    // function updateMonitoringPasieen(id_pendaftaran, id_layanan_pendaftaran, bed) {
    //     $.ajax({
    //         type: 'PUT',
    //         url: '<?= base_url("pelayanan/api/pelayanan/update_monitoring_pasieen") ?>',
    //         data: $('#form-edit-monitoring-pasieen').serialize(),
    //         cache: false,
    //         dataType: 'JSON',
    //         success: function(data) {
    //             if (data.status) {
    //                 messageEditSuccess();
    //                 $('#wizard_form_resume').bwizard('show', '15');
    //                 entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
    //             } else {
    //                 messageEditFailed();
    //             }
    //             $('#modal-edit-monitoring-pasieen').modal('hide');
    //         },
    //         error: function(e) {
    //             messageEditFailed();
    //         }
    //     });
    // }

    // PKN
    function updatePengawasanKhususNeonatus(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_pengawasan_khusus_neonatus") ?>',
            data: $('#form-edit-pengawasan-khusus-neonatus').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '16');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }
                $('#modal-edit-pengawasan-khusus-neonatus').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }



    function tambahPengkajianAnak() {
        if ($('#purjpa-tanggal-pengkajian').val() === '') {
            syams_validation('#purjpa-tanggal-pengkajian', 'Tanggal Pengkajian harus diisi.');
            return false;
        } else {
            syams_validation_remove('#purjpa-tanggal-pengkajian');
        }

        if ($('#purjpa-umur').val() === '') {
            syams_validation('#purjpa-umur', 'Umur harus diisi.');
            return false;
        } else {
            syams_validation_remove('#purjpa-umur');
        }

        if ($('#purjpa-jenis-kelamin').val() === '') {
            syams_validation('#purjpa-jenis-kelamin', 'Jenis Kelamin belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpa-jenis-kelamin');
        }

        if ($('#purjpa-diagnosis').val() === '') {
            syams_validation('#purjpa-diagnosis', 'Diagnosis belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpa-diagnosis');
        }

        if ($('#purjpa-ganguan-kognitif').val() === '') {
            syams_validation('#purjpa-ganguan-kognitif', 'Gangguan kognitif belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpa-ganguan-kognitif');
        }

        if ($('#purjpa-faktor-lingkungan').val() === '') {
            syams_validation('#purjpa-faktor-lingkungan', 'Faktor Lingkungan belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpa-faktor-lingkungan');
        }

        if ($('#purjpa-respon-pembedahan').val() === '') {
            syams_validation('#purjpa-respon-pembedahan', 'Respon Pembedahan belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpa-respon-pembedahan');
        }

        if ($('#purjpa-penggunaan-obat').val() === '') {
            syams_validation('#purjpa-penggunaan-obat', 'Penggunaan Obat belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpa-penggunaan-obat');
        }


        let html = '';
        let number = $('.nomer-pengkajian').length;
        let purjpa_tanggal_pengkajian = $('#purjpa-tanggal-pengkajian').val();
        let jumlah_skor = $('#purjpa-jumlah-skor').val();
        let umur = $('#purjpa-umur').val();
        let jenis_kelamin = $('#purjpa-jenis-kelamin').val();
        let diagnosis = $('#purjpa-diagnosis').val();
        let gangguan_kognitif = $('#purjpa-gangguan-kognitif').val();
        let faktor_lingkungan = $('#purjpa-faktor-lingkungan').val();
        let respon_pembedahan = $('#purjpa-respon-pembedahan').val();
        let penggunaan_obat = $('#purjpa-penggunaan-obat').val();
        let nama_perawat = $('#s2id_purjpa-perawat a .select2c-chosen').html();
        let id_perawat = $('#purjpa-perawat').val();
        let paraf = $('#purjpa-paraf').is(':checked');

        html = /* html */ `
            <tr>
                <td class="number-pengkajian" align="center">${++number}</td>
                <td align="center">
                	<input type="hidden" name="purjpa_tanggal_pengkajian[]" value="${purjpa_tanggal_pengkajian}">${purjpa_tanggal_pengkajian}
                </td>
                <td align="center">
                	<input type="hidden" name="purjpa_paraf[]" value="${paraf ? 1 : 0}">${paraf ? '&check;' : '&#10006;'}
                </td>
                <td align="center">
                	<input type="hidden" name="purjpa_perawat[]" value="${id_perawat}">${nama_perawat}
                </td>
                <td align="center">
                	<input type="hidden" name="jumlah_skor[]" value="${jumlah_skor}">
                	${jumlah_skor}
                </td>
                <td align="center">
					<?= $this->session->userdata('nama') ?>
					<input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
					<input type="hidden" name="pengkajian_date_anak[]" value="<?= date("Y-m-d H:i:s") ?>">
					<input type="hidden" name="umur[]" value="${umur}">
					<input type="hidden" name="jenis_kelamin[]" value="${jenis_kelamin}">
					<input type="hidden" name="diagnosis[]" value="${diagnosis}">
					<input type="hidden" name="gangguan_kognitif[]" value="${gangguan_kognitif}">
					<input type="hidden" name="faktor_lingkungan[]" value="${faktor_lingkungan}">
					<input type="hidden" name="respon_pembedahan[]" value="${respon_pembedahan}">
					<input type="hidden" name="penggunaan_obat[]" value="${penggunaan_obat}">
                </td>
                <td align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
        `;
        $('#tabel-pengkajian-ulang-anak tbody').append(html);
    }

    if (typeof numberPurjpl === 'undefined') {
        var numberPurjpl = 1;
    }

    function tambahPengkajianLansia() {
        if ($('#purjpl-tanggal-pengkajian').val() === '') {
            syams_validation('#purjpl-tanggal-pengkajian', 'Tanggal Pengkajian harus diisi.');
            return false;
        } else {
            syams_validation_remove('#purjpl-tanggal-pengkajian');
        }

        if ($('#purjpl-riwayat-jatuh').val() === '') {
            syams_validation('#purjpl-riwayat-jatuh', 'Riwayat jatuh belum diisi.');
            return false;
        } else {
            syams_validation_remove('#purjpl-riwayat-jatuh');
        }

        if ($('#purjpl-mental').val() === '') {
            syams_validation('#purjpl-mental', 'Mental belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpl-mental');
        }

        if ($('#purjpl-penglihatan').val() === '') {
            syams_validation('#purjpl-penglihatan', 'Penglihatan belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpl-penglihatan');
        }

        if ($('#purjpl-berkemih').val() === '') {
            syams_validation('#purjpl-berkemih', 'Kebiasaan berkemih belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpl-berkemih');
        }

        if ($('#purjpl-transfer').val() === '') {
            syams_validation('#purjpl-transfer', 'Transfer belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpl-transfer');
        }

        if ($('#purjpl-mobilitas').val() === '') {
            syams_validation('#purjpl-mobilitas', 'Mobilitas belum diisi');
            return false;
        } else {
            syams_validation_remove('#purjpl-mobilitas');
        }

        let html = '';
        let number = $('.nomer-pengkajian').length;
        let purjpl_tanggal_pengkajian = $('#purjpl-tanggal-pengkajian').val();
        let jumlah_skor = $('#purjpl-jumlah-skor').val();
        let purjpl_pasien_dateng_karena_jatuh = $('#purjpl-pasien-datang-karena-jatuh').val();
        let purjpl_jatuh_2_bulan_terakhir = $('#purjpl-jatuh-2-bulan-terakhir').val();
        let purjpl_pasien_delirium = $('#purjpl-pasien-delirium').val();
        let purjpl_pasien_disorientasi = $('#purjpl-pasien-disorientasi').val();
        let purjpl_pasien_agitasi = $('#purjpl-pasien-agitasi').val();
        let purjpl_pasien_kacamata = $('#purjpl-pasien-kacamata').val();
        let purjpl_pasien_buram = $('#purjpl-pasien-buram').val();
        let purjpl_pasien_galukoma = $('#purjpl-pasien-glaukoma').val();
        let purjpl_berkemih = $('#purjpl-pasien-berkemih').val();
        let purjpl_pasien_mandiri = $('#purjpl-mandiri').val();
        let purjpl_pasien_sedikit_bantuan = $('#purjpl-sedikit-bantuan').val();
        let purjpl_pasien_bantuan_nyata = $('#purjpl-bantuan-nyata').val();
        let purjpl_pasien_bantuan_total = $('#purjpl-bantuan-total').val();
        let purjpl_pasien_m_mandiri = $('#purjpl-m-mandiri').val();
        let purjpl_pasien_m_sedikit_bantuan = $('#purjpl-m-sedikit-bantuan').val();
        let purjpl_pasien_kursi_roda = $('#purjpl-kursi-roda').val();
        let purjpl_pasien_imobilisasi = $('#purjpl-imobilisasi').val();
        let nama_perawat = $('#s2id_purjpl-perawat a .select2c-chosen').html();
        let id_perawat = $('#purjpl-perawat').val();
        let paraf = $('#purjpl-paraf').is(':checked');

        html = /* html */ `
            <tr>
                <td class="number-pengkajian" align="center">${numberPurjpl++}</td>
                <td align="center">
                	<input type="hidden" name="purjpl_tanggal_pengkajian[]" value="${purjpl_tanggal_pengkajian}">${purjpl_tanggal_pengkajian}
                </td>
                <td align="center">
                	<input type="hidden" name="purjpl_paraf[]" value="${paraf ? 1 : 0}">${paraf ? '&check;' : '&#10006;'}
                </td>
                <td align="center">
                	<input type="hidden" name="purjpl_perawat[]" value="${id_perawat}">${nama_perawat}
                </td>
                <td align="center">
                	<input type="hidden" name="jumlah_skor[]" value="${jumlah_skor}">
                	${jumlah_skor}
                </td>
                <td align="center">
					<?= $this->session->userdata('nama') ?>
					<input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
					<input type="hidden" name="pengkajian_date_lansia[]" value="<?= date("Y-m-d H:i:s") ?>">
					<input type="hidden" name="purjpl_pasien_datang_karena_jatuh[]" value="${purjpl_pasien_dateng_karena_jatuh}">
					<input type="hidden" name="purjpl_jatuh_2_bulan_terakhir[]" value="${purjpl_jatuh_2_bulan_terakhir}">
					<input type="hidden" name="purjpl_pasien_delirium[]" value="${purjpl_pasien_delirium}">
					<input type="hidden" name="purjpl_pasien_disorientasi[]" value="${purjpl_pasien_disorientasi}">
					<input type="hidden" name="purjpl_pasien_agitasi[]" value="${purjpl_pasien_agitasi}">
					<input type="hidden" name="purjpl_pasien_kacamata[]" value="${purjpl_pasien_kacamata}">
					<input type="hidden" name="purjpl_pasien_buram[]" value="${purjpl_pasien_buram}">
					<input type="hidden" name="purjpl_pasien_galukoma[]" value="${purjpl_pasien_galukoma}">
					<input type="hidden" name="purjpl_berkemih[]" value="${purjpl_berkemih}">
					<input type="hidden" name="purjpl_pasien_mandiri[]" value="${purjpl_pasien_mandiri}">
					<input type="hidden" name="purjpl_pasien_sedikit_bantuan[]" value="${purjpl_pasien_sedikit_bantuan}">
					<input type="hidden" name="purjpl_pasien_bantuan_nyata[]" value="${purjpl_pasien_bantuan_nyata}">
					<input type="hidden" name="purjpl_pasien_bantuan_total[]" value="${purjpl_pasien_bantuan_total}">
					<input type="hidden" name="purjpl_pasien_m_mandiri[]" value="${purjpl_pasien_m_mandiri}">
					<input type="hidden" name="purjpl_pasien_m_sedikit_bantuan[]" value="${purjpl_pasien_m_sedikit_bantuan}">
					<input type="hidden" name="purjpl_pasien_kursi_roda[]" value="${purjpl_pasien_kursi_roda}">
					<input type="hidden" name="purjpl_pasien_imobilisasi[]" value="${purjpl_pasien_imobilisasi}">
                </td>
                <td align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
        `;
        $('#tabel-purjpl tbody').append(html);
    }

    if (typeof numberUprjpl === 'undefined') {
        var numberUprjpl = 1;
    }

    function tambahUpayaPencegahanLansia() {
        if ($('#uprjpl-tanggal-pengkajian').val() === '') {
            syams_validation('#uprjpl-tanggal-pengkajian', 'Tanggal Pengkajian harus diisi.');
            return false;
        } else {
            syams_validation_remove('#uprjpl-tanggal-pengkajian');
        }

        if ($('#uprjpl-perawat').val() === '') {
            syams_validation('#uprjpl-perawat', 'Nama perawat belum diisi.');
            return false;
        } else {
            syams_validation_remove('#uprjpl-perawat');
        }

        let html = '';
        let uprjpl_tanggal_pengkajian = $('#uprjpl-tanggal-pengkajian').val();
        let nama_perawat_p = $('#s2id_uprjpl-perawat-p a .select2c-chosen').html();
        let nama_perawat_s = $('#s2id_uprjpl-perawat-s a .select2c-chosen').html();
        let nama_perawat_m = $('#s2id_uprjpl-perawat-m a .select2c-chosen').html();
        let id_perawat_p = $('#uprjpl-perawat-p').val();
        let id_perawat_s = $('#uprjpl-perawat-s').val();
        let id_perawat_m = $('#uprjpl-perawat-m').val();

        // Bel berfungsi dan mudah dihangkau
        let bel_p_ho = $('#uprjpl-bel-p-ho').is(':checked');
        let bel_p_10 = $('#uprjpl-bel-p-10').is(':checked');
        let bel_s_ho = $('#uprjpl-bel-s-ho').is(':checked');
        let bel_s_18 = $('#uprjpl-bel-s-18').is(':checked');
        let bel_m_ho = $('#uprjpl-bel-m-ho').is(':checked');
        let bel_m_23 = $('#uprjpl-bel-m-23').is(':checked');
        let bel_m_4 = $('#uprjpl-bel-m-4').is(':checked');

        // Roda tempat tidur terkunci
        let roda_p_ho = $('#uprjpl-roda-p-ho').is(':checked');
        let roda_p_10 = $('#uprjpl-roda-p-10').is(':checked');
        let roda_s_ho = $('#uprjpl-roda-s-ho').is(':checked');
        let roda_s_18 = $('#uprjpl-roda-s-18').is(':checked');
        let roda_m_ho = $('#uprjpl-roda-m-ho').is(':checked');
        let roda_m_23 = $('#uprjpl-roda-m-23').is(':checked');
        let roda_m_4 = $('#uprjpl-roda-m-4').is(':checked');

        // Posisikan tempat tidur pada posisi terendah
        let ptt_p_ho = $('#uprjpl-ptt-p-ho').is(':checked');
        let ptt_p_10 = $('#uprjpl-ptt-p-10').is(':checked');
        let ptt_s_ho = $('#uprjpl-ptt-s-ho').is(':checked');
        let ptt_s_18 = $('#uprjpl-ptt-s-18').is(':checked');
        let ptt_m_ho = $('#uprjpl-ptt-m-ho').is(':checked');
        let ptt_m_23 = $('#uprjpl-ptt-m-23').is(':checked');
        let ptt_m_4 = $('#uprjpl-ptt-m-4').is(':checked');

        // Pagar pengaman tempat tidur dinaikan
        let ppt_p_ho = $('#uprjpl-ppt-p-ho').is(':checked');
        let ppt_p_10 = $('#uprjpl-ppt-p-10').is(':checked');
        let ppt_s_ho = $('#uprjpl-ppt-s-ho').is(':checked');
        let ppt_s_18 = $('#uprjpl-ppt-s-18').is(':checked');
        let ppt_m_ho = $('#uprjpl-ppt-m-ho').is(':checked');
        let ppt_m_23 = $('#uprjpl-ppt-m-23').is(':checked');
        let ppt_m_4 = $('#uprjpl-ppt-m-4').is(':checked');

        // Penerang cukup
        let penerangan_p_ho = $('#uprjpl-penerangan-p-ho').is(':checked');
        let penerangan_p_10 = $('#uprjpl-penerangan-p-10').is(':checked');
        let penerangan_s_ho = $('#uprjpl-penerangan-s-ho').is(':checked');
        let penerangan_s_18 = $('#uprjpl-penerangan-s-18').is(':checked');
        let penerangan_m_ho = $('#uprjpl-penerangan-m-ho').is(':checked');
        let penerangan_m_23 = $('#uprjpl-penerangan-m-23').is(':checked');
        let penerangan_m_4 = $('#uprjpl-penerangan-m-4').is(':checked');

        // Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan
        let alas_p_ho = $('#uprjpl-alas-p-ho').is(':checked');
        let alas_p_10 = $('#uprjpl-alas-p-10').is(':checked');
        let alas_s_ho = $('#uprjpl-alas-s-ho').is(':checked');
        let alas_s_18 = $('#uprjpl-alas-s-18').is(':checked');
        let alas_m_ho = $('#uprjpl-alas-m-ho').is(':checked');
        let alas_m_23 = $('#uprjpl-alas-m-23').is(':checked');
        let alas_m_4 = $('#uprjpl-alas-m-4').is(':checked');

        // Lantai kering dan tidak licin
        let lantai_p_ho = $('#uprjpl-lantai-p-ho').is(':checked');
        let lantai_p_10 = $('#uprjpl-lantai-p-10').is(':checked');
        let lantai_s_ho = $('#uprjpl-lantai-s-ho').is(':checked');
        let lantai_s_18 = $('#uprjpl-lantai-s-18').is(':checked');
        let lantai_m_ho = $('#uprjpl-lantai-m-ho').is(':checked');
        let lantai_m_23 = $('#uprjpl-lantai-m-23').is(':checked');
        let lantai_m_4 = $('#uprjpl-lantai-m-4').is(':checked');

        // Dekatkan alat-alat pasien
        let alat_p_ho = $('#uprjpl-alat-p-ho').is(':checked');
        let alat_p_10 = $('#uprjpl-alat-p-10').is(':checked');
        let alat_s_ho = $('#uprjpl-alat-s-ho').is(':checked');
        let alat_s_18 = $('#uprjpl-alat-s-18').is(':checked');
        let alat_m_ho = $('#uprjpl-alat-m-ho').is(':checked');
        let alat_m_23 = $('#uprjpl-alat-m-23').is(':checked');
        let alat_m_4 = $('#uprjpl-alat-m-4').is(':checked');

        // Edukasi pasien tentang efek samping obat yang diberikan
        let edukasi_p_ho = $('#uprjpl-edukasi-p-ho').is(':checked');
        let edukasi_p_10 = $('#uprjpl-edukasi-p-10').is(':checked');
        let edukasi_s_ho = $('#uprjpl-edukasi-s-ho').is(':checked');
        let edukasi_s_18 = $('#uprjpl-edukasi-s-18').is(':checked');
        let edukasi_m_ho = $('#uprjpl-edukasi-m-ho').is(':checked');
        let edukasi_m_23 = $('#uprjpl-edukasi-m-23').is(':checked');
        let edukasi_m_4 = $('#uprjpl-edukasi-m-4').is(':checked');

        // Tidak meninggalkan pasien di kamar mandi saat menggunakan commode
        let commode_p_ho = $('#uprjpl-commode-p-ho').is(':checked');
        let commode_p_10 = $('#uprjpl-commode-p-10').is(':checked');
        let commode_s_ho = $('#uprjpl-commode-s-ho').is(':checked');
        let commode_s_18 = $('#uprjpl-commode-s-18').is(':checked');
        let commode_m_ho = $('#uprjpl-commode-m-ho').is(':checked');
        let commode_m_23 = $('#uprjpl-commode-m-23').is(':checked');
        let commode_m_4 = $('#uprjpl-commode-m-4').is(':checked');

        // Pasang gelang khusus
        let gelang_p_ho = $('#uprjpl-gelang-p-ho').is(':checked');
        let gelang_p_10 = $('#uprjpl-gelang-p-10').is(':checked');
        let gelang_s_ho = $('#uprjpl-gelang-s-ho').is(':checked');
        let gelang_s_18 = $('#uprjpl-gelang-s-18').is(':checked');
        let gelang_m_ho = $('#uprjpl-gelang-m-ho').is(':checked');
        let gelang_m_23 = $('#uprjpl-gelang-m-23').is(':checked');
        let gelang_m_4 = $('#uprjpl-gelang-m-4').is(':checked');

        // Tempatkan pasien di kamar yang paling dekat dengan Nurse Station
        let station_p_ho = $('#uprjpl-station-p-ho').is(':checked');
        let station_p_10 = $('#uprjpl-station-p-10').is(':checked');
        let station_s_ho = $('#uprjpl-station-s-ho').is(':checked');
        let station_s_18 = $('#uprjpl-station-s-18').is(':checked');
        let station_m_ho = $('#uprjpl-station-m-ho').is(':checked');
        let station_m_23 = $('#uprjpl-station-m-23').is(':checked');
        let station_m_4 = $('#uprjpl-station-m-4').is(':checked');

        // Paraf
        let paraf_p_ho = $('#uprjpl-paraf-p-ho').is(':checked');
        let paraf_p_10 = $('#uprjpl-paraf-p-10').is(':checked');
        let paraf_s_ho = $('#uprjpl-paraf-s-ho').is(':checked');
        let paraf_s_18 = $('#uprjpl-paraf-s-18').is(':checked');
        let paraf_m_ho = $('#uprjpl-paraf-m-ho').is(':checked');
        let paraf_m_23 = $('#uprjpl-paraf-m-23').is(':checked');
        let paraf_m_4 = $('#uprjpl-paraf-m-4').is(':checked');

        html = /* html */ `
            <tr class="row-in-${++numberUprjpl}">
                <td class="number-pengkajian" align="center">${numberUprjpl}</td>
                <td align="center">
                	<input type="hidden" name="uprjpl_tanggal_pengkajian[]" value="${uprjpl_tanggal_pengkajian}">${uprjpl_tanggal_pengkajian}
                </td>
                <td align="center">
                	<input type="hidden" name="uprjpl_perawat_p[]" value="${id_perawat_p}">${nama_perawat_p}
                </td>
                <td align="center">
                	<input type="hidden" name="uprjpl_perawat_s[]" value="${id_perawat_s}">${nama_perawat_s}
                </td>
                <td align="center">
                	<input type="hidden" name="uprjpl_perawat_m[]" value="${id_perawat_m}">${nama_perawat_m}
                </td>
                <td align="center">
					<?= $this->session->userdata('nama') ?>
					<input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
					<input type="hidden" name="pencegahan_date_lansia[]" value="<?= date("Y-m-d H:i:s") ?>">

					<input type="hidden" name="uprjpl_bel_p_ho[]" value="${bel_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_bel_p_10[]" value="${bel_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_bel_s_ho[]" value="${bel_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_bel_s_18[]" value="${bel_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_bel_m_ho[]" value="${bel_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_bel_m_23[]" value="${bel_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_bel_m_4[]" value="${bel_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_roda_p_ho[]" value="${roda_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_roda_p_10[]" value="${roda_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_roda_s_ho[]" value="${roda_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_roda_s_18[]" value="${roda_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_roda_m_ho[]" value="${roda_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_roda_m_23[]" value="${roda_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_roda_m_4[]" value="${roda_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_ptt_p_ho[]" value="${ptt_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_ptt_p_10[]" value="${ptt_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_ptt_s_ho[]" value="${ptt_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_ptt_s_18[]" value="${ptt_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_ptt_m_ho[]" value="${ptt_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_ptt_m_23[]" value="${ptt_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_ptt_m_4[]" value="${ptt_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_ppt_p_ho[]" value="${ppt_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_ppt_p_10[]" value="${ppt_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_ppt_s_ho[]" value="${ppt_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_ppt_s_18[]" value="${ppt_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_ppt_m_ho[]" value="${ppt_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_ppt_m_23[]" value="${ppt_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_ppt_m_4[]" value="${ppt_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_penerangan_p_ho[]" value="${penerangan_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_penerangan_p_10[]" value="${penerangan_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_penerangan_s_ho[]" value="${penerangan_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_penerangan_s_18[]" value="${penerangan_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_penerangan_m_ho[]" value="${penerangan_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_penerangan_m_23[]" value="${penerangan_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_penerangan_m_4[]" value="${penerangan_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_alas_p_ho[]" value="${alas_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_alas_p_10[]" value="${alas_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_alas_s_ho[]" value="${alas_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_alas_s_18[]" value="${alas_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_alas_m_ho[]" value="${alas_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_alas_m_23[]" value="${alas_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_alas_m_4[]" value="${alas_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_lantai_p_ho[]" value="${lantai_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_lantai_p_10[]" value="${lantai_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_lantai_s_ho[]" value="${lantai_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_lantai_s_18[]" value="${lantai_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_lantai_m_ho[]" value="${lantai_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_lantai_m_23[]" value="${lantai_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_lantai_m_4[]" value="${lantai_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_alat_p_ho[]" value="${alat_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_alat_p_10[]" value="${alat_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_alat_s_ho[]" value="${alat_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_alat_s_18[]" value="${alat_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_alat_m_ho[]" value="${alat_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_alat_m_23[]" value="${alat_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_alat_m_4[]" value="${alat_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_edukasi_p_ho[]" value="${edukasi_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_edukasi_p_10[]" value="${edukasi_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_edukasi_s_ho[]" value="${edukasi_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_edukasi_s_18[]" value="${edukasi_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_edukasi_m_ho[]" value="${edukasi_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_edukasi_m_23[]" value="${edukasi_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_edukasi_m_4[]" value="${edukasi_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_commode_p_ho[]" value="${commode_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_commode_p_10[]" value="${commode_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_commode_s_ho[]" value="${commode_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_commode_s_18[]" value="${commode_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_commode_m_ho[]" value="${commode_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_commode_m_23[]" value="${commode_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_commode_m_4[]" value="${commode_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_gelang_p_ho[]" value="${gelang_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_gelang_p_10[]" value="${gelang_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_gelang_s_ho[]" value="${gelang_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_gelang_s_18[]" value="${gelang_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_gelang_m_ho[]" value="${gelang_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_gelang_m_23[]" value="${gelang_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_gelang_m_4[]" value="${gelang_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_station_p_ho[]" value="${station_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_station_p_10[]" value="${station_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_station_s_ho[]" value="${station_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_station_s_18[]" value="${station_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_station_m_ho[]" value="${station_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_station_m_23[]" value="${station_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_station_m_4[]" value="${station_m_4 ? 1 : 0}">

					<input type="hidden" name="uprjpl_paraf_p_ho[]" value="${paraf_p_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_paraf_p_10[]" value="${paraf_p_10 ? 1 : 0}">
					<input type="hidden" name="uprjpl_paraf_s_ho[]" value="${paraf_s_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_paraf_s_18[]" value="${paraf_s_18 ? 1 : 0}">
					<input type="hidden" name="uprjpl_paraf_m_ho[]" value="${paraf_m_ho ? 1 : 0}">
					<input type="hidden" name="uprjpl_paraf_m_23[]" value="${paraf_m_23 ? 1 : 0}">
					<input type="hidden" name="uprjpl_paraf_m_4[]" value="${paraf_m_4 ? 1 : 0}">
                </td>
                <td align="center">
                    <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().parent().find('.row-in-' + numberUprjpl).remove(); numberUprjpl--;})()"><i class="fas fa-trash-alt"></i></button>
                </td>
                <td align="center"><button type="button" class="btn btn-info btn-xxs" data-toggle="collapse" data-target="#data-collapse-${numberUprjpl}" aria-expanded="false" aria-controls="data-collapse-${numberUprjpl}"><i class="fas fa-expand"></i> Expand</button></td>
            </tr>
            <tr class="collapse row-in-${numberUprjpl}" id="data-collapse-${numberUprjpl}">
            	<td colspan="8">
            		<table class="table table-sm table-striped table-bordered" style="margin-top: .5rem">
						<thead>
						<tr>
							<th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
							<th class="center" colspan="2">Pagi</th>
							<th class="center" colspan="2">Siang</th>
							<th class="center" colspan="3">Malam</th>
						</tr>
						<tr>
							<th class="center">Hand Over</th>
							<th class="center">Jam 10</th>
							<th class="center">Hand Over</th>
							<th class="center">Jam 18</th>
							<th class="center">Hand Over</th>
							<th class="center">Jam 23</th>
							<th class="center">Jam 4</th>
						</tr>
						</thead>
						<tbody>
						<tr>
							<td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
						</tr>
						<tr>
							<td>Bel berfungsi dan mudah dijangkau</td>
							<td class="center">${bel_p_ho ? '&check;' : ''}</td>
							<td class="center">${bel_p_10 ? '&check;' : ''}</td>
							<td class="center">${bel_s_ho ? '&check;' : ''}</td>
							<td class="center">${bel_s_18 ? '&check;' : ''}</td>
							<td class="center">${bel_m_ho ? '&check;' : ''}</td>
							<td class="center">${bel_m_23 ? '&check;' : ''}</td>
							<td class="center">${bel_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Roda tempat tidur terkunci</td>
							<td class="center">${roda_p_ho ? '&check;' : ''}</td>
							<td class="center">${roda_p_10 ? '&check;' : ''}</td>
							<td class="center">${roda_s_ho ? '&check;' : ''}</td>
							<td class="center">${roda_s_18 ? '&check;' : ''}</td>
							<td class="center">${roda_m_ho ? '&check;' : ''}</td>
							<td class="center">${roda_m_23 ? '&check;' : ''}</td>
							<td class="center">${roda_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Posisikan tempat tidur pada posisi terendah</td>
							<td class="center">${ptt_p_ho ? '&check;' : ''}</td>
							<td class="center">${ptt_p_10 ? '&check;' : ''}</td>
							<td class="center">${ptt_s_ho ? '&check;' : ''}</td>
							<td class="center">${ptt_s_18 ? '&check;' : ''}</td>
							<td class="center">${ptt_m_ho ? '&check;' : ''}</td>
							<td class="center">${ptt_m_23 ? '&check;' : ''}</td>
							<td class="center">${ptt_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Pagar pengaman tempat tidur dinaikan</td>
							<td class="center">${ppt_p_ho ? '&check;' : ''}</td>
							<td class="center">${ppt_p_10 ? '&check;' : ''}</td>
							<td class="center">${ppt_s_ho ? '&check;' : ''}</td>
							<td class="center">${ppt_s_18 ? '&check;' : ''}</td>
							<td class="center">${ppt_m_ho ? '&check;' : ''}</td>
							<td class="center">${ppt_m_23 ? '&check;' : ''}</td>
							<td class="center">${ppt_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Penerangan cukup</td>
							<td class="center">${penerangan_p_ho ? '&check;' : ''}</td>
							<td class="center">${penerangan_p_10 ? '&check;' : ''}</td>
							<td class="center">${penerangan_s_ho ? '&check;' : ''}</td>
							<td class="center">${penerangan_s_18 ? '&check;' : ''}</td>
							<td class="center">${penerangan_m_ho ? '&check;' : ''}</td>
							<td class="center">${penerangan_m_23 ? '&check;' : ''}</td>
							<td class="center">${penerangan_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
							<td class="center">${alas_p_ho ? '&check;' : ''}</td>
							<td class="center">${alas_p_10 ? '&check;' : ''}</td>
							<td class="center">${alas_s_ho ? '&check;' : ''}</td>
							<td class="center">${alas_s_18 ? '&check;' : ''}</td>
							<td class="center">${alas_m_ho ? '&check;' : ''}</td>
							<td class="center">${alas_m_23 ? '&check;' : ''}</td>
							<td class="center">${alas_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Lantai kering dan tidak licin</td>
							<td class="center">${lantai_p_ho ? '&check;' : ''}</td>
							<td class="center">${lantai_p_10 ? '&check;' : ''}</td>
							<td class="center">${lantai_s_ho ? '&check;' : ''}</td>
							<td class="center">${lantai_s_18 ? '&check;' : ''}</td>
							<td class="center">${lantai_m_ho ? '&check;' : ''}</td>
							<td class="center">${lantai_m_23 ? '&check;' : ''}</td>
							<td class="center">${lantai_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Dekatkan alat-alat pasien</td>
							<td class="center">${alat_p_ho ? '&check;' : ''}</td>
							<td class="center">${alat_p_10 ? '&check;' : ''}</td>
							<td class="center">${alat_s_ho ? '&check;' : ''}</td>
							<td class="center">${alat_s_18 ? '&check;' : ''}</td>
							<td class="center">${alat_m_ho ? '&check;' : ''}</td>
							<td class="center">${alat_m_23 ? '&check;' : ''}</td>
							<td class="center">${alat_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Edukasi pasien tentang efek samping obat yang diberikan</td>
							<td class="center">${edukasi_p_ho ? '&check;' : ''}</td>
							<td class="center">${edukasi_p_10 ? '&check;' : ''}</td>
							<td class="center">${edukasi_s_ho ? '&check;' : ''}</td>
							<td class="center">${edukasi_s_18 ? '&check;' : ''}</td>
							<td class="center">${edukasi_m_ho ? '&check;' : ''}</td>
							<td class="center">${edukasi_m_23 ? '&check;' : ''}</td>
							<td class="center">${edukasi_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
							<td class="center">${commode_p_ho ? '&check;' : ''}</td>
							<td class="center">${commode_p_10 ? '&check;' : ''}</td>
							<td class="center">${commode_s_ho ? '&check;' : ''}</td>
							<td class="center">${commode_s_18 ? '&check;' : ''}</td>
							<td class="center">${commode_m_ho ? '&check;' : ''}</td>
							<td class="center">${commode_m_23 ? '&check;' : ''}</td>
							<td class="center">${commode_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
						</tr>
						<tr>
							<td>Pasang gelang khusus (Warna Kuning)</td>
							<td class="center">${gelang_p_ho ? '&check;' : ''}</td>
							<td class="center">${gelang_p_10 ? '&check;' : ''}</td>
							<td class="center">${gelang_s_ho ? '&check;' : ''}</td>
							<td class="center">${gelang_s_18 ? '&check;' : ''}</td>
							<td class="center">${gelang_m_ho ? '&check;' : ''}</td>
							<td class="center">${gelang_m_23 ? '&check;' : ''}</td>
							<td class="center">${gelang_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
							<td class="center">${station_p_ho ? '&check;' : ''}</td>
							<td class="center">${station_p_10 ? '&check;' : ''}</td>
							<td class="center">${station_s_ho ? '&check;' : ''}</td>
							<td class="center">${station_s_18 ? '&check;' : ''}</td>
							<td class="center">${station_m_ho ? '&check;' : ''}</td>
							<td class="center">${station_m_23 ? '&check;' : ''}</td>
							<td class="center">${station_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td class="bold">Paraf</td>
							<td class="center">${paraf_p_ho ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraf_p_10 ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraf_s_ho ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraf_s_18 ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraf_m_ho ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraf_m_23 ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraf_m_4 ? '&check;' : '&#10006;'}</td>
						</tr>
						</tbody>
					</table>
            	</td>
            </tr>
        `;
        $('#tabel-uprjpl .body-table').append(html);
    }



    // UPRJPN WESA
    if (typeof numberUprjp === 'undefined') {
        var numberUprjpn = 1;
    }

    function tambahUpayaPencegahanNeonatus() {
        // console.log('kontol')        
        if ($('#uprjpn-tanggal-pengkajian').val() === '') {
            syams_validation('#uprjpn-tanggal-pengkajian', 'Tanggal Pengkajian harus diisi.');
            return false;
        } else {
            syams_validation_remove('#uprjpn-tanggal-pengkajian');
        }

        if ($('#uprjpn-perawat').val() === '') {
            syams_validation('#uprjpn-perawat', 'Nama perawat belum diisi.');
            return false;
        } else {
            syams_validation_remove('#uprjpn-perawat');
        }

        let html = '';
        let uprjpn_tanggal_pengkajian = $('#uprjpn-tanggal-pengkajian').val();
        let nama_perawat_1 = $('#s2id_perawat-1 a .select2c-chosen').html();
        let nama_perawat_2 = $('#s2id_perawat-2 a .select2c-chosen').html();
        let nama_perawat_3 = $('#s2id_perawat-3 a .select2c-chosen').html();
        let id_perawat_1 = $('#perawat-1').val();
        let id_perawat_2 = $('#perawat-2').val();
        let id_perawat_3 = $('#perawat-3').val();

        // Posisi tanda Risiko  jatuh tetap ada/terpasang
        let terpasang_p_ho = $('#terpasang-p-ho').is(':checked');
        let terpasang_p_10 = $('#terpasang-p-10').is(':checked');
        let terpasang_s_ho = $('#terpasang-s-ho').is(':checked');
        let terpasang_s_18 = $('#terpasang-s-18').is(':checked');
        let terpasang_m_ho = $('#terpasang-m-ho').is(':checked');
        let terpasang_m_23 = $('#terpasang-m-23').is(':checked');
        let terpasang_m_4 = $('#terpasang-m-4').is(':checked');

        // Pastikan roda box/incubator pada posisi terkunci
        let terkunci_p_ho = $('#terkunci-p-ho').is(':checked');
        let terkunci_p_10 = $('#terkunci-p-10').is(':checked');
        let terkunci_s_ho = $('#terkunci-s-ho').is(':checked');
        let terkunci_s_18 = $('#terkunci-s-18').is(':checked');
        let terkunci_m_ho = $('#terkunci-m-ho').is(':checked');
        let terkunci_m_23 = $('#terkunci-m-23').is(':checked');
        let terkunci_m_4 = $('#terkunci-m-4').is(':checked');

        // Pastikan pintu inkubator tertutup bila tidak ada tindakan
        let tindakan_p_ho = $('#tindakan-p-ho').is(':checked');
        let tindakan_p_10 = $('#tindakan-p-10').is(':checked');
        let tindakan_s_ho = $('#tindakan-s-ho').is(':checked');
        let tindakan_s_18 = $('#tindakan-s-18').is(':checked');
        let tindakan_m_ho = $('#tindakan-m-ho').is(':checked');
        let tindakan_m_23 = $('#tindakan-m-23').is(':checked');
        let tindakan_m_4 = $('#tindakan-m-4').is(':checked');

        // Paraf
        let paraff_p_ho = $('#paraff-p-ho').is(':checked');
        let paraff_p_10 = $('#paraff-p-10').is(':checked');
        let paraff_s_ho = $('#paraff-s-ho').is(':checked');
        let paraff_s_18 = $('#paraff-s-18').is(':checked');
        let paraff_m_ho = $('#paraff-m-ho').is(':checked');
        let paraff_m_23 = $('#paraff-m-23').is(':checked');
        let paraff_m_4 = $('#paraff-m-4').is(':checked');

        html = /* html */ `
            <tr class="row-in-${++numberUprjpn}">
                <td class="number-pengkajian" align="center">${numberUprjpn}</td>
                <td align="center">
                	<input type="hidden" name="uprjpn_tanggal_pengkajian[]" value="${uprjpn_tanggal_pengkajian}">${uprjpn_tanggal_pengkajian}
                </td>
                <td align="center">
                	<input type="hidden" name="perawat_1[]" value="${id_perawat_1}">${nama_perawat_1}
                </td>
                <td align="center">
                	<input type="hidden" name="perawat_2[]" value="${id_perawat_2}">${nama_perawat_2}
                </td>
                <td align="center">
                	<input type="hidden" name="perawat_3[]" value="${id_perawat_3}">${nama_perawat_3}
                </td>
                <td align="center">
					<?= $this->session->userdata('nama') ?>
					<input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
					<input type="hidden" name="pencegahan_date_neonatus[]" value="<?= date("Y-m-d H:i:s") ?>">

					<input type="hidden" name="terpasang_p_ho[]" value="${terpasang_p_ho ? 1 : 0}">
					<input type="hidden" name="terpasang_p_10[]" value="${terpasang_p_10 ? 1 : 0}">
					<input type="hidden" name="terpasang_s_ho[]" value="${terpasang_s_ho ? 1 : 0}">
					<input type="hidden" name="terpasang_s_18[]" value="${terpasang_s_18 ? 1 : 0}">
					<input type="hidden" name="terpasang_m_ho[]" value="${terpasang_m_ho ? 1 : 0}">
					<input type="hidden" name="terpasang_m_23[]" value="${terpasang_m_23 ? 1 : 0}">
					<input type="hidden" name="terpasang_m_4[]" value="${terpasang_m_4 ? 1 : 0}">

					<input type="hidden" name="terkunci_p_ho[]" value="${terkunci_p_ho ? 1 : 0}">
					<input type="hidden" name="terkunci_p_10[]" value="${terkunci_p_10 ? 1 : 0}">
					<input type="hidden" name="terkunci_s_ho[]" value="${terkunci_s_ho ? 1 : 0}">
					<input type="hidden" name="terkunci_s_18[]" value="${terkunci_s_18 ? 1 : 0}">
					<input type="hidden" name="terkunci_m_ho[]" value="${terkunci_m_ho ? 1 : 0}">
					<input type="hidden" name="terkunci_m_23[]" value="${terkunci_m_23 ? 1 : 0}">
					<input type="hidden" name="terkunci_m_4[]" value="${terkunci_m_4 ? 1 : 0}">

					<input type="hidden" name="tindakan_p_ho[]" value="${tindakan_p_ho ? 1 : 0}">
					<input type="hidden" name="tindakan_p_10[]" value="${tindakan_p_10 ? 1 : 0}">
					<input type="hidden" name="tindakan_s_ho[]" value="${tindakan_s_ho ? 1 : 0}">
					<input type="hidden" name="tindakan_s_18[]" value="${tindakan_s_18 ? 1 : 0}">
					<input type="hidden" name="tindakan_m_ho[]" value="${tindakan_m_ho ? 1 : 0}">
					<input type="hidden" name="tindakan_m_23[]" value="${tindakan_m_23 ? 1 : 0}">
					<input type="hidden" name="tindakan_m_4[]" value="${tindakan_m_4 ? 1 : 0}">

					<input type="hidden" name="paraff_p_ho[]" value="${paraff_p_ho ? 1 : 0}">
					<input type="hidden" name="paraff_p_10[]" value="${paraff_p_10 ? 1 : 0}">
					<input type="hidden" name="paraff_s_ho[]" value="${paraff_s_ho ? 1 : 0}">
					<input type="hidden" name="paraff_s_18[]" value="${paraff_s_18 ? 1 : 0}">
					<input type="hidden" name="paraff_m_ho[]" value="${paraff_m_ho ? 1 : 0}">
					<input type="hidden" name="paraff_m_23[]" value="${paraff_m_23 ? 1 : 0}">
					<input type="hidden" name="paraff_m_4[]" value="${paraff_m_4 ? 1 : 0}">
                </td>
                <td align="center">
                    <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().parent().find('.row-in-' + numberUprjpn).remove(); numberUprjpn--;})()"><i class="fas fa-trash-alt"></i></button>
                </td>
                <td align="center"><button type="button" class="btn btn-info btn-xxs" data-toggle="collapse" data-target="#data-collapse-${numberUprjpn}" aria-expanded="false" aria-controls="data-collapse-${numberUprjpn}"><i class="fas fa-expand"></i> Expand</button></td>
            </tr>
            <tr class="collapse row-in-${numberUprjpn}" id="data-collapse-${numberUprjpn}">
            	<td colspan="8">
            		<table class="table table-sm table-striped table-bordered" style="margin-top: .5rem">
						<thead>
						<tr>
							<th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
							<th class="center" colspan="2">Pagi</th>
							<th class="center" colspan="2">Siang</th>
							<th class="center" colspan="3">Malam</th>
						</tr>
						<tr>
							<th class="center">Hand Over</th>
							<th class="center">Jam 10</th>
							<th class="center">Hand Over</th>
							<th class="center">Jam 18</th>
							<th class="center">Hand Over</th>
							<th class="center">Jam 23</th>
							<th class="center">Jam 4</th>
						</tr>
						</thead>
						<tbody>
						<tr>
							<td colspan="8" class="bold text-uppercase"></td>
						</tr>
						<tr>
							<td>Posisi tanda Risiko  jatuh tetap ada/terpasang</td>
							<td class="center">${terpasang_p_ho ? '&check;' : ''}</td>
							<td class="center">${terpasang_p_10 ? '&check;' : ''}</td>
							<td class="center">${terpasang_s_ho ? '&check;' : ''}</td>
							<td class="center">${terpasang_s_18 ? '&check;' : ''}</td>
							<td class="center">${terpasang_m_ho ? '&check;' : ''}</td>
							<td class="center">${terpasang_m_23 ? '&check;' : ''}</td>
							<td class="center">${terpasang_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Pastikan roda box/incubator pada posisi terkunci</td>
							<td class="center">${terkunci_p_ho ? '&check;' : ''}</td>
							<td class="center">${terkunci_p_10 ? '&check;' : ''}</td>
							<td class="center">${terkunci_s_ho ? '&check;' : ''}</td>
							<td class="center">${terkunci_s_18 ? '&check;' : ''}</td>
							<td class="center">${terkunci_m_ho ? '&check;' : ''}</td>
							<td class="center">${terkunci_m_23 ? '&check;' : ''}</td>
							<td class="center">${terkunci_m_4 ? '&check;' : ''}</td>
						</tr>
						<tr>
							<td>Pastikan pintu inkubator tertutup bila tidak ada tindakan</td>
							<td class="center">${tindakan_p_ho ? '&check;' : ''}</td>
							<td class="center">${tindakan_p_10 ? '&check;' : ''}</td>
							<td class="center">${tindakan_s_ho ? '&check;' : ''}</td>
							<td class="center">${tindakan_s_18 ? '&check;' : ''}</td>
							<td class="center">${tindakan_m_ho ? '&check;' : ''}</td>
							<td class="center">${tindakan_m_23 ? '&check;' : ''}</td>
							<td class="center">${tindakan_m_4 ? '&check;' : ''}</td>
						</tr>

						<tr>
							<td class="bold">Paraf</td>
							<td class="center">${paraff_p_ho ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraff_p_10 ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraff_s_ho ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraff_s_18 ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraff_m_ho ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraff_m_23 ? '&check;' : '&#10006;'}</td>
							<td class="center">${paraff_m_4 ? '&check;' : '&#10006;'}</td>
						</tr>
						</tbody>
					</table>
            	</td>
            </tr>
        `;
        $('#tabel-uprjpn .body-table').append(html);
    }


    // CPDPO
    if (typeof numberRpo === 'undefined') {
        var numberRpo = 1;
    }
    function tambahRiwayatPemakaianObat() {

        if ($('#tanggal-rpo').val() === '') {
            syams_validation('#tanggal-rpo', 'Tanggal harus di isi.');
            return false;
        } else {
            syams_validation_remove('#tanggal-rpo');
        }

        if ($('#dokter-1-rpo').val() === '') {
            syams_validation('#dokter-1-rpo', 'Nama Dokter belum diisi.');
            return false;
        } else {
            syams_validation_remove('#dokter-1-rpo');
        }          
        let html = '';
        // atas
        let alergii_1= $('#alergii-1').is(':checked');
        let alergii_2 = $('#alergii-2').is(':checked');
        let alergii_ob = $('#alergii-3').val();
        let nama_obat_1 = $('#s2id_nama-obat-rpo a .select2c-chosen').html();
        let nama_obat_rpo = $('#nama-obat-rpo').val();
        let rute_rpo = $('#rute-rpo').val();
        let dosis_rpo = $('#dosis-rpo').val();
        let frekuensi_rpo = $('#frekuensi-rpo').val();
        let tanggal_rpo = $('#tanggal-rpo').val();
        let nama_dokter_1 = $('#s2id_dokter-1-rpo a .select2c-chosen').html();
        let dokter_1_rpo = $('#dokter-1-rpo').val();
        let tangggal_rpo = $('#tangggal-rpo').val();
        let nama_dokter_2 = $('#s2id_dokter-2-rpo a .select2c-chosen').html();
        let dokter_2_rpo = $('#dokter-2-rpo').val();       
        let eso_rpo = $('#eso-rpo').val();
        let r_farmasi_rpo = $('#r-farmasi-rpo').val();

        html = /* html */ `
            <tr class="row-in-${++numberRpo}">
                <td class="number-pengkajian" align="center">${numberRpo}</td>
                <td align="center">
                   ${alergii_1 ?'ada' : 'tidak ada'}
                    <input type="hidden" name="alergii[]" value="${alergii_1 ? 1 : 0}">
                </td>
                <td align="center">
                    <input type="hidden" name="alergii_ob[]" value="${alergii_ob}">${alergii_ob}
                </td>
                <td align="center">
                    <input type="hidden" name="nama_obat_rpo[]" value="${nama_obat_rpo}">${nama_obat_1}
                </td>
                <td align="center">
                    <input type="hidden" name="rute_rpo[]" value="${rute_rpo}">${rute_rpo}
                </td>
                <td align="center">
                    <input type="hidden" name="dosis_rpo[]" value="${dosis_rpo}">${dosis_rpo}
                </td>
                <td align="center">
                    <input type="hidden" name="frekuensi_rpo[]" value="${frekuensi_rpo}">${frekuensi_rpo}
                </td>
                <td align="center">
                    <input type="hidden" name="tanggal_rpo[]" value="${tanggal_rpo}">${tanggal_rpo}
                </td>
                 
                <td align="center">
                    <input type="hidden" name="dokter_1_rpo[]" value="${dokter_1_rpo}">${nama_dokter_1}
                </td>
                <td align="center">
                    <input type="hidden" name="tangggal_rpo[]" value="${tangggal_rpo}">${tangggal_rpo}
                </td>
                <td align="center">
                    <input type="hidden" name="dokter_2_rpo[]" value="${dokter_2_rpo}">${nama_dokter_2}
                </td>
                <td align="center">
                    <input type="hidden" name="eso_rpo[]" value="${eso_rpo}">${eso_rpo}
                </td>
                <td align="center">
                    <input type="hidden" name="r_farmasi_rpo[]" value="${r_farmasi_rpo}">${r_farmasi_rpo}
                </td>
                <td align="center">
                    <?= $this->session->userdata('nama') ?>
                    <input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
                    <input type="hidden" name="pencegahan_date_rpo[]" value="<?= date("Y-m-d H:i:s") ?>">                   
                </td>
                   
                <td align="center">
                    <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().next().addBack().remove(); numberRpo--;})()"><i class="fas fa-trash-alt"></i></button>
                </td>  
                
            </tr>       
        `;
        $('#tabel-rpo .body-table').append(html);
    }


    // ILLIS
    if (typeof numberRpof === 'undefined') {
        var numberRpof = 1;
    }
    function tambahRiwayatPemakaianObatInfus() {
        // console.log('kontol')    
        if ($('#tanggal-rpoo').val() === '') {
            syams_validation('#tanggal-rpoo', 'Tanggal harus di isi.');
            return false;
        } else {
            syams_validation_remove('#tanggal-rpoo');
        }

        if ($('#dokter-1-rpoo').val() === '') {
            syams_validation('#dokter-1-rpoo', 'Nama Dokter belum diisi.');
            return false;
        } else {
            syams_validation_remove('#dokter-1-rpoo');
        }          
        let html = '';
        // atas
        let alergiii_3= $('#alergiii-1').is(':checked');
        let alergiii_4 = $('#alergiii-2').is(':checked');
        let alergii_obb = $('#alergiii-3').val();
        let nama_obat_2 = $('#s2id_nama-obat-rpoo a .select2c-chosen').html();
        let nama_obat_rpoo = $('#nama-obat-rpoo').val();
        let rute_rpoo = $('#rute-rpoo').val();
        let dosis_rpoo = $('#dosis-rpoo').val();
        let frekuensi_rpoo = $('#frekuensi-rpoo').val();
        let tanggal_rpoo = $('#tanggal-rpoo').val();
        let nama_dokter_3 = $('#s2id_dokter-1-rpoo a .select2c-chosen').html();
        let dokter_1_rpoo = $('#dokter-1-rpoo').val();
        let tangggal_rpoo = $('#tangggal-rpoo').val();
        let nama_dokter_4 = $('#s2id_dokter-2-rpoo a .select2c-chosen').html();
        let dokter_2_rpoo = $('#dokter-2-rpoo').val();       
        let eso_rpoo = $('#eso-rpoo').val();
        let r_farmasi_rpoo = $('#r-farmasi-rpoo').val();
        html = /* html */ `
            <tr class="row-in-${++numberRpof}">
                <td class="number-pengkajian" align="center">${numberRpof}</td>

                <td align="center">
                ${alergiii_3 ?'ada' : 'tidak ada'}
                    <input type="hidden" name="alergiii[]" value="${alergiii_3 ? 1 : 0}">
                </td>

                <td align="center">
                    <input type="hidden" name="alergii_obb[]" value="${alergii_obb}">${alergii_obb}
                </td>   
                <td align="center">
                    <input type="hidden" name="nama_obat_rpoo[]" value="${nama_obat_rpoo}">${nama_obat_2}
                </td>
                <td align="center">
                    <input type="hidden" name="rute_rpoo[]" value="${rute_rpoo}">${rute_rpoo}
                </td>
                <td align="center">
                    <input type="hidden" name="dosis_rpoo[]" value="${dosis_rpoo}">${dosis_rpoo}
                </td>
                <td align="center">
                    <input type="hidden" name="frekuensi_rpoo[]" value="${frekuensi_rpoo}">${frekuensi_rpoo}
                </td>
                <td align="center">
                    <input type="hidden" name="tanggal_rpoo[]" value="${tanggal_rpoo}">${tanggal_rpoo}
                </td>                 
                <td align="center">
                    <input type="hidden" name="dokter_1_rpoo[]" value="${dokter_1_rpoo}">${nama_dokter_3}
                </td>
                <td align="center">
                    <input type="hidden" name="tangggal_rpoo[]" value="${tangggal_rpoo}">${tangggal_rpoo}
                </td>
                <td align="center">
                    <input type="hidden" name="dokter_2_rpoo[]" value="${dokter_2_rpoo}">${nama_dokter_4}
                </td>
                <td align="center">
                    <input type="hidden" name="eso_rpoo[]" value="${eso_rpoo}">${eso_rpoo}
                </td>
                <td align="center">
                    <input type="hidden" name="r_farmasi_rpoo[]" value="${r_farmasi_rpoo}">${r_farmasi_rpoo}
                </td>                   
            
                <td align="center">
                    <?= $this->session->userdata('nama') ?>
                    <input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
                    <input type="hidden" name="pencegahan_date_rpo_infus[]" value="<?= date("Y-m-d H:i:s") ?>">                   
                </td>
                <td align="center">
                    <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().next().addBack().remove(); numberRpof--;})()"><i class="fas fa-trash-alt"></i></button>
                </td>               
            </tr>     
        `;
        $('#tabel-rpo-infus .body-table').append(html);
    }



      
    
    // WPT 
    if (typeof numberWpt === 'undefined') {
        var numberWpt = 1;
    }
    function tambahWaktuPemberianTanggal() {
        // console.log('addBack')   
        if ($('#tanggal-wpt').val() === '') {
            syams_validation('#tanggal-wpt', 'Tanggal harus diisi.');
            return false;
        } else {
            syams_validation_remove('#tanggal-wpt');
        }
        if ($('#perawat-1-wpt').val() === '') {
            syams_validation('#perawat-1-wpt', 'Nama Perawat belum diisi.');
            return false;
        } else {
            syams_validation_remove('#perawat-1-wpt');
        }             
        let html = '';
        // atas
        let tanggal_wpt = $('#tanggal-wpt').val();
        let hari_wpt = $('#hari-wpt').val();
        let jam_wpt = $('#jam-wpt').val();
        let nama_perawat_1 = $('#s2id_perawat-1-wpt a .select2c-chosen').html();
        let perawat_1_wpt = $('#perawat-1-wpt').val();
        let pasien_keluarga_wpt = $('#pasien-keluarga-wpt').val();
        let pagi_wpt = $('#pagi-wpt').is(':checked');
        let siang_wpt = $('#siang-wpt').is(':checked');
        let sore_wpt = $('#sore-wpt').is(':checked');
        let malam_wpt = $('#malam-wpt').is(':checked');
        html = /* html */ `
            <tr class="row-in-${++numberWpt}">
                <td class="number-pengkajian" align="center">${numberWpt}</td>
                <td align="center">
                    <input type="hidden" name="tanggal_wpt[]" value="${tanggal_wpt}">${tanggal_wpt}
                </td>
                <td align="center">
                    <input type="hidden" name="hari_wpt[]" value="${hari_wpt}">${hari_wpt}
                </td>
                <td align="center">
                    <input type="hidden" name="jam_wpt[]" value="${jam_wpt}">${jam_wpt}
                </td>
                <td align="center">
                    <input type="hidden" name="perawat_1_wpt[]" value="${perawat_1_wpt}">${nama_perawat_1}
                </td>
                <td align="center">
                    <input type="hidden" name="pasien_keluarga_wpt[]" value="${pasien_keluarga_wpt}">${pasien_keluarga_wpt}
                </td>
                <td class="center">
                    <input type="hidden" name="pagi_wpt[]" value="${pagi_wpt ? 1 : 0}">${pagi_wpt ? '&check;' : '&#10006;'}
                </td>
                <td class="center">
                    <input type="hidden" name="siang_wpt[]" value="${siang_wpt ? 1 : 0}">${siang_wpt ? '&check;' : '&#10006;'}
                </td>
                <td class="center">
                    <input type="hidden" name="sore_wpt[]" value="${sore_wpt ? 1 : 0}">${sore_wpt ? '&check;' : '&#10006;'}
                </td>
                <td class="center">
                    <input type="hidden" name="malam_wpt[]" value="${malam_wpt ? 1 : 0}">${malam_wpt ? '&check;' : '&#10006;'}
                </td>
                <td align="center">
                    <?= $this->session->userdata('nama') ?>
                    <input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
                    <input type="hidden" name="pencegahan_date_wpt[]" value="<?= date("Y-m-d H:i:s") ?>">                   
                </td>
                <td align="center">
                    <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().next().addBack().remove(); numberWpt--;})()"><i class="fas fa-trash-alt"></i></button>
                </td>              
            </tr>  
        `;
        $('#tabel-wpt .body-table').append(html);
    }


    // IWPT 
    if (typeof numberWpti === 'undefined') {
        var numberWpti = 1;
    }
    function tambahWaktuPemberianTanggalInfus() {
        // console.log('addBack')   
        if ($('#tanggal-wptt').val() === '') {
            syams_validation('#tanggal-wptt', 'Tanggal harus diisi.');
            return false;
        } else {
            syams_validation_remove('#tanggal-wptt');
        }
        if ($('#perawat-2-wptt').val() === '') {
            syams_validation('#perawat-2-wptt', 'Nama Perawat belum diisi.');
            return false;
        } else {
            syams_validation_remove('#perawat-2-wptt');
        }             
        let html = '';
        // atas
        let tanggal_wptt = $('#tanggal-wptt').val();
        let hari_wptt = $('#hari-wptt').val();
        let jam_wptt = $('#jam-wptt').val();
        let nama_perawat_2 = $('#s2id_perawat-2-wptt a .select2c-chosen').html();
        let perawat_2_wptt = $('#perawat-2-wptt').val();
        let pasien_keluarga_wptt = $('#pasien-keluarga-wptt').val();
        let pagi_wptt = $('#pagi-wptt').is(':checked');
        let siang_wptt = $('#siang-wptt').is(':checked');
        let sore_wptt = $('#sore-wptt').is(':checked');
        let malam_wptt = $('#malam-wptt').is(':checked');
        html = /* html */ `
            <tr class="row-in-${++numberWpti}">
                <td class="number-pengkajian" align="center">${numberWpti}</td>
                <td align="center">
                    <input type="hidden" name="tanggal_wptt[]" value="${tanggal_wptt}">${tanggal_wptt}
                </td>
                <td align="center">
                    <input type="hidden" name="hari_wptt[]" value="${hari_wptt}">${hari_wptt}
                </td>
                <td align="center">
                    <input type="hidden" name="jam_wptt[]" value="${jam_wptt}">${jam_wptt}
                </td>
                <td align="center">
                    <input type="hidden" name="perawat_2_wptt[]" value="${perawat_2_wptt}">${nama_perawat_2}
                </td>
                <td align="center">
                    <input type="hidden" name="pasien_keluarga_wptt[]" value="${pasien_keluarga_wptt}">${pasien_keluarga_wptt}
                </td>
                <td class="center">
                    <input type="hidden" name="pagi_wptt[]" value="${pagi_wptt ? 1 : 0}">${pagi_wptt ? '&check;' : '&#10006;'}
                </td>

                <td class="center">
                    <input type="hidden" name="siang_wptt[]" value="${siang_wptt ? 1 : 0}">${siang_wptt ? '&check;' : '&#10006;'}
                </td>
                <td class="center">
                    <input type="hidden" name="sore_wptt[]" value="${sore_wptt ? 1 : 0}">${sore_wptt ? '&check;' : '&#10006;'}
                </td>
                <td class="center">
                    <input type="hidden" name="malam_wptt[]" value="${malam_wptt ? 1 : 0}">${malam_wptt ? '&check;' : '&#10006;'}
                </td> 
                <td align="center">
                    <?= $this->session->userdata('nama') ?>
                    <input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
                    <input type="hidden" name="pencegahan_date_wptt_infus[]" value="<?= date("Y-m-d H:i:s") ?>">                   
                </td>
                <td align="center">
                    <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().next().addBack().remove(); numberWpti--;})()"><i class="fas fa-trash-alt"></i></button>
                </td>                                
            </tr>       
        `;
        $('#tabel-wpt-infus .body-table').append(html);
    }


 

    function hapusPengkajianUlangResikoJatuhPasienAnak(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_pengkajian_ulang_resiko_jatuh_pasien_anak") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Pengkajian Uang Resiko Jatuh Anak', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    // PKN
    if (typeof numberPkn === 'undefined') {
    var numberPkn = 1;
    }
    function tambahPengawasanKhususNeonatus() {
        if ($('#perawat-pkn').val() === '') {
            syams_validation('#perawat-pkn', 'Nama Perawat belum diisi.');
            return false;
        } else {
            syams_validation_remove('#perawat-pkn');
        }
        // console.log('addBack')                
        let html = '';
        // atas
        let bb_pkn = $('#bb-pkn').val();
        let lp_pkn = $('#lp-pkn').val();
        let tgl_pkn = $('#tgl-pkn').val();
        let jam_pkn = $('#jam-pkn').val();
        let kesadaran_pkn = $('#kesadaran-pkn').val();
        let pasien_pkn = $('#pasien-pkn').val();
        let inkubator_pkn = $('#inkubator-pkn').val();
        let nadi_pkn = $('#nadi-pkn').val();
        let rr_pkn = $('#rr-pkn').val();
        let modus_pkn = $('#modus-pkn').val();
        let peep_pkn = $('#peep-pkn').val();
        let buble_pkn = $('#buble-pkn').val();
        let fio2_pkn = $('#fio2-pkn').val();
        let spo2_pkn = $('#spo2-pkn').val();
        let flow_pkn = $('#flow-pkn').val();
        let air_pkn = $('#air-pkn').val();
        let suhu_pkn = $('#suhu-pkn').val();
        let line1_pkn = $('#line1-pkn').val();
        let line2_pkn = $('#line2-pkn').val();
        let plebitis_pkn = $('#plebitis-pkn').val();
        let oral_pkn = $('#oral-pkn').val();
        let jml_pkn = $('#jml-pkn').val();
        let muntah_pkn = $('#muntah-pkn').val();
        let residu_pkn = $('#residu-pkn').val();
        let bak_pkn = $('#bak-pkn').val();
        let bab_pkn = $('#bab-pkn').val();
        let foto_therapy_pkn = $('#foto-therapy-pkn').val();
        let nama_obat = $('#s2id_obat-pkn a .select2c-chosen').html();
        let obat_pkn = $('#obat-pkn').val();
        let nama_perawat = $('#s2id_perawat-pkn a .select2c-chosen').html();
        let perawat_pkn = $('#perawat-pkn').val();
        html = /* html */ `
            <tr class="row-in-${++numberPkn}">
                <td class="number-pengkajian" align="center">${numberPkn}</td>
                <td align="center">
                	<input type="hidden" name="tgl_pkn[]" value="${tgl_pkn}">${tgl_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="jam_pkn[]" value="${jam_pkn}">${jam_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="bb_pkn[]" value="${bb_pkn}">${bb_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="lp_pkn[]" value="${lp_pkn}">${lp_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="kesadaran_pkn[]" value="${kesadaran_pkn}">${kesadaran_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="pasien_pkn[]" value="${pasien_pkn}">${pasien_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="inkubator_pkn[]" value="${inkubator_pkn}">${inkubator_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="nadi_pkn[]" value="${nadi_pkn}">${nadi_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="rr_pkn[]" value="${rr_pkn}">${rr_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="modus_pkn[]" value="${modus_pkn}">${modus_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="peep_pkn[]" value="${peep_pkn}">${peep_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="buble_pkn[]" value="${buble_pkn}">${buble_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="fio2_pkn[]" value="${fio2_pkn}">${fio2_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="spo2_pkn[]" value="${spo2_pkn}">${spo2_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="flow_pkn[]" value="${flow_pkn}">${flow_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="air_pkn[]" value="${air_pkn}">${air_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="suhu_pkn[]" value="${suhu_pkn}">${suhu_pkn}
                </td>

                <td align="center">
                	<input type="hidden" name="line1_pkn[]" value="${line1_pkn}">${line1_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="line2_pkn[]" value="${line2_pkn}">${line2_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="plebitis_pkn[]" value="${plebitis_pkn}">${plebitis_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="oral_pkn[]" value="${oral_pkn}">${oral_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="jml_pkn[]" value="${jml_pkn}">${jml_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="muntah_pkn[]" value="${muntah_pkn}">${muntah_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="residu_pkn[]" value="${residu_pkn}">${residu_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="bak_pkn[]" value="${bak_pkn}">${bak_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="bab_pkn[]" value="${bab_pkn}">${bab_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="foto_therapy_pkn[]" value="${foto_therapy_pkn}">${foto_therapy_pkn}
                </td>
                <td align="center">
                	<input type="hidden" name="obat_pkn[]" value="${obat_pkn}">${nama_obat}
                </td>
                <td align="center">
                	<input type="hidden" name="perawat_pkn[]" value="${perawat_pkn}">${nama_perawat}
                </td>
              
                <td align="center">
					<?= $this->session->userdata('nama') ?>
					<input type="hidden" name="user_pengkajian[]" value="<?= $this->session->userdata("id_translucent") ?>">
					<input type="hidden" name="pencegahan_date_pkn[]" value="<?= date("Y-m-d H:i:s") ?>">					
                </td>
                <td align="center">
                    <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().next().addBack().remove(); numberPkn--;})()"><i class="fas fa-trash-alt"></i></button>
                </td>              
            </tr>       
        `;
        $('#tabel-pkn .body-table').append(html);
    }



    function hapusPengkajianUlangResikoJatuhPasienLansia(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_pengkajian_ulang_resiko_jatuh_pasien_lansia") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Pengkajian Uang Resiko Jatuh Lansia', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    function hapusUpayaPencegahanResikoJatuhPasienLansia(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_upaya_pencegahan_risiko_jatuh_pasien_lansia") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Pengkajian Uang Resiko Jatuh Lansia', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    // upaya pencegahan risiko jatuh pasien dewasa


    // UPRJPN
    function hapusUpayaPencegahanResikoJatuhPadaNeonatus(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/upaya_pencegahan_risiko_jatuh_pada_neonatus") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Pengkajian Uang Resiko Jatuh Pada Neonatus', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    // CPDPO
    function hapusRiwayatPemakaianObat(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {
                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/riwayat_pemakaian_obat") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    obj.parent().parent().next().addBack().remove();
                                    
                                } else {
                                    customAlert('Hapus Riwayat Pemakaian Obat', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    // ILLIS
    function hapusRiwayatPemakaianObatInfus(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {
                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/riwayat_pemakaian_obat_infus") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    obj.parent().parent().next().addBack().remove();
                                    
                                } else {
                                    customAlert('Hapus Infus Inhalasi Suppositoria', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }


    // WPT
    function hapusWaktuPemberianTanggal(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {
                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/waktu_pemberian_tanggal") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    obj.parent().parent().next().addBack().remove();
                                    
                                } else {
                                    customAlert('Hapus Waktu Pemberian Tanggal', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    // IWPT
    function hapusWaktuPemberianTanggalInfus(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {
                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/waktu_pemberian_tanggal_infus") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    obj.parent().parent().next().addBack().remove();
                                    
                                } else {
                                    customAlert('Hapus Infus Inhalasi Suppositoria', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }


    // PKN
    function hapusPengawasanKhususNeonatus(obj, id) {
    // console.log(obj.parent().parent().addBack() );
    // return;
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {
                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/pengawasan_khusus_neonatus") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    obj.parent().parent().next().addBack().remove();
                                    
                                } else {
                                    customAlert('Hapus Pengawasan Khusus Neonatus', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }




    function showFormPemantauanDewasa(num) {

        let html = bukaLebar('Form Upaya Pencegahan Dewasa', num);

        html += /* html */ `
    <div class="from-group">
        <label for="uprjpd-tanggal-pengkajian">Tanggal Tindakan Pencegahan : </label>
        <input type="text" name="uprjpd_tanggal_pengkajian" id="uprjpd-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-1 ml-2" placeholder="dd/mm/yyyy">
    </div>
    <hr>
    <table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-uprjpd">
        <thead>
            <tr>
                <th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
                <th class="center" colspan="2">Pagi</th>
                <th class="center" colspan="2">Siang</th>
                <th class="center" colspan="3">Malam</th>
            </tr>
            <tr>
                <th class="center">Hand Over</th>
                <th class="center">Jam 10</th>
                <th class="center">Hand Over</th>
                <th class="center">Jam 18</th>
                <th class="center">Hand Over</th>
                <th class="center">Jam 23</th>
                <th class="center">Jam 4</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
            </tr>
            <tr>
                <td>Bel berfungsi dan mudah dijangkau</td>
                <td class="center"><input type="checkbox" name="uprjpd_bel_p_ho" id="uprjpd-bel-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_bel_p_10" id="uprjpd-bel-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_bel_s_ho" id="uprjpd-bel-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_bel_s_18" id="uprjpd-bel-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_bel_m_ho" id="uprjpd-bel-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_bel_m_23" id="uprjpd-bel-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_bel_m_4" id="uprjpd-bel-m-4"></td>
            </tr>
            <tr>
                <td>Roda tempat tidur terkunci</td>
                <td class="center"><input type="checkbox" name="uprjpd_roda_p_ho" id="uprjpd-roda-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_roda_p_10" id="uprjpd-roda-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_roda_s_ho" id="uprjpd-roda-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_roda_s_18" id="uprjpd-roda-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_roda_m_ho" id="uprjpd-roda-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_roda_m_23" id="uprjpd-roda-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_roda_m_4" id="uprjpd-roda-m-4"></td>
            </tr>
            <tr>
                <td>Posisikan tempat tidur pada posisi terendah</td>
                <td class="center"><input type="checkbox" name="uprjpd_ptt_p_ho" id="uprjpd-ptt-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ptt_p_10" id="uprjpd-ptt-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ptt_s_ho" id="uprjpd-ptt-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ptt_s_18" id="uprjpd-ptt-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ptt_m_ho" id="uprjpd-ptt-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ptt_m_23" id="uprjpd-ptt-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ptt_m_4" id="uprjpd-ptt-m-4"></td>
            </tr>
            <tr>
                <td>Pagar pengaman tempat tidur dinaikan</td>
                <td class="center"><input type="checkbox" name="uprjpd_ppt_p_ho" id="uprjpd-ppt-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ppt_p_10" id="uprjpd-ppt-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ppt_s_ho" id="uprjpd-ppt-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ppt_s_18" id="uprjpd-ppt-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ppt_m_ho" id="uprjpd-ppt-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ppt_m_23" id="uprjpd-ppt-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_ppt_m_4" id="uprjpd-ppt-m-4"></td>
            </tr>
            <tr>
                <td>Penerangan cukup</td>
                <td class="center"><input type="checkbox" name="uprjpd_penerangan_p_ho" id="uprjpd-penerangan-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_penerangan_p_10" id="uprjpd-penerangan-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_penerangan_s_ho" id="uprjpd-penerangan-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_penerangan_s_18" id="uprjpd-penerangan-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_penerangan_m_ho" id="uprjpd-penerangan-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_penerangan_m_23" id="uprjpd-penerangan-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_penerangan_m_4" id="uprjpd-penerangan-m-4"></td>
            </tr>
            <tr>
                <td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
                <td class="center"><input type="checkbox" name="uprjpd_alas_p_ho" id="uprjpd-alas-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alas_p_10" id="uprjpd-alas-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alas_s_ho" id="uprjpd-alas-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alas_s_18" id="uprjpd-alas-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alas_m_ho" id="uprjpd-alas-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alas_m_23" id="uprjpd-alas-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alas_m_4" id="uprjpd-alas-m-4"></td>
            </tr>
            <tr>
                <td>Lantai kering dan tidak licin</td>
                <td class="center"><input type="checkbox" name="uprjpd_lantai_p_ho" id="uprjpd-lantai-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_lantai_p_10" id="uprjpd-lantai-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_lantai_s_ho" id="uprjpd-lantai-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_lantai_s_18" id="uprjpd-lantai-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_lantai_m_ho" id="uprjpd-lantai-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_lantai_m_23" id="uprjpd-lantai-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_lantai_m_4" id="uprjpd-lantai-m-4"></td>
            </tr>
            <tr>
                <td>Dekatkan alat-alat pasien</td>
                <td class="center"><input type="checkbox" name="uprjpd_alat_p_ho" id="uprjpd-alat-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alat_p_10" id="uprjpd-alat-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alat_s_ho" id="uprjpd-alat-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alat_s_18" id="uprjpd-alat-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alat_m_ho" id="uprjpd-alat-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alat_m_23" id="uprjpd-alat-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_alat_m_4" id="uprjpd-alat-m-4"></td>
            </tr>
            <tr>
                <td>Edukasi pasien tentang efek samping obat yang diberikan</td>
                <td class="center"><input type="checkbox" name="uprjpd_edukasi_p_ho" id="uprjpd-edukasi-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_edukasi_p_10" id="uprjpd-edukasi-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_edukasi_s_ho" id="uprjpd-edukasi-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_edukasi_s_18" id="uprjpd-edukasi-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_edukasi_m_ho" id="uprjpd-edukasi-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_edukasi_m_23" id="uprjpd-edukasi-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_edukasi_m_4" id="uprjpd-edukasi-m-4"></td>
            </tr>
            <tr>
                <td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
                <td class="center"><input type="checkbox" name="uprjpd_commode_p_ho" id="uprjpd-commode-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_commode_p_10" id="uprjpd-commode-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_commode_s_ho" id="uprjpd-commode-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_commode_s_18" id="uprjpd-commode-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_commode_m_ho" id="uprjpd-commode-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_commode_m_23" id="uprjpd-commode-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_commode_m_4" id="uprjpd-commode-m-4"></td>
            </tr>
            <tr>
                <td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
            </tr>
            <tr>
                <td>Pasang gelang khusus (Warna Kuning)</td>
                <td class="center"><input type="checkbox" name="uprjpd_gelang_p_ho" id="uprjpd-gelang-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_gelang_p_10" id="uprjpd-gelang-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_gelang_s_ho" id="uprjpd-gelang-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_gelang_s_18" id="uprjpd-gelang-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_gelang_m_ho" id="uprjpd-gelang-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_gelang_m_23" id="uprjpd-gelang-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_gelang_m_4" id="uprjpd-gelang-m-4"></td>
            </tr>
            <tr>
                <td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
                <td class="center"><input type="checkbox" name="uprjpd_station_p_ho" id="uprjpd-station-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_station_p_10" id="uprjpd-station-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_station_s_ho" id="uprjpd-station-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_station_s_18" id="uprjpd-station-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_station_m_ho" id="uprjpd-station-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_station_m_23" id="uprjpd-station-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_station_m_4" id="uprjpd-station-m-4"></td>
            </tr>
            <tr>
                <td class="bold">Paraf</td>
                <td class="center"><input type="checkbox" name="uprjpd_paraf_p_ho" id="uprjpd-paraf-p-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_paraf_p_10" id="uprjpd-paraf-p-10"></td>
                <td class="center"><input type="checkbox" name="uprjpd_paraf_s_ho" id="uprjpd-paraf-s-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_paraf_s_18" id="uprjpd-paraf-s-18"></td>
                <td class="center"><input type="checkbox" name="uprjpd_paraf_m_ho" id="uprjpd-paraf-m-ho"></td>
                <td class="center"><input type="checkbox" name="uprjpd_paraf_m_23" id="uprjpd-paraf-m-23"></td>
                <td class="center"><input type="checkbox" name="uprjpd_paraf_m_4" id="uprjpd-paraf-m-4"></td>
            </tr>
            <tr>
                <td class="bold">Perawat</td>
                <td colspan="2">
                    <div class="input-group">
                        <input type="text" name="uprjpd_perawat_p" id="uprjpd-perawat-p" class="select2c-input ml-2">
                    </div>
                </td>
                <td colspan="2">
                    <div class="input-group">
                        <input type="text" name="uprjpd_perawat_s" id="uprjpd-perawat-s" class="select2c-input ml-2">
                    </div>
                </td>
                <td colspan="3">
                    <div class="input-group">
                        <input type="text" name="uprjpd_perawat_m" id="uprjpd-perawat-m" class="select2c-input ml-2">
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="8">
                    <button type="button" title="Tambah Upaya Pencegahan" class="btn btn-info" onclick="tambahUpayaPencegahanDewasa()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Upaya Pencegahan</button>
                </td>
            </tr>
        </tbody>
    </table>`;

        html += tutupRapet();

        $('#buka-tutup-uprjpd').append(html);
    }

    $('#data-upaya-pencegahan-risiko-jatuh-pasien-dewasa').one('click', function() {
        $('#uprjpd-perawat-p, #uprjpd-perawat-s, #uprjpd-perawat-m, #uprjpd-edit-perawat-p, #uprjpd-edit-perawat-s, #uprjpd-edit-perawat-m')
            .select2c({
                ajax: {
                    url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                    dataType: 'json',
                    quietMillis: 100,
                    data: function(term,
                        page) { // page is the one-based page number tracked by Select2
                        return {
                            q: term, //search term
                            page: page, // page number
                            jenis: $('#c_profesi').val(),
                        };
                    },
                    results: function(data, page) {
                        var more = (page * 20) < data
                            .total; // whether or not there are more results available

                        // notice we return the value of more so Select2 knows if more results can be loaded
                        return {
                            results: data.data,
                            more: more
                        };
                    }
                },
                formatResult: function(data) {
                    var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                    return markup;
                },
                formatSelection: function(data) {
                    return data.nama;
                }
            });
    })

    if (typeof numberUprjpd === 'undefined') {
        var numberUprjpd = 1;
    }

    function tambahUpayaPencegahanDewasa() {
        if ($('#uprjpd-tanggal-pengkajian').val() === '') {
            syams_validation('#uprjpd-tanggal-pengkajian', 'Tanggal Pengkajian harus diisi.');
            return false;
        } else {
            syams_validation_remove('#uprjpd-tanggal-pengkajian');
        }

        if ($('#uprjpd-perawat').val() === '') {
            syams_validation('#uprjpd-perawat', 'Nama perawat belum diisi.');
            return false;
        } else {
            syams_validation_remove('#uprjpd-perawat');
        }

        let html = '';
        let uprjpd_tanggal_pengkajian = $('#uprjpd-tanggal-pengkajian').val();
        let nama_perawat_p = $('#s2id_uprjpd-perawat-p a .select2c-chosen').html();
        let nama_perawat_s = $('#s2id_uprjpd-perawat-s a .select2c-chosen').html();
        let nama_perawat_m = $('#s2id_uprjpd-perawat-m a .select2c-chosen').html();
        let id_perawat_p = $('#uprjpd-perawat-p').val();
        let id_perawat_s = $('#uprjpd-perawat-s').val();
        let id_perawat_m = $('#uprjpd-perawat-m').val();

        // Bel berfungsi dan mudah dihangkau
        let bel_p_ho = $('#uprjpd-bel-p-ho').is(':checked');
        let bel_p_10 = $('#uprjpd-bel-p-10').is(':checked');
        let bel_s_ho = $('#uprjpd-bel-s-ho').is(':checked');
        let bel_s_18 = $('#uprjpd-bel-s-18').is(':checked');
        let bel_m_ho = $('#uprjpd-bel-m-ho').is(':checked');
        let bel_m_23 = $('#uprjpd-bel-m-23').is(':checked');
        let bel_m_4 = $('#uprjpd-bel-m-4').is(':checked');

        // Roda tempat tidur terkunci
        let roda_p_ho = $('#uprjpd-roda-p-ho').is(':checked');
        let roda_p_10 = $('#uprjpd-roda-p-10').is(':checked');
        let roda_s_ho = $('#uprjpd-roda-s-ho').is(':checked');
        let roda_s_18 = $('#uprjpd-roda-s-18').is(':checked');
        let roda_m_ho = $('#uprjpd-roda-m-ho').is(':checked');
        let roda_m_23 = $('#uprjpd-roda-m-23').is(':checked');
        let roda_m_4 = $('#uprjpd-roda-m-4').is(':checked');

        // Posisikan tempat tidur pada posisi terendah
        let ptt_p_ho = $('#uprjpd-ptt-p-ho').is(':checked');
        let ptt_p_10 = $('#uprjpd-ptt-p-10').is(':checked');
        let ptt_s_ho = $('#uprjpd-ptt-s-ho').is(':checked');
        let ptt_s_18 = $('#uprjpd-ptt-s-18').is(':checked');
        let ptt_m_ho = $('#uprjpd-ptt-m-ho').is(':checked');
        let ptt_m_23 = $('#uprjpd-ptt-m-23').is(':checked');
        let ptt_m_4 = $('#uprjpd-ptt-m-4').is(':checked');

        // Pagar pengaman tempat tidur dinaikan
        let ppt_p_ho = $('#uprjpd-ppt-p-ho').is(':checked');
        let ppt_p_10 = $('#uprjpd-ppt-p-10').is(':checked');
        let ppt_s_ho = $('#uprjpd-ppt-s-ho').is(':checked');
        let ppt_s_18 = $('#uprjpd-ppt-s-18').is(':checked');
        let ppt_m_ho = $('#uprjpd-ppt-m-ho').is(':checked');
        let ppt_m_23 = $('#uprjpd-ppt-m-23').is(':checked');
        let ppt_m_4 = $('#uprjpd-ppt-m-4').is(':checked');

        // Penerang cukup
        let penerangan_p_ho = $('#uprjpd-penerangan-p-ho').is(':checked');
        let penerangan_p_10 = $('#uprjpd-penerangan-p-10').is(':checked');
        let penerangan_s_ho = $('#uprjpd-penerangan-s-ho').is(':checked');
        let penerangan_s_18 = $('#uprjpd-penerangan-s-18').is(':checked');
        let penerangan_m_ho = $('#uprjpd-penerangan-m-ho').is(':checked');
        let penerangan_m_23 = $('#uprjpd-penerangan-m-23').is(':checked');
        let penerangan_m_4 = $('#uprjpd-penerangan-m-4').is(':checked');

        // Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan
        let alas_p_ho = $('#uprjpd-alas-p-ho').is(':checked');
        let alas_p_10 = $('#uprjpd-alas-p-10').is(':checked');
        let alas_s_ho = $('#uprjpd-alas-s-ho').is(':checked');
        let alas_s_18 = $('#uprjpd-alas-s-18').is(':checked');
        let alas_m_ho = $('#uprjpd-alas-m-ho').is(':checked');
        let alas_m_23 = $('#uprjpd-alas-m-23').is(':checked');
        let alas_m_4 = $('#uprjpd-alas-m-4').is(':checked');

        // Lantai kering dan tidak licin
        let lantai_p_ho = $('#uprjpd-lantai-p-ho').is(':checked');
        let lantai_p_10 = $('#uprjpd-lantai-p-10').is(':checked');
        let lantai_s_ho = $('#uprjpd-lantai-s-ho').is(':checked');
        let lantai_s_18 = $('#uprjpd-lantai-s-18').is(':checked');
        let lantai_m_ho = $('#uprjpd-lantai-m-ho').is(':checked');
        let lantai_m_23 = $('#uprjpd-lantai-m-23').is(':checked');
        let lantai_m_4 = $('#uprjpd-lantai-m-4').is(':checked');

        // Dekatkan alat-alat pasien
        let alat_p_ho = $('#uprjpd-alat-p-ho').is(':checked');
        let alat_p_10 = $('#uprjpd-alat-p-10').is(':checked');
        let alat_s_ho = $('#uprjpd-alat-s-ho').is(':checked');
        let alat_s_18 = $('#uprjpd-alat-s-18').is(':checked');
        let alat_m_ho = $('#uprjpd-alat-m-ho').is(':checked');
        let alat_m_23 = $('#uprjpd-alat-m-23').is(':checked');
        let alat_m_4 = $('#uprjpd-alat-m-4').is(':checked');

        // Edukasi pasien tentang efek samping obat yang diberikan
        let edukasi_p_ho = $('#uprjpd-edukasi-p-ho').is(':checked');
        let edukasi_p_10 = $('#uprjpd-edukasi-p-10').is(':checked');
        let edukasi_s_ho = $('#uprjpd-edukasi-s-ho').is(':checked');
        let edukasi_s_18 = $('#uprjpd-edukasi-s-18').is(':checked');
        let edukasi_m_ho = $('#uprjpd-edukasi-m-ho').is(':checked');
        let edukasi_m_23 = $('#uprjpd-edukasi-m-23').is(':checked');
        let edukasi_m_4 = $('#uprjpd-edukasi-m-4').is(':checked');

        // Tidak meninggalkan pasien di kamar mandi saat menggunakan commode
        let commode_p_ho = $('#uprjpd-commode-p-ho').is(':checked');
        let commode_p_10 = $('#uprjpd-commode-p-10').is(':checked');
        let commode_s_ho = $('#uprjpd-commode-s-ho').is(':checked');
        let commode_s_18 = $('#uprjpd-commode-s-18').is(':checked');
        let commode_m_ho = $('#uprjpd-commode-m-ho').is(':checked');
        let commode_m_23 = $('#uprjpd-commode-m-23').is(':checked');
        let commode_m_4 = $('#uprjpd-commode-m-4').is(':checked');

        // Pasang gelang khusus
        let gelang_p_ho = $('#uprjpd-gelang-p-ho').is(':checked');
        let gelang_p_10 = $('#uprjpd-gelang-p-10').is(':checked');
        let gelang_s_ho = $('#uprjpd-gelang-s-ho').is(':checked');
        let gelang_s_18 = $('#uprjpd-gelang-s-18').is(':checked');
        let gelang_m_ho = $('#uprjpd-gelang-m-ho').is(':checked');
        let gelang_m_23 = $('#uprjpd-gelang-m-23').is(':checked');
        let gelang_m_4 = $('#uprjpd-gelang-m-4').is(':checked');

        // Tempatkan pasien di kamar yang paling dekat dengan Nurse Station
        let station_p_ho = $('#uprjpd-station-p-ho').is(':checked');
        let station_p_10 = $('#uprjpd-station-p-10').is(':checked');
        let station_s_ho = $('#uprjpd-station-s-ho').is(':checked');
        let station_s_18 = $('#uprjpd-station-s-18').is(':checked');
        let station_m_ho = $('#uprjpd-station-m-ho').is(':checked');
        let station_m_23 = $('#uprjpd-station-m-23').is(':checked');
        let station_m_4 = $('#uprjpd-station-m-4').is(':checked');

        // Paraf
        let paraf_p_ho = $('#uprjpd-paraf-p-ho').is(':checked');
        let paraf_p_10 = $('#uprjpd-paraf-p-10').is(':checked');
        let paraf_s_ho = $('#uprjpd-paraf-s-ho').is(':checked');
        let paraf_s_18 = $('#uprjpd-paraf-s-18').is(':checked');
        let paraf_m_ho = $('#uprjpd-paraf-m-ho').is(':checked');
        let paraf_m_23 = $('#uprjpd-paraf-m-23').is(':checked');
        let paraf_m_4 = $('#uprjpd-paraf-m-4').is(':checked');

        html = /* html */ `
    <tr class="row-in-${++numberUprjpd}">
        <td class="number-pengkajian" align="center">${numberUprjpd}</td>
        <td align="center">
            <input type="hidden" name="uprjpd_tanggal_pengkajian[]" value="${uprjpd_tanggal_pengkajian}">${uprjpd_tanggal_pengkajian}
        </td>
        <td align="center">
            <input type="hidden" name="uprjpd_perawat_p[]" value="${id_perawat_p}">${nama_perawat_p}
        </td>
        <td align="center">
            <input type="hidden" name="uprjpd_perawat_s[]" value="${id_perawat_s}">${nama_perawat_s}
        </td>
        <td align="center">
            <input type="hidden" name="uprjpd_perawat_m[]" value="${id_perawat_m}">${nama_perawat_m}
        </td>
        <td align="center">
            <?= $this->session->userdata('nama') ?>
            <input type="hidden" name="user_uprjpd[]" value="<?= $this->session->userdata("id_translucent") ?>">
            <input type="hidden" name="pencegahan_date_dewasa[]" value="<?= date("Y-m-d H:i:s") ?>">

            <input type="hidden" name="uprjpd_bel_p_ho[]" value="${bel_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_bel_p_10[]" value="${bel_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_bel_s_ho[]" value="${bel_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_bel_s_18[]" value="${bel_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_bel_m_ho[]" value="${bel_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_bel_m_23[]" value="${bel_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_bel_m_4[]" value="${bel_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_roda_p_ho[]" value="${roda_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_roda_p_10[]" value="${roda_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_roda_s_ho[]" value="${roda_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_roda_s_18[]" value="${roda_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_roda_m_ho[]" value="${roda_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_roda_m_23[]" value="${roda_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_roda_m_4[]" value="${roda_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_ptt_p_ho[]" value="${ptt_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_ptt_p_10[]" value="${ptt_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_ptt_s_ho[]" value="${ptt_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_ptt_s_18[]" value="${ptt_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_ptt_m_ho[]" value="${ptt_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_ptt_m_23[]" value="${ptt_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_ptt_m_4[]" value="${ptt_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_ppt_p_ho[]" value="${ppt_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_ppt_p_10[]" value="${ppt_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_ppt_s_ho[]" value="${ppt_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_ppt_s_18[]" value="${ppt_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_ppt_m_ho[]" value="${ppt_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_ppt_m_23[]" value="${ppt_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_ppt_m_4[]" value="${ppt_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_penerangan_p_ho[]" value="${penerangan_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_penerangan_p_10[]" value="${penerangan_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_penerangan_s_ho[]" value="${penerangan_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_penerangan_s_18[]" value="${penerangan_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_penerangan_m_ho[]" value="${penerangan_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_penerangan_m_23[]" value="${penerangan_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_penerangan_m_4[]" value="${penerangan_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_alas_p_ho[]" value="${alas_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_alas_p_10[]" value="${alas_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_alas_s_ho[]" value="${alas_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_alas_s_18[]" value="${alas_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_alas_m_ho[]" value="${alas_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_alas_m_23[]" value="${alas_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_alas_m_4[]" value="${alas_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_lantai_p_ho[]" value="${lantai_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_lantai_p_10[]" value="${lantai_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_lantai_s_ho[]" value="${lantai_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_lantai_s_18[]" value="${lantai_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_lantai_m_ho[]" value="${lantai_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_lantai_m_23[]" value="${lantai_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_lantai_m_4[]" value="${lantai_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_alat_p_ho[]" value="${alat_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_alat_p_10[]" value="${alat_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_alat_s_ho[]" value="${alat_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_alat_s_18[]" value="${alat_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_alat_m_ho[]" value="${alat_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_alat_m_23[]" value="${alat_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_alat_m_4[]" value="${alat_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_edukasi_p_ho[]" value="${edukasi_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_edukasi_p_10[]" value="${edukasi_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_edukasi_s_ho[]" value="${edukasi_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_edukasi_s_18[]" value="${edukasi_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_edukasi_m_ho[]" value="${edukasi_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_edukasi_m_23[]" value="${edukasi_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_edukasi_m_4[]" value="${edukasi_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_commode_p_ho[]" value="${commode_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_commode_p_10[]" value="${commode_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_commode_s_ho[]" value="${commode_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_commode_s_18[]" value="${commode_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_commode_m_ho[]" value="${commode_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_commode_m_23[]" value="${commode_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_commode_m_4[]" value="${commode_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_gelang_p_ho[]" value="${gelang_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_gelang_p_10[]" value="${gelang_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_gelang_s_ho[]" value="${gelang_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_gelang_s_18[]" value="${gelang_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_gelang_m_ho[]" value="${gelang_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_gelang_m_23[]" value="${gelang_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_gelang_m_4[]" value="${gelang_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_station_p_ho[]" value="${station_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_station_p_10[]" value="${station_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_station_s_ho[]" value="${station_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_station_s_18[]" value="${station_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_station_m_ho[]" value="${station_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_station_m_23[]" value="${station_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_station_m_4[]" value="${station_m_4 ? 1 : 0}">

            <input type="hidden" name="uprjpd_paraf_p_ho[]" value="${paraf_p_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_paraf_p_10[]" value="${paraf_p_10 ? 1 : 0}">
            <input type="hidden" name="uprjpd_paraf_s_ho[]" value="${paraf_s_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_paraf_s_18[]" value="${paraf_s_18 ? 1 : 0}">
            <input type="hidden" name="uprjpd_paraf_m_ho[]" value="${paraf_m_ho ? 1 : 0}">
            <input type="hidden" name="uprjpd_paraf_m_23[]" value="${paraf_m_23 ? 1 : 0}">
            <input type="hidden" name="uprjpd_paraf_m_4[]" value="${paraf_m_4 ? 1 : 0}">
        </td>
        <td align="center">
            <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().parent().find('.row-in-' + numberUprjpd).remove(); numberUprjpd--;})()"><i class="fas fa-trash-alt"></i></button>
        </td>
        <td align="center"><button type="button" class="btn btn-info btn-xxs" data-toggle="collapse" data-target="#data-collapse-${numberUprjpd}" aria-expanded="false" aria-controls="data-collapse-${numberUprjpd}"><i class="fas fa-expand"></i> Expand</button></td>
    </tr>
    <tr class="collapse row-in-${numberUprjpd}" id="data-collapse-${numberUprjpd}">
        <td colspan="8">
            <table class="table table-sm table-striped table-bordered" style="margin-top: .5rem">
                <thead>
                <tr>
                    <th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
                    <th class="center" colspan="2">Pagi</th>
                    <th class="center" colspan="2">Siang</th>
                    <th class="center" colspan="3">Malam</th>
                </tr>
                <tr>
                    <th class="center">Hand Over</th>
                    <th class="center">Jam 10</th>
                    <th class="center">Hand Over</th>
                    <th class="center">Jam 18</th>
                    <th class="center">Hand Over</th>
                    <th class="center">Jam 23</th>
                    <th class="center">Jam 4</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
                </tr>
                <tr>
                    <td>Bel berfungsi dan mudah dijangkau</td>
                    <td class="center">${bel_p_ho ? '&check;' : ''}</td>
                    <td class="center">${bel_p_10 ? '&check;' : ''}</td>
                    <td class="center">${bel_s_ho ? '&check;' : ''}</td>
                    <td class="center">${bel_s_18 ? '&check;' : ''}</td>
                    <td class="center">${bel_m_ho ? '&check;' : ''}</td>
                    <td class="center">${bel_m_23 ? '&check;' : ''}</td>
                    <td class="center">${bel_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Roda tempat tidur terkunci</td>
                    <td class="center">${roda_p_ho ? '&check;' : ''}</td>
                    <td class="center">${roda_p_10 ? '&check;' : ''}</td>
                    <td class="center">${roda_s_ho ? '&check;' : ''}</td>
                    <td class="center">${roda_s_18 ? '&check;' : ''}</td>
                    <td class="center">${roda_m_ho ? '&check;' : ''}</td>
                    <td class="center">${roda_m_23 ? '&check;' : ''}</td>
                    <td class="center">${roda_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Posisikan tempat tidur pada posisi terendah</td>
                    <td class="center">${ptt_p_ho ? '&check;' : ''}</td>
                    <td class="center">${ptt_p_10 ? '&check;' : ''}</td>
                    <td class="center">${ptt_s_ho ? '&check;' : ''}</td>
                    <td class="center">${ptt_s_18 ? '&check;' : ''}</td>
                    <td class="center">${ptt_m_ho ? '&check;' : ''}</td>
                    <td class="center">${ptt_m_23 ? '&check;' : ''}</td>
                    <td class="center">${ptt_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Pagar pengaman tempat tidur dinaikan</td>
                    <td class="center">${ppt_p_ho ? '&check;' : ''}</td>
                    <td class="center">${ppt_p_10 ? '&check;' : ''}</td>
                    <td class="center">${ppt_s_ho ? '&check;' : ''}</td>
                    <td class="center">${ppt_s_18 ? '&check;' : ''}</td>
                    <td class="center">${ppt_m_ho ? '&check;' : ''}</td>
                    <td class="center">${ppt_m_23 ? '&check;' : ''}</td>
                    <td class="center">${ppt_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Penerangan cukup</td>
                    <td class="center">${penerangan_p_ho ? '&check;' : ''}</td>
                    <td class="center">${penerangan_p_10 ? '&check;' : ''}</td>
                    <td class="center">${penerangan_s_ho ? '&check;' : ''}</td>
                    <td class="center">${penerangan_s_18 ? '&check;' : ''}</td>
                    <td class="center">${penerangan_m_ho ? '&check;' : ''}</td>
                    <td class="center">${penerangan_m_23 ? '&check;' : ''}</td>
                    <td class="center">${penerangan_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
                    <td class="center">${alas_p_ho ? '&check;' : ''}</td>
                    <td class="center">${alas_p_10 ? '&check;' : ''}</td>
                    <td class="center">${alas_s_ho ? '&check;' : ''}</td>
                    <td class="center">${alas_s_18 ? '&check;' : ''}</td>
                    <td class="center">${alas_m_ho ? '&check;' : ''}</td>
                    <td class="center">${alas_m_23 ? '&check;' : ''}</td>
                    <td class="center">${alas_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Lantai kering dan tidak licin</td>
                    <td class="center">${lantai_p_ho ? '&check;' : ''}</td>
                    <td class="center">${lantai_p_10 ? '&check;' : ''}</td>
                    <td class="center">${lantai_s_ho ? '&check;' : ''}</td>
                    <td class="center">${lantai_s_18 ? '&check;' : ''}</td>
                    <td class="center">${lantai_m_ho ? '&check;' : ''}</td>
                    <td class="center">${lantai_m_23 ? '&check;' : ''}</td>
                    <td class="center">${lantai_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Dekatkan alat-alat pasien</td>
                    <td class="center">${alat_p_ho ? '&check;' : ''}</td>
                    <td class="center">${alat_p_10 ? '&check;' : ''}</td>
                    <td class="center">${alat_s_ho ? '&check;' : ''}</td>
                    <td class="center">${alat_s_18 ? '&check;' : ''}</td>
                    <td class="center">${alat_m_ho ? '&check;' : ''}</td>
                    <td class="center">${alat_m_23 ? '&check;' : ''}</td>
                    <td class="center">${alat_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Edukasi pasien tentang efek samping obat yang diberikan</td>
                    <td class="center">${edukasi_p_ho ? '&check;' : ''}</td>
                    <td class="center">${edukasi_p_10 ? '&check;' : ''}</td>
                    <td class="center">${edukasi_s_ho ? '&check;' : ''}</td>
                    <td class="center">${edukasi_s_18 ? '&check;' : ''}</td>
                    <td class="center">${edukasi_m_ho ? '&check;' : ''}</td>
                    <td class="center">${edukasi_m_23 ? '&check;' : ''}</td>
                    <td class="center">${edukasi_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
                    <td class="center">${commode_p_ho ? '&check;' : ''}</td>
                    <td class="center">${commode_p_10 ? '&check;' : ''}</td>
                    <td class="center">${commode_s_ho ? '&check;' : ''}</td>
                    <td class="center">${commode_s_18 ? '&check;' : ''}</td>
                    <td class="center">${commode_m_ho ? '&check;' : ''}</td>
                    <td class="center">${commode_m_23 ? '&check;' : ''}</td>
                    <td class="center">${commode_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
                </tr>
                <tr>
                    <td>Pasang gelang khusus (Warna Kuning)</td>
                    <td class="center">${gelang_p_ho ? '&check;' : ''}</td>
                    <td class="center">${gelang_p_10 ? '&check;' : ''}</td>
                    <td class="center">${gelang_s_ho ? '&check;' : ''}</td>
                    <td class="center">${gelang_s_18 ? '&check;' : ''}</td>
                    <td class="center">${gelang_m_ho ? '&check;' : ''}</td>
                    <td class="center">${gelang_m_23 ? '&check;' : ''}</td>
                    <td class="center">${gelang_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
                    <td class="center">${station_p_ho ? '&check;' : ''}</td>
                    <td class="center">${station_p_10 ? '&check;' : ''}</td>
                    <td class="center">${station_s_ho ? '&check;' : ''}</td>
                    <td class="center">${station_s_18 ? '&check;' : ''}</td>
                    <td class="center">${station_m_ho ? '&check;' : ''}</td>
                    <td class="center">${station_m_23 ? '&check;' : ''}</td>
                    <td class="center">${station_m_4 ? '&check;' : ''}</td>
                </tr>
                <tr>
                    <td class="bold">Paraf</td>
                    <td class="center">${paraf_p_ho ? '&check;' : '&#10006;'}</td>
                    <td class="center">${paraf_p_10 ? '&check;' : '&#10006;'}</td>
                    <td class="center">${paraf_s_ho ? '&check;' : '&#10006;'}</td>
                    <td class="center">${paraf_s_18 ? '&check;' : '&#10006;'}</td>
                    <td class="center">${paraf_m_ho ? '&check;' : '&#10006;'}</td>
                    <td class="center">${paraf_m_23 ? '&check;' : '&#10006;'}</td>
                    <td class="center">${paraf_m_4 ? '&check;' : '&#10006;'}</td>
                </tr>
                </tbody>
            </table>
        </td>
    </tr>
    `;
        $('#tabel-uprjpd .body-table').append(html);
    }

    function showUpayaPencegahanRisikoJatuhPasienDewasa(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-uprjpd .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {

                const selOp =
                    '<td align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editUpayaPencegahanRisikoJatuhPasienDewasa(this, ' +
                    v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit"></i> </button> <button type="button" class="btn btn-secondary btn-xs" onclick="hapusUpayaPencegahanResikoJatuhPasienDewasa(this, ' +
                    v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';

                let html = /* html */ `
        <tr>
            <td class="number-terapi" align="center">${(++i)}</td>
            <td align="center">${v.tanggal_pengkajian}</td>
            <td align="center">${v.perawat_p || '-' }</td>
            <td align="center">${v.perawat_s || '-'}</td>
            <td align="center">${v.perawat_m || '-'}</td>
            <td align="center">${v.akun_user}</td>
            ${selOp}
            <td align="center"><button type="button" class="btn btn-info btn-xxs" data-toggle="collapse" data-target="#data-collapse-${i}" aria-expanded="false" aria-controls="data-collapse-${i}"><i class="fas fa-expand"></i> Expand</button></td>
        </tr>
        <tr class="collapse" id="data-collapse-${i}">
            <td colspan="8">
                <table class="table table-sm table-striped table-bordered" style="margin-top: .5rem">
                    <thead>
                    <tr>
                        <th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
                        <th class="center" colspan="2">Pagi</th>
                        <th class="center" colspan="2">Siang</th>
                        <th class="center" colspan="3">Malam</th>
                    </tr>
                    <tr>
                        <th class="center">Hand Over</th>
                        <th class="center">Jam 10</th>
                        <th class="center">Hand Over</th>
                        <th class="center">Jam 18</th>
                        <th class="center">Hand Over</th>
                        <th class="center">Jam 23</th>
                        <th class="center">Jam 4</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
                    </tr>
                    <tr>
                        <td>Bel berfungsi dan mudah dijangkau</td>
                        <td class="center">${v.bel_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.bel_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.bel_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.bel_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.bel_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.bel_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.bel_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Roda tempat tidur terkunci</td>
                        <td class="center">${v.roda_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.roda_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.roda_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.roda_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.roda_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.roda_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.roda_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Posisikan tempat tidur pada posisi terendah</td>
                        <td class="center">${v.ptt_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ptt_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ptt_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ptt_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ptt_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ptt_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ptt_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Pagar pengaman tempat tidur dinaikan</td>
                        <td class="center">${v.ppt_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ppt_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ppt_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ppt_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ppt_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ppt_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.ppt_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Penerangan cukup</td>
                        <td class="center">${v.penerangan_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.penerangan_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.penerangan_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.penerangan_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.penerangan_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.penerangan_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.penerangan_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
                        <td class="center">${v.alas_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alas_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alas_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alas_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alas_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alas_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alas_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Lantai kering dan tidak licin</td>
                        <td class="center">${v.lantai_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.lantai_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.lantai_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.lantai_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.lantai_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.lantai_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.lantai_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Dekatkan alat-alat pasien</td>
                        <td class="center">${v.alat_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alat_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alat_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alat_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alat_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alat_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.alat_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Edukasi pasien tentang efek samping obat yang diberikan</td>
                        <td class="center">${v.edukasi_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.edukasi_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.edukasi_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.edukasi_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.edukasi_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.edukasi_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.edukasi_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
                        <td class="center">${v.commode_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.commode_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.commode_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.commode_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.commode_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.commode_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.commode_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
                    </tr>
                    <tr>
                        <td>Pasang gelang khusus (Warna Kuning)</td>
                        <td class="center">${v.gelang_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.gelang_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.gelang_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.gelang_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.gelang_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.gelang_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.gelang_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
                        <td class="center">${v.station_p_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.station_p_10 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.station_s_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.station_s_18 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.station_m_ho == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.station_m_23 == '1' ? '&check;' : ''}</td>
                        <td class="center">${v.station_m_4 == '1' ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td class="bold">Paraf</td>
                        <td class="center">${v.paraf_p_ho == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.paraf_p_10 == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.paraf_s_ho == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.paraf_s_18 == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.paraf_m_ho == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.paraf_m_23 == '1' ? '&check;' : '&#10006;'}</td>
                        <td class="center">${v.paraf_m_4 == '1' ? '&check;' : '&#10006;'}</td>
                    </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    `;

                $('#tabel-uprjpd .body-table').append(html);

                numberUprjpl = i;
            })
        }
    }

    function editUpayaPencegahanRisikoJatuhPasienDewasa(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-dewasa');
        $('#update-uprjpd').children().remove();

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_upaya_pencegahan_risiko_jatuh_pasien_dewasa") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#update-uprjpd').empty();
                $('#id-upaya-pencegahan-risiko-jatuh-pasien-dewasa').val(id);

                function formatTanggalKhusus(waktu) {
                    var el = waktu.split('-');
                    var tahun = el[0];
                    var bulan = el[1];
                    var hari = el[2];
                    return hari + '/' + bulan + '/' + tahun;

                }

                let edit_tanggal_pengkajian = formatTanggalKhusus(data.tanggal_pengkajian);
                $('#uprjpd-edit-tanggal-pengkajian').val(edit_tanggal_pengkajian);

                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-dewasa').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                <button type="button" class="btn btn-info waves-effect" onclick="updateUpayaPencegahanRisikoJatuhPasienDewasa(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-uprjpd').append(cttntndkn);

                // Bel berfungsi dan mudah dihangkau
                data.bel_p_ho == '1' ? $('#uprjpd-edit-bel-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-bel-p-ho').prop('checked', false);
                data.bel_p_10 == '1' ? $('#uprjpd-edit-bel-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-bel-p-10').prop('checked', false);
                data.bel_s_ho == '1' ? $('#uprjpd-edit-bel-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-bel-s-ho').prop('checked', false);
                data.bel_s_18 == '1' ? $('#uprjpd-edit-bel-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-bel-s-18').prop('checked', false);
                data.bel_m_ho == '1' ? $('#uprjpd-edit-bel-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-bel-m-ho').prop('checked', false);
                data.bel_m_23 == '1' ? $('#uprjpd-edit-bel-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-bel-m-23').prop('checked', false);
                data.bel_m_4 == '1' ? $('#uprjpd-edit-bel-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-bel-m-4').prop('checked', false);

                // Roda tempat tidur terkunci
                data.roda_p_ho == '1' ? $('#uprjpd-edit-roda-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-roda-p-ho').prop('checked', false);
                data.roda_p_10 == '1' ? $('#uprjpd-edit-roda-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-roda-p-10').prop('checked', false);
                data.roda_s_ho == '1' ? $('#uprjpd-edit-roda-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-roda-s-ho').prop('checked', false);
                data.roda_s_18 == '1' ? $('#uprjpd-edit-roda-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-roda-s-18').prop('checked', false);
                data.roda_m_ho == '1' ? $('#uprjpd-edit-roda-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-roda-m-ho').prop('checked', false);
                data.roda_m_23 == '1' ? $('#uprjpd-edit-roda-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-roda-m-23').prop('checked', false);
                data.roda_m_4 == '1' ? $('#uprjpd-edit-roda-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-roda-m-4').prop('checked', false);

                // Posisikan tempat tidur pada posisi terendah
                data.ptt_p_ho == '1' ? $('#uprjpd-edit-ptt-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-ptt-p-ho').prop('checked', false);
                data.ptt_p_10 == '1' ? $('#uprjpd-edit-ptt-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-ptt-p-10').prop('checked', false);
                data.ptt_s_ho == '1' ? $('#uprjpd-edit-ptt-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-ptt-s-ho').prop('checked', false);
                data.ptt_s_18 == '1' ? $('#uprjpd-edit-ptt-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-ptt-s-18').prop('checked', false);
                data.ptt_m_ho == '1' ? $('#uprjpd-edit-ptt-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-ptt-m-ho').prop('checked', false);
                data.ptt_m_23 == '1' ? $('#uprjpd-edit-ptt-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-ptt-m-23').prop('checked', false);
                data.ptt_m_4 == '1' ? $('#uprjpd-edit-ptt-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-ptt-m-4').prop('checked', false);

                // Pagar pengaman tempat tidur dinaikan
                data.ppt_p_ho == '1' ? $('#uprjpd-edit-ppt-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-ppt-p-ho').prop('checked', false);
                data.ppt_p_10 == '1' ? $('#uprjpd-edit-ppt-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-ppt-p-10').prop('checked', false);
                data.ppt_s_ho == '1' ? $('#uprjpd-edit-ppt-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-ppt-s-ho').prop('checked', false);
                data.ppt_s_18 == '1' ? $('#uprjpd-edit-ppt-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-ppt-s-18').prop('checked', false);
                data.ppt_m_ho == '1' ? $('#uprjpd-edit-ppt-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-ppt-m-ho').prop('checked', false);
                data.ppt_m_23 == '1' ? $('#uprjpd-edit-ppt-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-ppt-m-23').prop('checked', false);
                data.ppt_m_4 == '1' ? $('#uprjpd-edit-ppt-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-ppt-m-4').prop('checked', false);

                // Penerang cukup
                data.penerangan_p_ho == '1' ? $('#uprjpd-edit-penerangan-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-penerangan-p-ho').prop('checked', false);
                data.penerangan_p_10 == '1' ? $('#uprjpd-edit-penerangan-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-penerangan-p-10').prop('checked', false);
                data.penerangan_s_ho == '1' ? $('#uprjpd-edit-penerangan-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-penerangan-s-ho').prop('checked', false);
                data.penerangan_s_18 == '1' ? $('#uprjpd-edit-penerangan-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-penerangan-s-18').prop('checked', false);
                data.penerangan_m_ho == '1' ? $('#uprjpd-edit-penerangan-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-penerangan-m-ho').prop('checked', false);
                data.penerangan_m_23 == '1' ? $('#uprjpd-edit-penerangan-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-penerangan-m-23').prop('checked', false);
                data.penerangan_m_4 == '1' ? $('#uprjpd-edit-penerangan-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-penerangan-m-4').prop('checked', false);

                // Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan
                data.alas_p_ho == '1' ? $('#uprjpd-edit-alas-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-alas-p-ho').prop('checked', false);
                data.alas_p_10 == '1' ? $('#uprjpd-edit-alas-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-alas-p-10').prop('checked', false);
                data.alas_s_ho == '1' ? $('#uprjpd-edit-alas-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-alas-s-ho').prop('checked', false);
                data.alas_s_18 == '1' ? $('#uprjpd-edit-alas-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-alas-s-18').prop('checked', false);
                data.alas_m_ho == '1' ? $('#uprjpd-edit-alas-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-alas-m-ho').prop('checked', false);
                data.alas_m_23 == '1' ? $('#uprjpd-edit-alas-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-alas-m-23').prop('checked', false);
                data.alas_m_4 == '1' ? $('#uprjpd-edit-alas-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-alas-m-4').prop('checked', false);

                // Lantai kering dan tidak licin
                data.lantai_p_ho == '1' ? $('#uprjpd-edit-lantai-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-lantai-p-ho').prop('checked', false);
                data.lantai_p_10 == '1' ? $('#uprjpd-edit-lantai-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-lantai-p-10').prop('checked', false);
                data.lantai_s_ho == '1' ? $('#uprjpd-edit-lantai-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-lantai-s-ho').prop('checked', false);
                data.lantai_s_18 == '1' ? $('#uprjpd-edit-lantai-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-lantai-s-18').prop('checked', false);
                data.lantai_m_ho == '1' ? $('#uprjpd-edit-lantai-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-lantai-m-ho').prop('checked', false);
                data.lantai_m_23 == '1' ? $('#uprjpd-edit-lantai-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-lantai-m-23').prop('checked', false);
                data.lantai_m_4 == '1' ? $('#uprjpd-edit-lantai-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-lantai-m-4').prop('checked', false);

                // Dekatkan alat-alat pasien
                data.alat_p_ho == '1' ? $('#uprjpd-edit-alat-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-alat-p-ho').prop('checked', false);
                data.alat_p_10 == '1' ? $('#uprjpd-edit-alat-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-alat-p-10').prop('checked', false);
                data.alat_s_ho == '1' ? $('#uprjpd-edit-alat-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-alat-s-ho').prop('checked', false);
                data.alat_s_18 == '1' ? $('#uprjpd-edit-alat-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-alat-s-18').prop('checked', false);
                data.alat_m_ho == '1' ? $('#uprjpd-edit-alat-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-alat-m-ho').prop('checked', false);
                data.alat_m_23 == '1' ? $('#uprjpd-edit-alat-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-alat-m-23').prop('checked', false);
                data.alat_m_4 == '1' ? $('#uprjpd-edit-alat-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-alat-m-4').prop('checked', false);

                // Edukasi pasien tentang efek samping obat yang diberikan
                data.edukasi_p_ho == '1' ? $('#uprjpd-edit-edukasi-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-edukasi-p-ho').prop('checked', false);
                data.edukasi_p_10 == '1' ? $('#uprjpd-edit-edukasi-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-edukasi-p-10').prop('checked', false);
                data.edukasi_s_ho == '1' ? $('#uprjpd-edit-edukasi-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-edukasi-s-ho').prop('checked', false);
                data.edukasi_s_18 == '1' ? $('#uprjpd-edit-edukasi-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-edukasi-s-18').prop('checked', false);
                data.edukasi_m_ho == '1' ? $('#uprjpd-edit-edukasi-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-edukasi-m-ho').prop('checked', false);
                data.edukasi_m_23 == '1' ? $('#uprjpd-edit-edukasi-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-edukasi-m-23').prop('checked', false);
                data.edukasi_m_4 == '1' ? $('#uprjpd-edit-edukasi-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-edukasi-m-4').prop('checked', false);

                // Tidak meninggalkan pasien di kamar mandi saat menggunakan commode
                data.commode_p_ho == '1' ? $('#uprjpd-edit-commode-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-commode-p-ho').prop('checked', false);
                data.commode_p_10 == '1' ? $('#uprjpd-edit-commode-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-commode-p-10').prop('checked', false);
                data.commode_s_ho == '1' ? $('#uprjpd-edit-commode-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-commode-s-ho').prop('checked', false);
                data.commode_s_18 == '1' ? $('#uprjpd-edit-commode-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-commode-s-18').prop('checked', false);
                data.commode_m_ho == '1' ? $('#uprjpd-edit-commode-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-commode-m-ho').prop('checked', false);
                data.commode_m_23 == '1' ? $('#uprjpd-edit-commode-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-commode-m-23').prop('checked', false);
                data.commode_m_4 == '1' ? $('#uprjpd-edit-commode-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-commode-m-4').prop('checked', false);

                // Pasang gelang khusus
                data.gelang_p_ho == '1' ? $('#uprjpd-edit-gelang-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-gelang-p-ho').prop('checked', false);
                data.gelang_p_10 == '1' ? $('#uprjpd-edit-gelang-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-gelang-p-10').prop('checked', false);
                data.gelang_s_ho == '1' ? $('#uprjpd-edit-gelang-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-gelang-s-ho').prop('checked', false);
                data.gelang_s_18 == '1' ? $('#uprjpd-edit-gelang-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-gelang-s-18').prop('checked', false);
                data.gelang_m_ho == '1' ? $('#uprjpd-edit-gelang-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-gelang-m-ho').prop('checked', false);
                data.gelang_m_23 == '1' ? $('#uprjpd-edit-gelang-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-gelang-m-23').prop('checked', false);
                data.gelang_m_4 == '1' ? $('#uprjpd-edit-gelang-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-gelang-m-4').prop('checked', false);

                // Tempatkan pasien di kamar yang paling dekat dengan Nurse Station
                data.station_p_ho == '1' ? $('#uprjpd-edit-station-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-station-p-ho').prop('checked', false);
                data.station_p_10 == '1' ? $('#uprjpd-edit-station-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-station-p-10').prop('checked', false);
                data.station_s_ho == '1' ? $('#uprjpd-edit-station-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-station-s-ho').prop('checked', false);
                data.station_s_18 == '1' ? $('#uprjpd-edit-station-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-station-s-18').prop('checked', false);
                data.station_m_ho == '1' ? $('#uprjpd-edit-station-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-station-m-ho').prop('checked', false);
                data.station_m_23 == '1' ? $('#uprjpd-edit-station-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-station-m-23').prop('checked', false);
                data.station_m_4 == '1' ? $('#uprjpd-edit-station-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-station-m-4').prop('checked', false);

                // Paraf
                data.paraf_p_ho == '1' ? $('#uprjpd-edit-paraf-p-ho').prop('checked', true) : $(
                    '#uprjpd-edit-paraf-p-ho').prop('checked', false);
                data.paraf_p_10 == '1' ? $('#uprjpd-edit-paraf-p-10').prop('checked', true) : $(
                    '#uprjpd-edit-paraf-p-10').prop('checked', false);
                data.paraf_s_ho == '1' ? $('#uprjpd-edit-paraf-s-ho').prop('checked', true) : $(
                    '#uprjpd-edit-paraf-s-ho').prop('checked', false);
                data.paraf_s_18 == '1' ? $('#uprjpd-edit-paraf-s-18').prop('checked', true) : $(
                    '#uprjpd-edit-paraf-s-18').prop('checked', false);
                data.paraf_m_ho == '1' ? $('#uprjpd-edit-paraf-m-ho').prop('checked', true) : $(
                    '#uprjpd-edit-paraf-m-ho').prop('checked', false);
                data.paraf_m_23 == '1' ? $('#uprjpd-edit-paraf-m-23').prop('checked', true) : $(
                    '#uprjpd-edit-paraf-m-23').prop('checked', false);
                data.paraf_m_4 == '1' ? $('#uprjpd-edit-paraf-m-4').prop('checked', true) : $(
                    '#uprjpd-edit-paraf-m-4').prop('checked', false);

                $('#uprjpd-edit-perawat-p').val(data.id_perawat_p);
                $('#s2id_uprjpd-edit-perawat-p a .select2c-chosen').html(data.perawat_p);

                $('#uprjpd-edit-perawat-s').val(data.id_perawat_s);
                $('#s2id_uprjpd-edit-perawat-s a .select2c-chosen').html(data.perawat_s);

                $('#uprjpd-edit-perawat-m').val(data.id_perawat_m);
                $('#s2id_uprjpd-edit-perawat-m a .select2c-chosen').html(data.perawat_m);

                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function updateUpayaPencegahanRisikoJatuhPasienDewasa(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_upaya_pencegahan_risiko_jatuh_pasien_dewasa") ?>',
            data: $('#form-edit-upaya-pencegahan-risiko-jatuh-pasien-dewasa').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '3');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-dewasa').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function hapusUpayaPencegahanResikoJatuhPasienDewasa(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_upaya_pencegahan_risiko_jatuh_pasien_dewasa") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Pengkajian Uang Resiko Jatuh Dewasa ?', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    // end upaya pencegahan risiko jatuh pasien dewasa

    // upaya pencegahan risiko jatuh pasien anak

    function showFormPemantauanAnak(num) {

        let html = bukaLebar('Form Upaya Pencegahan anak', num);

        html += /* html */ `
<div class="from-group">
    <label for="uprjpa-tanggal-pengkajian">Tanggal Tindakan Pencegahan : </label>
    <input type="text" name="uprjpa_tanggal_pengkajian" id="uprjpa-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-1 ml-2" placeholder="dd/mm/yyyy">
</div>
<hr>
<table class="table table-sm table-striped table-bordered" style="margin-top: -15px" id="form-uprjpa">
    <thead>
        <tr>
            <th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
            <th class="center" colspan="2">Pagi</th>
            <th class="center" colspan="2">Siang</th>
            <th class="center" colspan="3">Malam</th>
        </tr>
        <tr>
            <th class="center">Hand Over</th>
            <th class="center">Jam 10</th>
            <th class="center">Hand Over</th>
            <th class="center">Jam 18</th>
            <th class="center">Hand Over</th>
            <th class="center">Jam 23</th>
            <th class="center">Jam 4</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
        </tr>
        <tr>
            <td>Bel berfungsi dan mudah dijangkau</td>
            <td class="center"><input type="checkbox" name="uprjpa_bel_p_ho" id="uprjpa-bel-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_bel_p_10" id="uprjpa-bel-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_bel_s_ho" id="uprjpa-bel-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_bel_s_18" id="uprjpa-bel-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_bel_m_ho" id="uprjpa-bel-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_bel_m_23" id="uprjpa-bel-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_bel_m_4" id="uprjpa-bel-m-4"></td>
        </tr>
        <tr>
            <td>Roda tempat tidur terkunci</td>
            <td class="center"><input type="checkbox" name="uprjpa_roda_p_ho" id="uprjpa-roda-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_roda_p_10" id="uprjpa-roda-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_roda_s_ho" id="uprjpa-roda-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_roda_s_18" id="uprjpa-roda-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_roda_m_ho" id="uprjpa-roda-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_roda_m_23" id="uprjpa-roda-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_roda_m_4" id="uprjpa-roda-m-4"></td>
        </tr>
        <tr>
            <td>Posisikan tempat tidur pada posisi terendah</td>
            <td class="center"><input type="checkbox" name="uprjpa_ptt_p_ho" id="uprjpa-ptt-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ptt_p_10" id="uprjpa-ptt-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ptt_s_ho" id="uprjpa-ptt-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ptt_s_18" id="uprjpa-ptt-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ptt_m_ho" id="uprjpa-ptt-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ptt_m_23" id="uprjpa-ptt-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ptt_m_4" id="uprjpa-ptt-m-4"></td>
        </tr>
        <tr>
            <td>Pagar pengaman tempat tidur dinaikan</td>
            <td class="center"><input type="checkbox" name="uprjpa_ppt_p_ho" id="uprjpa-ppt-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ppt_p_10" id="uprjpa-ppt-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ppt_s_ho" id="uprjpa-ppt-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ppt_s_18" id="uprjpa-ppt-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ppt_m_ho" id="uprjpa-ppt-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ppt_m_23" id="uprjpa-ppt-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_ppt_m_4" id="uprjpa-ppt-m-4"></td>
        </tr>
        <tr>
            <td>Penerangan cukup</td>
            <td class="center"><input type="checkbox" name="uprjpa_penerangan_p_ho" id="uprjpa-penerangan-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_penerangan_p_10" id="uprjpa-penerangan-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_penerangan_s_ho" id="uprjpa-penerangan-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_penerangan_s_18" id="uprjpa-penerangan-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_penerangan_m_ho" id="uprjpa-penerangan-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_penerangan_m_23" id="uprjpa-penerangan-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_penerangan_m_4" id="uprjpa-penerangan-m-4"></td>
        </tr>
        <tr>
            <td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
            <td class="center"><input type="checkbox" name="uprjpa_alas_p_ho" id="uprjpa-alas-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alas_p_10" id="uprjpa-alas-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alas_s_ho" id="uprjpa-alas-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alas_s_18" id="uprjpa-alas-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alas_m_ho" id="uprjpa-alas-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alas_m_23" id="uprjpa-alas-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alas_m_4" id="uprjpa-alas-m-4"></td>
        </tr>
        <tr>
            <td>Lantai kering dan tidak licin</td>
            <td class="center"><input type="checkbox" name="uprjpa_lantai_p_ho" id="uprjpa-lantai-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_lantai_p_10" id="uprjpa-lantai-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_lantai_s_ho" id="uprjpa-lantai-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_lantai_s_18" id="uprjpa-lantai-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_lantai_m_ho" id="uprjpa-lantai-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_lantai_m_23" id="uprjpa-lantai-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_lantai_m_4" id="uprjpa-lantai-m-4"></td>
        </tr>
        <tr>
            <td>Dekatkan alat-alat pasien</td>
            <td class="center"><input type="checkbox" name="uprjpa_alat_p_ho" id="uprjpa-alat-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alat_p_10" id="uprjpa-alat-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alat_s_ho" id="uprjpa-alat-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alat_s_18" id="uprjpa-alat-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alat_m_ho" id="uprjpa-alat-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alat_m_23" id="uprjpa-alat-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_alat_m_4" id="uprjpa-alat-m-4"></td>
        </tr>
        <tr>
            <td>Edukasi pasien tentang efek samping obat yang diberikan</td>
            <td class="center"><input type="checkbox" name="uprjpa_edukasi_p_ho" id="uprjpa-edukasi-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_edukasi_p_10" id="uprjpa-edukasi-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_edukasi_s_ho" id="uprjpa-edukasi-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_edukasi_s_18" id="uprjpa-edukasi-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_edukasi_m_ho" id="uprjpa-edukasi-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_edukasi_m_23" id="uprjpa-edukasi-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_edukasi_m_4" id="uprjpa-edukasi-m-4"></td>
        </tr>
        <tr>
            <td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
            <td class="center"><input type="checkbox" name="uprjpa_commode_p_ho" id="uprjpa-commode-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_commode_p_10" id="uprjpa-commode-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_commode_s_ho" id="uprjpa-commode-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_commode_s_18" id="uprjpa-commode-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_commode_m_ho" id="uprjpa-commode-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_commode_m_23" id="uprjpa-commode-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_commode_m_4" id="uprjpa-commode-m-4"></td>
        </tr>
        <tr>
            <td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
        </tr>
        <tr>
            <td>Pasang gelang khusus (Warna Kuning)</td>
            <td class="center"><input type="checkbox" name="uprjpa_gelang_p_ho" id="uprjpa-gelang-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_gelang_p_10" id="uprjpa-gelang-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_gelang_s_ho" id="uprjpa-gelang-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_gelang_s_18" id="uprjpa-gelang-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_gelang_m_ho" id="uprjpa-gelang-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_gelang_m_23" id="uprjpa-gelang-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_gelang_m_4" id="uprjpa-gelang-m-4"></td>
        </tr>
        <tr>
            <td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
            <td class="center"><input type="checkbox" name="uprjpa_station_p_ho" id="uprjpa-station-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_station_p_10" id="uprjpa-station-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_station_s_ho" id="uprjpa-station-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_station_s_18" id="uprjpa-station-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_station_m_ho" id="uprjpa-station-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_station_m_23" id="uprjpa-station-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_station_m_4" id="uprjpa-station-m-4"></td>
        </tr>
        <tr>
            <td class="bold">Paraf</td>
            <td class="center"><input type="checkbox" name="uprjpa_paraf_p_ho" id="uprjpa-paraf-p-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_paraf_p_10" id="uprjpa-paraf-p-10"></td>
            <td class="center"><input type="checkbox" name="uprjpa_paraf_s_ho" id="uprjpa-paraf-s-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_paraf_s_18" id="uprjpa-paraf-s-18"></td>
            <td class="center"><input type="checkbox" name="uprjpa_paraf_m_ho" id="uprjpa-paraf-m-ho"></td>
            <td class="center"><input type="checkbox" name="uprjpa_paraf_m_23" id="uprjpa-paraf-m-23"></td>
            <td class="center"><input type="checkbox" name="uprjpa_paraf_m_4" id="uprjpa-paraf-m-4"></td>
        </tr>
        <tr>
            <td class="bold">Perawat</td>
            <td colspan="2">
                <div class="input-group">
                    <input type="text" name="uprjpa_perawat_p" id="uprjpa-perawat-p" class="select2c-input ml-2">
                </div>
            </td>
            <td colspan="2">
                <div class="input-group">
                    <input type="text" name="uprjpa_perawat_s" id="uprjpa-perawat-s" class="select2c-input ml-2">
                </div>
            </td>
            <td colspan="3">
                <div class="input-group">
                    <input type="text" name="uprjpa_perawat_m" id="uprjpa-perawat-m" class="select2c-input ml-2">
                </div>
            </td>
        </tr>
        <tr>
            <td colspan="8">
                <button type="button" title="Tambah Upaya Pencegahan" class="btn btn-info" onclick="tambahUpayaPencegahanAnak()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Upaya Pencegahan</button>
            </td>
        </tr>
    </tbody>
</table>`;

        html += tutupRapet();

        $('#buka-tutup-uprjpa').append(html);
    }

    $('#data-upaya-pencegahan-risiko-jatuh-pasien-anak').one('click', function() {
        $('#uprjpa-perawat-p, #uprjpa-perawat-s, #uprjpa-perawat-m, #uprjpa-edit-perawat-p, #uprjpa-edit-perawat-s, #uprjpa-edit-perawat-m')
            .select2c({
                ajax: {
                    url: "<?= base_url('masterdata/api/masterdata_auto/nadis_auto') ?>",
                    dataType: 'json',
                    quietMillis: 100,
                    data: function(term,
                        page) { // page is the one-based page number tracked by Select2
                        return {
                            q: term, //search term
                            page: page, // page number
                            jenis: $('#c_profesi').val(),
                        };
                    },
                    results: function(data, page) {
                        var more = (page * 20) < data
                            .total; // whether or not there are more results available

                        // notice we return the value of more so Select2 knows if more results can be loaded
                        return {
                            results: data.data,
                            more: more
                        };
                    }
                },
                formatResult: function(data) {
                    var markup = data.nama + '<br/><i>' + data.spesialisasi + '</i>';
                    return markup;
                },
                formatSelection: function(data) {
                    return data.nama;
                }
            });
    })

    if (typeof numberUprjpa === 'undefined') {
        var numberUprjpa = 1;
    }

    function tambahUpayaPencegahanAnak() {
        if ($('#uprjpa-tanggal-pengkajian').val() === '') {
            syams_validation('#uprjpa-tanggal-pengkajian', 'Tanggal Pengkajian harus diisi.');
            return false;
        } else {
            syams_validation_remove('#uprjpa-tanggal-pengkajian');
        }

        if ($('#uprjpa-perawat').val() === '') {
            syams_validation('#uprjpa-perawat', 'Nama perawat belum diisi.');
            return false;
        } else {
            syams_validation_remove('#uprjpa-perawat');
        }

        let html = '';
        let uprjpa_tanggal_pengkajian = $('#uprjpa-tanggal-pengkajian').val();
        let nama_perawat_p = $('#s2id_uprjpa-perawat-p a .select2c-chosen').html();
        let nama_perawat_s = $('#s2id_uprjpa-perawat-s a .select2c-chosen').html();
        let nama_perawat_m = $('#s2id_uprjpa-perawat-m a .select2c-chosen').html();
        let id_perawat_p = $('#uprjpa-perawat-p').val();
        let id_perawat_s = $('#uprjpa-perawat-s').val();
        let id_perawat_m = $('#uprjpa-perawat-m').val();

        // Bel berfungsi dan mudah dihangkau
        let bel_p_ho = $('#uprjpa-bel-p-ho').is(':checked');
        let bel_p_10 = $('#uprjpa-bel-p-10').is(':checked');
        let bel_s_ho = $('#uprjpa-bel-s-ho').is(':checked');
        let bel_s_18 = $('#uprjpa-bel-s-18').is(':checked');
        let bel_m_ho = $('#uprjpa-bel-m-ho').is(':checked');
        let bel_m_23 = $('#uprjpa-bel-m-23').is(':checked');
        let bel_m_4 = $('#uprjpa-bel-m-4').is(':checked');

        // Roda tempat tidur terkunci
        let roda_p_ho = $('#uprjpa-roda-p-ho').is(':checked');
        let roda_p_10 = $('#uprjpa-roda-p-10').is(':checked');
        let roda_s_ho = $('#uprjpa-roda-s-ho').is(':checked');
        let roda_s_18 = $('#uprjpa-roda-s-18').is(':checked');
        let roda_m_ho = $('#uprjpa-roda-m-ho').is(':checked');
        let roda_m_23 = $('#uprjpa-roda-m-23').is(':checked');
        let roda_m_4 = $('#uprjpa-roda-m-4').is(':checked');

        // Posisikan tempat tidur pada posisi terendah
        let ptt_p_ho = $('#uprjpa-ptt-p-ho').is(':checked');
        let ptt_p_10 = $('#uprjpa-ptt-p-10').is(':checked');
        let ptt_s_ho = $('#uprjpa-ptt-s-ho').is(':checked');
        let ptt_s_18 = $('#uprjpa-ptt-s-18').is(':checked');
        let ptt_m_ho = $('#uprjpa-ptt-m-ho').is(':checked');
        let ptt_m_23 = $('#uprjpa-ptt-m-23').is(':checked');
        let ptt_m_4 = $('#uprjpa-ptt-m-4').is(':checked');

        // Pagar pengaman tempat tidur dinaikan
        let ppt_p_ho = $('#uprjpa-ppt-p-ho').is(':checked');
        let ppt_p_10 = $('#uprjpa-ppt-p-10').is(':checked');
        let ppt_s_ho = $('#uprjpa-ppt-s-ho').is(':checked');
        let ppt_s_18 = $('#uprjpa-ppt-s-18').is(':checked');
        let ppt_m_ho = $('#uprjpa-ppt-m-ho').is(':checked');
        let ppt_m_23 = $('#uprjpa-ppt-m-23').is(':checked');
        let ppt_m_4 = $('#uprjpa-ppt-m-4').is(':checked');

        // Penerang cukup
        let penerangan_p_ho = $('#uprjpa-penerangan-p-ho').is(':checked');
        let penerangan_p_10 = $('#uprjpa-penerangan-p-10').is(':checked');
        let penerangan_s_ho = $('#uprjpa-penerangan-s-ho').is(':checked');
        let penerangan_s_18 = $('#uprjpa-penerangan-s-18').is(':checked');
        let penerangan_m_ho = $('#uprjpa-penerangan-m-ho').is(':checked');
        let penerangan_m_23 = $('#uprjpa-penerangan-m-23').is(':checked');
        let penerangan_m_4 = $('#uprjpa-penerangan-m-4').is(':checked');

        // Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan
        let alas_p_ho = $('#uprjpa-alas-p-ho').is(':checked');
        let alas_p_10 = $('#uprjpa-alas-p-10').is(':checked');
        let alas_s_ho = $('#uprjpa-alas-s-ho').is(':checked');
        let alas_s_18 = $('#uprjpa-alas-s-18').is(':checked');
        let alas_m_ho = $('#uprjpa-alas-m-ho').is(':checked');
        let alas_m_23 = $('#uprjpa-alas-m-23').is(':checked');
        let alas_m_4 = $('#uprjpa-alas-m-4').is(':checked');

        // Lantai kering dan tidak licin
        let lantai_p_ho = $('#uprjpa-lantai-p-ho').is(':checked');
        let lantai_p_10 = $('#uprjpa-lantai-p-10').is(':checked');
        let lantai_s_ho = $('#uprjpa-lantai-s-ho').is(':checked');
        let lantai_s_18 = $('#uprjpa-lantai-s-18').is(':checked');
        let lantai_m_ho = $('#uprjpa-lantai-m-ho').is(':checked');
        let lantai_m_23 = $('#uprjpa-lantai-m-23').is(':checked');
        let lantai_m_4 = $('#uprjpa-lantai-m-4').is(':checked');

        // Dekatkan alat-alat pasien
        let alat_p_ho = $('#uprjpa-alat-p-ho').is(':checked');
        let alat_p_10 = $('#uprjpa-alat-p-10').is(':checked');
        let alat_s_ho = $('#uprjpa-alat-s-ho').is(':checked');
        let alat_s_18 = $('#uprjpa-alat-s-18').is(':checked');
        let alat_m_ho = $('#uprjpa-alat-m-ho').is(':checked');
        let alat_m_23 = $('#uprjpa-alat-m-23').is(':checked');
        let alat_m_4 = $('#uprjpa-alat-m-4').is(':checked');

        // Edukasi pasien tentang efek samping obat yang diberikan
        let edukasi_p_ho = $('#uprjpa-edukasi-p-ho').is(':checked');
        let edukasi_p_10 = $('#uprjpa-edukasi-p-10').is(':checked');
        let edukasi_s_ho = $('#uprjpa-edukasi-s-ho').is(':checked');
        let edukasi_s_18 = $('#uprjpa-edukasi-s-18').is(':checked');
        let edukasi_m_ho = $('#uprjpa-edukasi-m-ho').is(':checked');
        let edukasi_m_23 = $('#uprjpa-edukasi-m-23').is(':checked');
        let edukasi_m_4 = $('#uprjpa-edukasi-m-4').is(':checked');

        // Tidak meninggalkan pasien di kamar mandi saat menggunakan commode
        let commode_p_ho = $('#uprjpa-commode-p-ho').is(':checked');
        let commode_p_10 = $('#uprjpa-commode-p-10').is(':checked');
        let commode_s_ho = $('#uprjpa-commode-s-ho').is(':checked');
        let commode_s_18 = $('#uprjpa-commode-s-18').is(':checked');
        let commode_m_ho = $('#uprjpa-commode-m-ho').is(':checked');
        let commode_m_23 = $('#uprjpa-commode-m-23').is(':checked');
        let commode_m_4 = $('#uprjpa-commode-m-4').is(':checked');

        // Pasang gelang khusus
        let gelang_p_ho = $('#uprjpa-gelang-p-ho').is(':checked');
        let gelang_p_10 = $('#uprjpa-gelang-p-10').is(':checked');
        let gelang_s_ho = $('#uprjpa-gelang-s-ho').is(':checked');
        let gelang_s_18 = $('#uprjpa-gelang-s-18').is(':checked');
        let gelang_m_ho = $('#uprjpa-gelang-m-ho').is(':checked');
        let gelang_m_23 = $('#uprjpa-gelang-m-23').is(':checked');
        let gelang_m_4 = $('#uprjpa-gelang-m-4').is(':checked');

        // Tempatkan pasien di kamar yang paling dekat dengan Nurse Station
        let station_p_ho = $('#uprjpa-station-p-ho').is(':checked');
        let station_p_10 = $('#uprjpa-station-p-10').is(':checked');
        let station_s_ho = $('#uprjpa-station-s-ho').is(':checked');
        let station_s_18 = $('#uprjpa-station-s-18').is(':checked');
        let station_m_ho = $('#uprjpa-station-m-ho').is(':checked');
        let station_m_23 = $('#uprjpa-station-m-23').is(':checked');
        let station_m_4 = $('#uprjpa-station-m-4').is(':checked');

        // Paraf
        let paraf_p_ho = $('#uprjpa-paraf-p-ho').is(':checked');
        let paraf_p_10 = $('#uprjpa-paraf-p-10').is(':checked');
        let paraf_s_ho = $('#uprjpa-paraf-s-ho').is(':checked');
        let paraf_s_18 = $('#uprjpa-paraf-s-18').is(':checked');
        let paraf_m_ho = $('#uprjpa-paraf-m-ho').is(':checked');
        let paraf_m_23 = $('#uprjpa-paraf-m-23').is(':checked');
        let paraf_m_4 = $('#uprjpa-paraf-m-4').is(':checked');

        html = /* html */ `
        <tr class="row-in-${++numberUprjpa}">
            <td class="number-pengkajian" align="center">${numberUprjpa}</td>
            <td align="center">
                <input type="hidden" name="uprjpa_tanggal_pengkajian[]" value="${uprjpa_tanggal_pengkajian}">${uprjpa_tanggal_pengkajian}
            </td>
            <td align="center">
                <input type="hidden" name="uprjpa_perawat_p[]" value="${id_perawat_p}">${nama_perawat_p}
            </td>
            <td align="center">
                <input type="hidden" name="uprjpa_perawat_s[]" value="${id_perawat_s}">${nama_perawat_s}
            </td>
            <td align="center">
                <input type="hidden" name="uprjpa_perawat_m[]" value="${id_perawat_m}">${nama_perawat_m}
            </td>
            <td align="center">
                <?= $this->session->userdata('nama') ?>
                <input type="hidden" name="user_uprjpa[]" value="<?= $this->session->userdata("id_translucent") ?>">
                <input type="hidden" name="pencegahan_date_anak[]" value="<?= date("Y-m-d H:i:s") ?>">

                <input type="hidden" name="uprjpa_bel_p_ho[]" value="${bel_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_bel_p_10[]" value="${bel_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_bel_s_ho[]" value="${bel_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_bel_s_18[]" value="${bel_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_bel_m_ho[]" value="${bel_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_bel_m_23[]" value="${bel_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_bel_m_4[]" value="${bel_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_roda_p_ho[]" value="${roda_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_roda_p_10[]" value="${roda_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_roda_s_ho[]" value="${roda_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_roda_s_18[]" value="${roda_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_roda_m_ho[]" value="${roda_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_roda_m_23[]" value="${roda_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_roda_m_4[]" value="${roda_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_ptt_p_ho[]" value="${ptt_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_ptt_p_10[]" value="${ptt_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_ptt_s_ho[]" value="${ptt_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_ptt_s_18[]" value="${ptt_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_ptt_m_ho[]" value="${ptt_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_ptt_m_23[]" value="${ptt_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_ptt_m_4[]" value="${ptt_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_ppt_p_ho[]" value="${ppt_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_ppt_p_10[]" value="${ppt_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_ppt_s_ho[]" value="${ppt_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_ppt_s_18[]" value="${ppt_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_ppt_m_ho[]" value="${ppt_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_ppt_m_23[]" value="${ppt_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_ppt_m_4[]" value="${ppt_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_penerangan_p_ho[]" value="${penerangan_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_penerangan_p_10[]" value="${penerangan_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_penerangan_s_ho[]" value="${penerangan_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_penerangan_s_18[]" value="${penerangan_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_penerangan_m_ho[]" value="${penerangan_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_penerangan_m_23[]" value="${penerangan_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_penerangan_m_4[]" value="${penerangan_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_alas_p_ho[]" value="${alas_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_alas_p_10[]" value="${alas_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_alas_s_ho[]" value="${alas_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_alas_s_18[]" value="${alas_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_alas_m_ho[]" value="${alas_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_alas_m_23[]" value="${alas_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_alas_m_4[]" value="${alas_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_lantai_p_ho[]" value="${lantai_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_lantai_p_10[]" value="${lantai_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_lantai_s_ho[]" value="${lantai_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_lantai_s_18[]" value="${lantai_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_lantai_m_ho[]" value="${lantai_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_lantai_m_23[]" value="${lantai_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_lantai_m_4[]" value="${lantai_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_alat_p_ho[]" value="${alat_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_alat_p_10[]" value="${alat_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_alat_s_ho[]" value="${alat_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_alat_s_18[]" value="${alat_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_alat_m_ho[]" value="${alat_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_alat_m_23[]" value="${alat_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_alat_m_4[]" value="${alat_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_edukasi_p_ho[]" value="${edukasi_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_edukasi_p_10[]" value="${edukasi_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_edukasi_s_ho[]" value="${edukasi_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_edukasi_s_18[]" value="${edukasi_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_edukasi_m_ho[]" value="${edukasi_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_edukasi_m_23[]" value="${edukasi_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_edukasi_m_4[]" value="${edukasi_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_commode_p_ho[]" value="${commode_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_commode_p_10[]" value="${commode_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_commode_s_ho[]" value="${commode_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_commode_s_18[]" value="${commode_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_commode_m_ho[]" value="${commode_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_commode_m_23[]" value="${commode_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_commode_m_4[]" value="${commode_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_gelang_p_ho[]" value="${gelang_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_gelang_p_10[]" value="${gelang_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_gelang_s_ho[]" value="${gelang_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_gelang_s_18[]" value="${gelang_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_gelang_m_ho[]" value="${gelang_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_gelang_m_23[]" value="${gelang_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_gelang_m_4[]" value="${gelang_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_station_p_ho[]" value="${station_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_station_p_10[]" value="${station_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_station_s_ho[]" value="${station_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_station_s_18[]" value="${station_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_station_m_ho[]" value="${station_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_station_m_23[]" value="${station_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_station_m_4[]" value="${station_m_4 ? 1 : 0}">

                <input type="hidden" name="uprjpa_paraf_p_ho[]" value="${paraf_p_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_paraf_p_10[]" value="${paraf_p_10 ? 1 : 0}">
                <input type="hidden" name="uprjpa_paraf_s_ho[]" value="${paraf_s_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_paraf_s_18[]" value="${paraf_s_18 ? 1 : 0}">
                <input type="hidden" name="uprjpa_paraf_m_ho[]" value="${paraf_m_ho ? 1 : 0}">
                <input type="hidden" name="uprjpa_paraf_m_23[]" value="${paraf_m_23 ? 1 : 0}">
                <input type="hidden" name="uprjpa_paraf_m_4[]" value="${paraf_m_4 ? 1 : 0}">
            </td>
            <td align="center">
                <button type="button" id="pepel" class="btn btn-secondary btn-xxs" onclick="(() => {$(this).parent().parent().parent().find('.row-in-' + numberUprjpa).remove(); numberUprjpa--;})()"><i class="fas fa-trash-alt"></i></button>
            </td>
            <td align="center"><button type="button" class="btn btn-info btn-xxs" data-toggle="collapse" data-target="#data-collapse-${numberUprjpa}" aria-expanded="false" aria-controls="data-collapse-${numberUprjpa}"><i class="fas fa-expand"></i> Expand</button></td>
        </tr>
        <tr class="collapse row-in-${numberUprjpa}" id="data-collapse-${numberUprjpa}">
            <td colspan="8">
                <table class="table table-sm table-striped table-bordered" style="margin-top: .5rem">
                    <thead>
                    <tr>
                        <th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
                        <th class="center" colspan="2">Pagi</th>
                        <th class="center" colspan="2">Siang</th>
                        <th class="center" colspan="3">Malam</th>
                    </tr>
                    <tr>
                        <th class="center">Hand Over</th>
                        <th class="center">Jam 10</th>
                        <th class="center">Hand Over</th>
                        <th class="center">Jam 18</th>
                        <th class="center">Hand Over</th>
                        <th class="center">Jam 23</th>
                        <th class="center">Jam 4</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
                    </tr>
                    <tr>
                        <td>Bel berfungsi dan mudah dijangkau</td>
                        <td class="center">${bel_p_ho ? '&check;' : ''}</td>
                        <td class="center">${bel_p_10 ? '&check;' : ''}</td>
                        <td class="center">${bel_s_ho ? '&check;' : ''}</td>
                        <td class="center">${bel_s_18 ? '&check;' : ''}</td>
                        <td class="center">${bel_m_ho ? '&check;' : ''}</td>
                        <td class="center">${bel_m_23 ? '&check;' : ''}</td>
                        <td class="center">${bel_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Roda tempat tidur terkunci</td>
                        <td class="center">${roda_p_ho ? '&check;' : ''}</td>
                        <td class="center">${roda_p_10 ? '&check;' : ''}</td>
                        <td class="center">${roda_s_ho ? '&check;' : ''}</td>
                        <td class="center">${roda_s_18 ? '&check;' : ''}</td>
                        <td class="center">${roda_m_ho ? '&check;' : ''}</td>
                        <td class="center">${roda_m_23 ? '&check;' : ''}</td>
                        <td class="center">${roda_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Posisikan tempat tidur pada posisi terendah</td>
                        <td class="center">${ptt_p_ho ? '&check;' : ''}</td>
                        <td class="center">${ptt_p_10 ? '&check;' : ''}</td>
                        <td class="center">${ptt_s_ho ? '&check;' : ''}</td>
                        <td class="center">${ptt_s_18 ? '&check;' : ''}</td>
                        <td class="center">${ptt_m_ho ? '&check;' : ''}</td>
                        <td class="center">${ptt_m_23 ? '&check;' : ''}</td>
                        <td class="center">${ptt_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Pagar pengaman tempat tidur dinaikan</td>
                        <td class="center">${ppt_p_ho ? '&check;' : ''}</td>
                        <td class="center">${ppt_p_10 ? '&check;' : ''}</td>
                        <td class="center">${ppt_s_ho ? '&check;' : ''}</td>
                        <td class="center">${ppt_s_18 ? '&check;' : ''}</td>
                        <td class="center">${ppt_m_ho ? '&check;' : ''}</td>
                        <td class="center">${ppt_m_23 ? '&check;' : ''}</td>
                        <td class="center">${ppt_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Penerangan cukup</td>
                        <td class="center">${penerangan_p_ho ? '&check;' : ''}</td>
                        <td class="center">${penerangan_p_10 ? '&check;' : ''}</td>
                        <td class="center">${penerangan_s_ho ? '&check;' : ''}</td>
                        <td class="center">${penerangan_s_18 ? '&check;' : ''}</td>
                        <td class="center">${penerangan_m_ho ? '&check;' : ''}</td>
                        <td class="center">${penerangan_m_23 ? '&check;' : ''}</td>
                        <td class="center">${penerangan_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
                        <td class="center">${alas_p_ho ? '&check;' : ''}</td>
                        <td class="center">${alas_p_10 ? '&check;' : ''}</td>
                        <td class="center">${alas_s_ho ? '&check;' : ''}</td>
                        <td class="center">${alas_s_18 ? '&check;' : ''}</td>
                        <td class="center">${alas_m_ho ? '&check;' : ''}</td>
                        <td class="center">${alas_m_23 ? '&check;' : ''}</td>
                        <td class="center">${alas_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Lantai kering dan tidak licin</td>
                        <td class="center">${lantai_p_ho ? '&check;' : ''}</td>
                        <td class="center">${lantai_p_10 ? '&check;' : ''}</td>
                        <td class="center">${lantai_s_ho ? '&check;' : ''}</td>
                        <td class="center">${lantai_s_18 ? '&check;' : ''}</td>
                        <td class="center">${lantai_m_ho ? '&check;' : ''}</td>
                        <td class="center">${lantai_m_23 ? '&check;' : ''}</td>
                        <td class="center">${lantai_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Dekatkan alat-alat pasien</td>
                        <td class="center">${alat_p_ho ? '&check;' : ''}</td>
                        <td class="center">${alat_p_10 ? '&check;' : ''}</td>
                        <td class="center">${alat_s_ho ? '&check;' : ''}</td>
                        <td class="center">${alat_s_18 ? '&check;' : ''}</td>
                        <td class="center">${alat_m_ho ? '&check;' : ''}</td>
                        <td class="center">${alat_m_23 ? '&check;' : ''}</td>
                        <td class="center">${alat_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Edukasi pasien tentang efek samping obat yang diberikan</td>
                        <td class="center">${edukasi_p_ho ? '&check;' : ''}</td>
                        <td class="center">${edukasi_p_10 ? '&check;' : ''}</td>
                        <td class="center">${edukasi_s_ho ? '&check;' : ''}</td>
                        <td class="center">${edukasi_s_18 ? '&check;' : ''}</td>
                        <td class="center">${edukasi_m_ho ? '&check;' : ''}</td>
                        <td class="center">${edukasi_m_23 ? '&check;' : ''}</td>
                        <td class="center">${edukasi_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
                        <td class="center">${commode_p_ho ? '&check;' : ''}</td>
                        <td class="center">${commode_p_10 ? '&check;' : ''}</td>
                        <td class="center">${commode_s_ho ? '&check;' : ''}</td>
                        <td class="center">${commode_s_18 ? '&check;' : ''}</td>
                        <td class="center">${commode_m_ho ? '&check;' : ''}</td>
                        <td class="center">${commode_m_23 ? '&check;' : ''}</td>
                        <td class="center">${commode_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
                    </tr>
                    <tr>
                        <td>Pasang gelang khusus (Warna Kuning)</td>
                        <td class="center">${gelang_p_ho ? '&check;' : ''}</td>
                        <td class="center">${gelang_p_10 ? '&check;' : ''}</td>
                        <td class="center">${gelang_s_ho ? '&check;' : ''}</td>
                        <td class="center">${gelang_s_18 ? '&check;' : ''}</td>
                        <td class="center">${gelang_m_ho ? '&check;' : ''}</td>
                        <td class="center">${gelang_m_23 ? '&check;' : ''}</td>
                        <td class="center">${gelang_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
                        <td class="center">${station_p_ho ? '&check;' : ''}</td>
                        <td class="center">${station_p_10 ? '&check;' : ''}</td>
                        <td class="center">${station_s_ho ? '&check;' : ''}</td>
                        <td class="center">${station_s_18 ? '&check;' : ''}</td>
                        <td class="center">${station_m_ho ? '&check;' : ''}</td>
                        <td class="center">${station_m_23 ? '&check;' : ''}</td>
                        <td class="center">${station_m_4 ? '&check;' : ''}</td>
                    </tr>
                    <tr>
                        <td class="bold">Paraf</td>
                        <td class="center">${paraf_p_ho ? '&check;' : '&#10006;'}</td>
                        <td class="center">${paraf_p_10 ? '&check;' : '&#10006;'}</td>
                        <td class="center">${paraf_s_ho ? '&check;' : '&#10006;'}</td>
                        <td class="center">${paraf_s_18 ? '&check;' : '&#10006;'}</td>
                        <td class="center">${paraf_m_ho ? '&check;' : '&#10006;'}</td>
                        <td class="center">${paraf_m_23 ? '&check;' : '&#10006;'}</td>
                        <td class="center">${paraf_m_4 ? '&check;' : '&#10006;'}</td>
                    </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    `;
        $('#tabel-uprjpa .body-table').append(html);
    }

    function showUpayaPencegahanRisikoJatuhPasienAnak(data, id_pendaftaran, id_layanan_pendaftaran, bed) {
        $('#tabel-uprjpa .body-table').empty();
        if (data !== null) {
            $.each(data, function(i, v) {

                const selOp =
                    '<td align="center"><button type="button" class="btn btn-secondary btn-xs" onclick="editUpayaPencegahanRisikoJatuhPasienAnak(this, ' +
                    v.id + ', ' + id_pendaftaran + ', ' + id_layanan_pendaftaran + ', \'' + bed +
                    '\')"><i class="fas fa-edit"></i> </button> <button type="button" class="btn btn-secondary btn-xs" onclick="hapusUpayaPencegahanResikoJatuhPasienAnak(this, ' +
                    v.id + ')"> <i class="fas fa-trash-alt"></i> </button> </td>';

                let html = /* html */ `
            <tr>
                <td class="number-terapi" align="center">${(++i)}</td>
                <td align="center">${v.tanggal_pengkajian}</td>
                <td align="center">${v.perawat_p || '-' }</td>
                <td align="center">${v.perawat_s || '-'}</td>
                <td align="center">${v.perawat_m || '-'}</td>
                <td align="center">${v.akun_user}</td>
                ${selOp}
                <td align="center"><button type="button" class="btn btn-info btn-xxs" data-toggle="collapse" data-target="#data-collapse-${i}" aria-expanded="false" aria-controls="data-collapse-${i}"><i class="fas fa-expand"></i> Expand</button></td>
            </tr>
            <tr class="collapse" id="data-collapse-${i}">
                <td colspan="8">
                    <table class="table table-sm table-striped table-bordered" style="margin-top: .5rem">
                        <thead>
                        <tr>
                            <th class="center" rowspan="2"><b>Tindakan Pencegahan</b></th>
                            <th class="center" colspan="2">Pagi</th>
                            <th class="center" colspan="2">Siang</th>
                            <th class="center" colspan="3">Malam</th>
                        </tr>
                        <tr>
                            <th class="center">Hand Over</th>
                            <th class="center">Jam 10</th>
                            <th class="center">Hand Over</th>
                            <th class="center">Jam 18</th>
                            <th class="center">Hand Over</th>
                            <th class="center">Jam 23</th>
                            <th class="center">Jam 4</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td colspan="8" class="bold text-uppercase">Risiko Rendah/Sedang</td>
                        </tr>
                        <tr>
                            <td>Bel berfungsi dan mudah dijangkau</td>
                            <td class="center">${v.bel_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.bel_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.bel_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.bel_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.bel_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.bel_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.bel_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Roda tempat tidur terkunci</td>
                            <td class="center">${v.roda_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.roda_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.roda_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.roda_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.roda_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.roda_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.roda_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Posisikan tempat tidur pada posisi terendah</td>
                            <td class="center">${v.ptt_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ptt_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ptt_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ptt_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ptt_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ptt_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ptt_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Pagar pengaman tempat tidur dinaikan</td>
                            <td class="center">${v.ppt_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ppt_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ppt_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ppt_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ppt_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ppt_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.ppt_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Penerangan cukup</td>
                            <td class="center">${v.penerangan_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.penerangan_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.penerangan_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.penerangan_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.penerangan_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.penerangan_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.penerangan_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan</td>
                            <td class="center">${v.alas_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alas_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alas_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alas_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alas_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alas_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alas_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Lantai kering dan tidak licin</td>
                            <td class="center">${v.lantai_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.lantai_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.lantai_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.lantai_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.lantai_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.lantai_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.lantai_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Dekatkan alat-alat pasien</td>
                            <td class="center">${v.alat_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alat_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alat_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alat_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alat_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alat_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.alat_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Edukasi pasien tentang efek samping obat yang diberikan</td>
                            <td class="center">${v.edukasi_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.edukasi_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.edukasi_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.edukasi_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.edukasi_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.edukasi_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.edukasi_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Tidak meninggalkan pasien di kamar mandi saat menggunakan commode</td>
                            <td class="center">${v.commode_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.commode_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.commode_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.commode_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.commode_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.commode_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.commode_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td colspan="8" class="bold text-uppercase">Risiko Tinggi</td>
                        </tr>
                        <tr>
                            <td>Pasang gelang khusus (Warna Kuning)</td>
                            <td class="center">${v.gelang_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.gelang_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.gelang_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.gelang_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.gelang_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.gelang_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.gelang_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td>Tempatkan pasien di kamar yang paling dekat dengan Nurse Station (jika memungkinkan)</td>
                            <td class="center">${v.station_p_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.station_p_10 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.station_s_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.station_s_18 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.station_m_ho == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.station_m_23 == '1' ? '&check;' : ''}</td>
                            <td class="center">${v.station_m_4 == '1' ? '&check;' : ''}</td>
                        </tr>
                        <tr>
                            <td class="bold">Paraf</td>
                            <td class="center">${v.paraf_p_ho == '1' ? '&check;' : '&#10006;'}</td>
                            <td class="center">${v.paraf_p_10 == '1' ? '&check;' : '&#10006;'}</td>
                            <td class="center">${v.paraf_s_ho == '1' ? '&check;' : '&#10006;'}</td>
                            <td class="center">${v.paraf_s_18 == '1' ? '&check;' : '&#10006;'}</td>
                            <td class="center">${v.paraf_m_ho == '1' ? '&check;' : '&#10006;'}</td>
                            <td class="center">${v.paraf_m_23 == '1' ? '&check;' : '&#10006;'}</td>
                            <td class="center">${v.paraf_m_4 == '1' ? '&check;' : '&#10006;'}</td>
                        </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        `;

                $('#tabel-uprjpa .body-table').append(html);

                numberUprjpl = i;
            })
        }
    }

    function editUpayaPencegahanRisikoJatuhPasienAnak(obj, id, id_pendaftaran, id_layanan_pendaftaran, bed) {
        const modal = $('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-anak');
        $('#update-uprjpa').children().remove();

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_upaya_pencegahan_risiko_jatuh_pasien_anak") ?>/id/' +
                id,
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                $('#update-uprjpa').empty();
                $('#id-upaya-pencegahan-risiko-jatuh-pasien-anak').val(id);

                function formatTanggalKhusus(waktu) {
                    var el = waktu.split('-');
                    var tahun = el[0];
                    var bulan = el[1];
                    var hari = el[2];
                    return hari + '/' + bulan + '/' + tahun;

                }

                let edit_tanggal_pengkajian = formatTanggalKhusus(data.tanggal_pengkajian);
                $('#uprjpa-edit-tanggal-pengkajian').val(edit_tanggal_pengkajian);

                let cttntndkn = '';
                cttntndkn =
                    `  <button type="button" class="btn btn-secondary waves-effect" onclick="$('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-anak').modal('hide');"><i class="fas fa-times-circle mr-1"></i>Tutup</button>
                    <button type="button" class="btn btn-info waves-effect" onclick="updateUpayaPencegahanRisikoJatuhPasienAnak(${id_pendaftaran}, ${id_layanan_pendaftaran}, '${bed}')"><i class="fas fa-save mr-1"></i>Update</button>`;
                $('#update-uprjpa').append(cttntndkn);

                // Bel berfungsi dan mudah dihangkau
                data.bel_p_ho == '1' ? $('#uprjpa-edit-bel-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-bel-p-ho').prop('checked', false);
                data.bel_p_10 == '1' ? $('#uprjpa-edit-bel-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-bel-p-10').prop('checked', false);
                data.bel_s_ho == '1' ? $('#uprjpa-edit-bel-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-bel-s-ho').prop('checked', false);
                data.bel_s_18 == '1' ? $('#uprjpa-edit-bel-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-bel-s-18').prop('checked', false);
                data.bel_m_ho == '1' ? $('#uprjpa-edit-bel-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-bel-m-ho').prop('checked', false);
                data.bel_m_23 == '1' ? $('#uprjpa-edit-bel-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-bel-m-23').prop('checked', false);
                data.bel_m_4 == '1' ? $('#uprjpa-edit-bel-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-bel-m-4').prop('checked', false);

                // Roda tempat tidur terkunci
                data.roda_p_ho == '1' ? $('#uprjpa-edit-roda-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-roda-p-ho').prop('checked', false);
                data.roda_p_10 == '1' ? $('#uprjpa-edit-roda-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-roda-p-10').prop('checked', false);
                data.roda_s_ho == '1' ? $('#uprjpa-edit-roda-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-roda-s-ho').prop('checked', false);
                data.roda_s_18 == '1' ? $('#uprjpa-edit-roda-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-roda-s-18').prop('checked', false);
                data.roda_m_ho == '1' ? $('#uprjpa-edit-roda-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-roda-m-ho').prop('checked', false);
                data.roda_m_23 == '1' ? $('#uprjpa-edit-roda-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-roda-m-23').prop('checked', false);
                data.roda_m_4 == '1' ? $('#uprjpa-edit-roda-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-roda-m-4').prop('checked', false);

                // Posisikan tempat tidur pada posisi terendah
                data.ptt_p_ho == '1' ? $('#uprjpa-edit-ptt-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-ptt-p-ho').prop('checked', false);
                data.ptt_p_10 == '1' ? $('#uprjpa-edit-ptt-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-ptt-p-10').prop('checked', false);
                data.ptt_s_ho == '1' ? $('#uprjpa-edit-ptt-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-ptt-s-ho').prop('checked', false);
                data.ptt_s_18 == '1' ? $('#uprjpa-edit-ptt-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-ptt-s-18').prop('checked', false);
                data.ptt_m_ho == '1' ? $('#uprjpa-edit-ptt-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-ptt-m-ho').prop('checked', false);
                data.ptt_m_23 == '1' ? $('#uprjpa-edit-ptt-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-ptt-m-23').prop('checked', false);
                data.ptt_m_4 == '1' ? $('#uprjpa-edit-ptt-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-ptt-m-4').prop('checked', false);

                // Pagar pengaman tempat tidur dinaikan
                data.ppt_p_ho == '1' ? $('#uprjpa-edit-ppt-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-ppt-p-ho').prop('checked', false);
                data.ppt_p_10 == '1' ? $('#uprjpa-edit-ppt-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-ppt-p-10').prop('checked', false);
                data.ppt_s_ho == '1' ? $('#uprjpa-edit-ppt-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-ppt-s-ho').prop('checked', false);
                data.ppt_s_18 == '1' ? $('#uprjpa-edit-ppt-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-ppt-s-18').prop('checked', false);
                data.ppt_m_ho == '1' ? $('#uprjpa-edit-ppt-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-ppt-m-ho').prop('checked', false);
                data.ppt_m_23 == '1' ? $('#uprjpa-edit-ppt-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-ppt-m-23').prop('checked', false);
                data.ppt_m_4 == '1' ? $('#uprjpa-edit-ppt-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-ppt-m-4').prop('checked', false);

                // Penerang cukup
                data.penerangan_p_ho == '1' ? $('#uprjpa-edit-penerangan-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-penerangan-p-ho').prop('checked', false);
                data.penerangan_p_10 == '1' ? $('#uprjpa-edit-penerangan-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-penerangan-p-10').prop('checked', false);
                data.penerangan_s_ho == '1' ? $('#uprjpa-edit-penerangan-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-penerangan-s-ho').prop('checked', false);
                data.penerangan_s_18 == '1' ? $('#uprjpa-edit-penerangan-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-penerangan-s-18').prop('checked', false);
                data.penerangan_m_ho == '1' ? $('#uprjpa-edit-penerangan-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-penerangan-m-ho').prop('checked', false);
                data.penerangan_m_23 == '1' ? $('#uprjpa-edit-penerangan-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-penerangan-m-23').prop('checked', false);
                data.penerangan_m_4 == '1' ? $('#uprjpa-edit-penerangan-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-penerangan-m-4').prop('checked', false);

                // Pastikan alas kaki yang tidak licin untuk pasien yang dapat berjalan
                data.alas_p_ho == '1' ? $('#uprjpa-edit-alas-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-alas-p-ho').prop('checked', false);
                data.alas_p_10 == '1' ? $('#uprjpa-edit-alas-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-alas-p-10').prop('checked', false);
                data.alas_s_ho == '1' ? $('#uprjpa-edit-alas-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-alas-s-ho').prop('checked', false);
                data.alas_s_18 == '1' ? $('#uprjpa-edit-alas-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-alas-s-18').prop('checked', false);
                data.alas_m_ho == '1' ? $('#uprjpa-edit-alas-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-alas-m-ho').prop('checked', false);
                data.alas_m_23 == '1' ? $('#uprjpa-edit-alas-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-alas-m-23').prop('checked', false);
                data.alas_m_4 == '1' ? $('#uprjpa-edit-alas-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-alas-m-4').prop('checked', false);

                // Lantai kering dan tidak licin
                data.lantai_p_ho == '1' ? $('#uprjpa-edit-lantai-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-lantai-p-ho').prop('checked', false);
                data.lantai_p_10 == '1' ? $('#uprjpa-edit-lantai-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-lantai-p-10').prop('checked', false);
                data.lantai_s_ho == '1' ? $('#uprjpa-edit-lantai-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-lantai-s-ho').prop('checked', false);
                data.lantai_s_18 == '1' ? $('#uprjpa-edit-lantai-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-lantai-s-18').prop('checked', false);
                data.lantai_m_ho == '1' ? $('#uprjpa-edit-lantai-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-lantai-m-ho').prop('checked', false);
                data.lantai_m_23 == '1' ? $('#uprjpa-edit-lantai-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-lantai-m-23').prop('checked', false);
                data.lantai_m_4 == '1' ? $('#uprjpa-edit-lantai-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-lantai-m-4').prop('checked', false);

                // Dekatkan alat-alat pasien
                data.alat_p_ho == '1' ? $('#uprjpa-edit-alat-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-alat-p-ho').prop('checked', false);
                data.alat_p_10 == '1' ? $('#uprjpa-edit-alat-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-alat-p-10').prop('checked', false);
                data.alat_s_ho == '1' ? $('#uprjpa-edit-alat-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-alat-s-ho').prop('checked', false);
                data.alat_s_18 == '1' ? $('#uprjpa-edit-alat-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-alat-s-18').prop('checked', false);
                data.alat_m_ho == '1' ? $('#uprjpa-edit-alat-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-alat-m-ho').prop('checked', false);
                data.alat_m_23 == '1' ? $('#uprjpa-edit-alat-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-alat-m-23').prop('checked', false);
                data.alat_m_4 == '1' ? $('#uprjpa-edit-alat-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-alat-m-4').prop('checked', false);

                // Edukasi pasien tentang efek samping obat yang diberikan
                data.edukasi_p_ho == '1' ? $('#uprjpa-edit-edukasi-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-edukasi-p-ho').prop('checked', false);
                data.edukasi_p_10 == '1' ? $('#uprjpa-edit-edukasi-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-edukasi-p-10').prop('checked', false);
                data.edukasi_s_ho == '1' ? $('#uprjpa-edit-edukasi-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-edukasi-s-ho').prop('checked', false);
                data.edukasi_s_18 == '1' ? $('#uprjpa-edit-edukasi-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-edukasi-s-18').prop('checked', false);
                data.edukasi_m_ho == '1' ? $('#uprjpa-edit-edukasi-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-edukasi-m-ho').prop('checked', false);
                data.edukasi_m_23 == '1' ? $('#uprjpa-edit-edukasi-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-edukasi-m-23').prop('checked', false);
                data.edukasi_m_4 == '1' ? $('#uprjpa-edit-edukasi-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-edukasi-m-4').prop('checked', false);

                // Tidak meninggalkan pasien di kamar mandi saat menggunakan commode
                data.commode_p_ho == '1' ? $('#uprjpa-edit-commode-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-commode-p-ho').prop('checked', false);
                data.commode_p_10 == '1' ? $('#uprjpa-edit-commode-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-commode-p-10').prop('checked', false);
                data.commode_s_ho == '1' ? $('#uprjpa-edit-commode-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-commode-s-ho').prop('checked', false);
                data.commode_s_18 == '1' ? $('#uprjpa-edit-commode-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-commode-s-18').prop('checked', false);
                data.commode_m_ho == '1' ? $('#uprjpa-edit-commode-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-commode-m-ho').prop('checked', false);
                data.commode_m_23 == '1' ? $('#uprjpa-edit-commode-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-commode-m-23').prop('checked', false);
                data.commode_m_4 == '1' ? $('#uprjpa-edit-commode-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-commode-m-4').prop('checked', false);

                // Pasang gelang khusus
                data.gelang_p_ho == '1' ? $('#uprjpa-edit-gelang-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-gelang-p-ho').prop('checked', false);
                data.gelang_p_10 == '1' ? $('#uprjpa-edit-gelang-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-gelang-p-10').prop('checked', false);
                data.gelang_s_ho == '1' ? $('#uprjpa-edit-gelang-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-gelang-s-ho').prop('checked', false);
                data.gelang_s_18 == '1' ? $('#uprjpa-edit-gelang-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-gelang-s-18').prop('checked', false);
                data.gelang_m_ho == '1' ? $('#uprjpa-edit-gelang-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-gelang-m-ho').prop('checked', false);
                data.gelang_m_23 == '1' ? $('#uprjpa-edit-gelang-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-gelang-m-23').prop('checked', false);
                data.gelang_m_4 == '1' ? $('#uprjpa-edit-gelang-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-gelang-m-4').prop('checked', false);

                // Tempatkan pasien di kamar yang paling dekat dengan Nurse Station
                data.station_p_ho == '1' ? $('#uprjpa-edit-station-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-station-p-ho').prop('checked', false);
                data.station_p_10 == '1' ? $('#uprjpa-edit-station-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-station-p-10').prop('checked', false);
                data.station_s_ho == '1' ? $('#uprjpa-edit-station-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-station-s-ho').prop('checked', false);
                data.station_s_18 == '1' ? $('#uprjpa-edit-station-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-station-s-18').prop('checked', false);
                data.station_m_ho == '1' ? $('#uprjpa-edit-station-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-station-m-ho').prop('checked', false);
                data.station_m_23 == '1' ? $('#uprjpa-edit-station-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-station-m-23').prop('checked', false);
                data.station_m_4 == '1' ? $('#uprjpa-edit-station-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-station-m-4').prop('checked', false);

                // Paraf
                data.paraf_p_ho == '1' ? $('#uprjpa-edit-paraf-p-ho').prop('checked', true) : $(
                    '#uprjpa-edit-paraf-p-ho').prop('checked', false);
                data.paraf_p_10 == '1' ? $('#uprjpa-edit-paraf-p-10').prop('checked', true) : $(
                    '#uprjpa-edit-paraf-p-10').prop('checked', false);
                data.paraf_s_ho == '1' ? $('#uprjpa-edit-paraf-s-ho').prop('checked', true) : $(
                    '#uprjpa-edit-paraf-s-ho').prop('checked', false);
                data.paraf_s_18 == '1' ? $('#uprjpa-edit-paraf-s-18').prop('checked', true) : $(
                    '#uprjpa-edit-paraf-s-18').prop('checked', false);
                data.paraf_m_ho == '1' ? $('#uprjpa-edit-paraf-m-ho').prop('checked', true) : $(
                    '#uprjpa-edit-paraf-m-ho').prop('checked', false);
                data.paraf_m_23 == '1' ? $('#uprjpa-edit-paraf-m-23').prop('checked', true) : $(
                    '#uprjpa-edit-paraf-m-23').prop('checked', false);
                data.paraf_m_4 == '1' ? $('#uprjpa-edit-paraf-m-4').prop('checked', true) : $(
                    '#uprjpa-edit-paraf-m-4').prop('checked', false);

                $('#uprjpa-edit-perawat-p').val(data.id_perawat_p);
                $('#s2id_uprjpa-edit-perawat-p a .select2c-chosen').html(data.perawat_p);

                $('#uprjpa-edit-perawat-s').val(data.id_perawat_s);
                $('#s2id_uprjpa-edit-perawat-s a .select2c-chosen').html(data.perawat_s);

                $('#uprjpa-edit-perawat-m').val(data.id_perawat_m);
                $('#s2id_uprjpa-edit-perawat-m a .select2c-chosen').html(data.perawat_m);

                modal.modal('show');
            },
            error: function(e) {
                accessFailed(e.status);
            }
        })
    }

    function updateUpayaPencegahanRisikoJatuhPasienAnak(id_pendaftaran, id_layanan_pendaftaran, bed) {
        $.ajax({
            type: 'PUT',
            url: '<?= base_url("pelayanan/api/pelayanan/update_upaya_pencegahan_risiko_jatuh_pasien_anak") ?>',
            data: $('#form-edit-upaya-pencegahan-risiko-jatuh-pasien-anak').serialize(),
            cache: false,
            dataType: 'JSON',
            success: function(data) {
                if (data.status) {
                    messageEditSuccess();
                    $('#wizard_form_resume').bwizard('show', '3');
                    entriKeperawatan(id_pendaftaran, id_layanan_pendaftaran, bed);
                } else {
                    messageEditFailed();
                }

                $('#modal-edit-upaya-pencegahan-risiko-jatuh-pasien-anak').modal('hide');
            },
            error: function(e) {
                messageEditFailed();
            }
        });
    }

    function hapusUpayaPencegahanResikoJatuhPasienAnak(obj, id) {
        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_upaya_pencegahan_risiko_jatuh_pasien_anak") ?>/' +
                                id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Pengkajian Uang Resiko Jatuh Anak ?', data
                                        .message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });
    }

    // end upaya pencegahan risiko jatuh pasien anak

    function showPemantauanUlang(num) {

        let html = bukaLebar('Form Pengkajian dan Pemantauan Ulang Nyeri', num);

        html += /* html */ `
                        <table class="table table-no-border table-sm table-striped">
                            <tr>
                                <td>
                                    Tanggal Pemantauan
                                </td>
                                <td>
                                    :
                                </td>
                                <td>
                                    <input type="text" name="tanggal_kaji" id="pundpn-tanggal-pengkajian" class="custom-form clear-input d-inline-block col-lg-5 ml-2" placeholder="dd/mm/yyyy hh:ii">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Skor Nyeri
                                </td>
                                <td>
                                    :
                                </td>
                                <td>
                                    <select name="skor_nyeri" class="custom-select col-lg-5 ml-2" id="pundpn-skor-nyeri">
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Tindakan
                                </td>
                                <td>
                                    :
                                </td>
                                <td>
                                    <textarea name="tindakan_petugas" id="tindakan-petugas" class="form-control col-lg-8 ml-2" rows="4"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" title="Tambah Kajian" class="btn btn-info" onclick="tambahKajiUlang()"><i class="fas fa-arrow-circle-down mr-1"></i>Tambah Kajian</button>
                                </td>
                            </tr>
                        </table>
                        <hr>
                        
    `;

        html += tutupRapet();

        $('#buka-pengkajian-pemantauan').append(html);
    }


    function addTerapi() {
        if ($('#barang_auto').val() === '') {
            syams_validation('#barang_auto', 'Pilihan Obat harus diisi.');
            return false;
        }

        if ($('#jumlah-obat').val() === '') {
            syams_validation('#jumlah-obat', 'Pilihan Jumlah Obat harus diisi.');
            return false;
        }

        let html = '';
        let number = $('.number-terapi').length;
        let barang_auto = $('#s2id_barang_auto a .select2c-chosen').html();
        let id_barang_auto = $('#barang_auto').val();
        let jumlah_obat = $('#jumlah-obat').val();
        let dosis = $('#trp-dosis').val();
        let frekuensi = $('#frekuensi').val();
        let cara_pemberian = $('#cara-pemberian').val();
        let ek_jam_pemberian = $('#ek_jam_pemberian').val();
        let ek_jam_pemberian_satu = $('#ek_jam_pemberian_satu').val();
        let ek_jam_pemberian_dua = $('#ek_jam_pemberian_dua').val();
        let ek_jam_pemberian_tiga = $('#ek_jam_pemberian_tiga').val();
        let ek_jam_pemberian_empat = $('#ek_jam_pemberian_empat').val();
        let ek_jam_pemberian_lima = $('#ek_jam_pemberian_lima').val();
        let petunjuk_khusus = $('#petunjuk-khusus').val();


        html = /* html */ `
            <tr>
                <td class="number-terapi" align="center">${++number}</td>
                <td><input type="hidden" name="id_barang_auto[]" value="${id_barang_auto}">${barang_auto}</td>
                <td><input type="hidden" name="jumlah_obat[]" value="${jumlah_obat}">${jumlah_obat}</td>
                <td><input type="hidden" name="trp_dosis[]" value="${dosis}">${dosis}</td>
                <td><input type="hidden" name="frekuensi[]" value="${frekuensi}">${frekuensi}</td>
                <td><input type="hidden" name="cara_pemberian[]" value="${cara_pemberian}">${cara_pemberian}</td>
                <td><input type="hidden" name="ek_jam_pemberian[]" value="${ek_jam_pemberian}">${ek_jam_pemberian}</td>
                <td><input type="hidden" name="ek_jam_pemberian_satu[]" value="${ek_jam_pemberian_satu}">${ek_jam_pemberian_satu}</td>
                <td><input type="hidden" name="ek_jam_pemberian_dua[]" value="${ek_jam_pemberian_dua}">${ek_jam_pemberian_dua}</td>
                <td><input type="hidden" name="ek_jam_pemberian_tiga[]" value="${ek_jam_pemberian_tiga}">${ek_jam_pemberian_tiga}</td>
                <td><input type="hidden" name="ek_jam_pemberian_empat[]" value="${ek_jam_pemberian_empat}">${ek_jam_pemberian_empat}</td>
                <td><input type="hidden" name="ek_jam_pemberian_lima[]" value="${ek_jam_pemberian_lima}">${ek_jam_pemberian_lima}</td>
                <td><input type="hidden" name="petunjuk_khusus[]" value="${petunjuk_khusus}">${petunjuk_khusus}</td>
                <td><input type="hidden" name="user_account[]" value="<?= $this->session->userdata("id_translucent") ?>"><input type="hidden" name="created_date[]" value="<?= date("Y-m-d H:i:s") ?>"></td>
                <td align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
        `;
        $('#table-terapi tbody').append(html);


    }

    function addJadwalKontrol() {
        if ($('#ek_kontrol_dokter').val() === '') {
            syams_validation('#ek_kontrol_dokter', 'Tanggal Kontrol Dokter harus diisi.');
            return false;
        }

        if ($('#ek_nama_dokter').val() === '') {
            syams_validation('#ek_nama_dokter', 'Pilihan Nama Dokter harus diisi.');
            return false;
        }

        let html = '';
        let number = $('.number-kontrol').length;
        let tanggal_kontrol = $('#ek_kontrol_dokter').val();
        let ek_nama_dokter = $('#s2id_ek_nama_dokter a .select2c-chosen').html();
        let id_ek_nama_dokter = $('#ek_nama_dokter').val();
        let tempat_kontrol = $('#ek_tempat_kontrol').val();
        var myDays = ['Ahad', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];

        function dateTime(waktu) {
            var el = waktu.split(' ');
            var tgl = date2mysql(el[0]);
            return tgl;
        }

        function timeAja(waktu) {
            var el = waktu.split(' ');
            var tgl = date2mysql(el[0]);
            var tm = el[1].split(':');
            return tm[0] + ':' + tm[1];
        }

        function tanggalAja(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var tm = el[1].split(':');
            return tgl;
        }

        function takeTanggal(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            var tm = el[1].split(':');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0] + ' ' + tm[0] + ':' + tm[1] + ':' + '00';
        }

        var cariHari = dateTime(tanggal_kontrol);
        var cari_jam = timeAja(tanggal_kontrol);
        var hari_tsb = new Date(cariHari);
        var ambil_hari = hari_tsb.getDay(),
            ambil_hari = myDays[ambil_hari];
        var ambil_tanggal = tanggalAja(tanggal_kontrol);
        var entri_tanggal = takeTanggal(tanggal_kontrol);

        html = /* html */ `
            <tr>
                <td class="number-kontrol" align="center">${++number}</td>
                <td align="center"><input type="hidden" name="ambil_tanggal[]" value="${entri_tanggal}">${ambil_tanggal}</td>
                <td align="center"><input type="hidden" name="ambil_hari[]" value="${ambil_hari}">${ambil_hari}</td>
                <td align="center"><input type="hidden" name="cari_jam[]" value="${cari_jam}">${cari_jam}</td>
                <td><input type="hidden" name="id_ek_nama_dokter[]" value="${id_ek_nama_dokter}">${ek_nama_dokter}</td>
                <td><input type="hidden" name="ek_tempat_kontrol[]" value="${tempat_kontrol}">${tempat_kontrol}</td>
                <td><input type="hidden" name="ek_operator[]" value="<?= $this->session->userdata("id_translucent") ?>"><input type="hidden" name="tanggal_dibuat[]" value="<?= date("Y-m-d H:i:s") ?>"></td>
                <td align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#table-kontrol tbody').append(html);


    }

    function tambahDiagnosa() {
        if ($('#ek-masalah-keperawatan').val() === '') {
            syams_validation('#ek-masalah-keperawatan', 'Masalah Keperawatan harus diisi.');
            return false;
        }

        if ($('#ek-tanggal-mulai').val() === '') {
            syams_validation('#ek-tanggal-mulai', 'Tanggal mulai harus diisi.');
            return false;
        }

        let html = '';
        let number = $('.number-masalah').length;
        let tanggal_mulai = $('#ek-tanggal-mulai').val();
        let tanggal_selesai = $('#ek-tanggal-selesai').val();
        let ek_masalah_keperawatan = $('#s2id_ek-masalah-keperawatan a .select2c-chosen').html();
        let id_ek_masalah_keperawatan = $('#ek-masalah-keperawatan').val();
        let kirim_tanggal_selesai = '';
        let lihat_tanggal_selesai = '';


        function tanggalMasalahAja(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            return el[0] + ' ' + el[1];
        }

        function tanggalMasalah(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            var tm = el[1].split(':');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0] + ' ' + tm[0] + ':' + tm[1] + ':' + '00';
        }

        var kirim_tanggal_mulai = tanggalMasalah(tanggal_mulai);
        var lihat_tanggal_mulai = tanggalMasalahAja(tanggal_mulai);

        if ($('#ek-tanggal-selesai').val() !== '') {

            kirim_tanggal_selesai = tanggalMasalah(tanggal_selesai);
            lihat_tanggal_selesai = tanggalMasalahAja(tanggal_selesai);

        } else {

            kirim_tanggal_selesai = '';
            lihat_tanggal_selesai = '';

        }


        html = /* html */ `
            <tr>
                <td width="1%" class="number-masalah" align="center">${++number}</td>
                <td width="5%"><input type="hidden" name="masalah_keperawatan[]" value="${id_ek_masalah_keperawatan}">${ek_masalah_keperawatan}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_mulai[]" value="${kirim_tanggal_mulai}">${lihat_tanggal_mulai}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_selesai[]" value="${kirim_tanggal_selesai}">${lihat_tanggal_selesai}</td>
                <td width="5%" align="center"><input type="hidden" name="ek_operator_masalah[]" value="<?= $this->session->userdata("id_translucent") ?>"><input type="hidden" name="tanggal_masalah_dibuat[]" value="<?= date("Y-m-d H:i:s") ?>"></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#tabel-masalah-keperawatan tbody').append(html);


    }

    function tambahCatatanTindakan() {

        if ($('#ek-cek-tindakan-manual').prop('checked')) {
            if ($('#ek-catatan-tindakan-manual').val() === '') {
                syams_validation('#ek-catatan-tindakan-manual', 'Catatan Tindakan manual harus diisi.');
                return false;
            }
        } else {
        if ($('#ek-catatan-tindakan').val() === '') {
            syams_validation('#ek-catatan-tindakan', 'Catatan Tindakan harus dipilih.');
            return false;
            }
        }

        if ($('#ek-tanggal-catatan-tindakan').val() === '') {
            syams_validation('#ek-tanggal-catatan-tindakan', 'Tanggal Catatan Tindakan harus diisi.');
            return false;
        }

        let html = '';
        let number = $('.number-cttn-tindakan').length;
        let ek_catatan_tindakan = $('#s2id_ek-catatan-tindakan a .select2c-chosen').html();
        let id_ek_catatan_tindakan = $('#ek-catatan-tindakan').val();
        let ek_catatan_tindakan_manual = $('#ek-catatan-tindakan-manual').val();
        let ek_keterangan_catatan = $('#ek-keterangan-catatan').val();
        let ek_tanggal_catatan_tindakan = $('#ek-tanggal-catatan-tindakan').val();
        let ek_bismillah_pagi = $('#ek-bismillah-pagi').is(':checked');
        let ek_cek_pagi = $('#ek-cek-pagi').is(':checked');
        let ek_jam_pagi = $('#ek-jam-pagi').val();
        let ek_paraf_pagi = $('#ek-paraf-pagi').is(':checked');
        let ek_perawat_tindakan_pagi = $('#s2id_ek-perawat-tindakan-pagi a .select2c-chosen').html();
        let id_perawat_pagi = $('#ek-perawat-tindakan-pagi').val();
        let ek_hamdalah_pagi = $('#ek-hamdalah-pagi').is(':checked');
        let ek_bismillah_sore = $('#ek-bismillah-sore').is(':checked');
        let ek_cek_sore = $('#ek-cek-sore').is(':checked');
        let ek_jam_sore = $('#ek-jam-sore').val();
        let ek_paraf_sore = $('#ek-paraf-sore').is(':checked');
        let ek_perawat_tindakan_sore = $('#s2id_ek-perawat-tindakan-sore a .select2c-chosen').html();
        let id_perawat_sore = $('#ek-perawat-tindakan-sore').val();
        let ek_hamdalah_sore = $('#ek-hamdalah-sore').is(':checked');
        let ek_bismillah_malam = $('#ek-bismillah-malam').is(':checked');
        let ek_cek_malam = $('#ek-cek-malam').is(':checked');
        let ek_jam_malam = $('#ek-jam-malam').val();
        let ek_paraf_malam = $('#ek-paraf-malam').is(':checked');
        let ek_perawat_tindakan_malam = $('#s2id_ek-perawat-tindakan-malam a .select2c-chosen').html();
        let id_perawat_malam = $('#ek-perawat-tindakan-malam').val();
        let ek_hamdalah_malam = $('#ek-hamdalah-malam').is(':checked');
        let kirim_tanggal_catatan_tindakan = '';

        let id_ek_perawat_tindakan_pagi = '';

        if (id_perawat_pagi === '') {

            id_ek_perawat_tindakan_pagi = 442;


        } else {

            id_ek_perawat_tindakan_pagi = id_perawat_pagi;

        }

        let id_ek_perawat_tindakan_sore = '';

        if (id_perawat_sore === '') {

            id_ek_perawat_tindakan_sore = 442;


        } else {

            id_ek_perawat_tindakan_sore = id_perawat_sore;

        }

        let id_ek_perawat_tindakan_malam = '';

        if (id_perawat_malam === '') {

            id_ek_perawat_tindakan_malam = 442;


        } else {

            id_ek_perawat_tindakan_malam = id_perawat_malam;

        }

        function tanggalCTIND(waktu) {
            var el = waktu.split('/');
            return el[2] + '-' + el[1] + '-' + el[0];
        }

        let ek_basmallah_pagi = '';
        let ek_val_basmallah_pagi = '';

        if (ek_bismillah_pagi === true) {

            ek_basmallah_pagi = 'V';
            ek_val_basmallah_pagi = 1;


        } else {

            ek_basmallah_pagi = '';
            ek_val_basmallah_pagi = 0;
        }

        let ek_hasil_cek_pagi = '';
        let ek_val_cek_pagi = '';

        if (ek_cek_pagi === true) {

            ek_hasil_cek_pagi = 'V';
            ek_val_cek_pagi = 1;


        } else {

            ek_hasil_cek_pagi = '';
            ek_val_cek_pagi = 0;
        }

        let ek_hasil_paraf_pagi = '';
        let ek_val_paraf_pagi = '';

        if (ek_paraf_pagi === true) {

            ek_hasil_paraf_pagi = 'V';
            ek_val_paraf_pagi = 1;


        } else {

            ek_hasil_paraf_pagi = '';
            ek_val_paraf_pagi = 0;
        }

        let ek_hasil_hamdalah_pagi = '';
        let ek_val_hamdalah_pagi = '';

        if (ek_hamdalah_pagi === true) {

            ek_hasil_hamdalah_pagi = 'V';
            ek_val_hamdalah_pagi = 1;


        } else {

            ek_hasil_hamdalah_pagi = '';
            ek_val_hamdalah_pagi = 0;

        }

        let ek_basmallah_sore = '';
        let ek_val_basmallah_sore = '';

        if (ek_bismillah_sore === true) {

            ek_basmallah_sore = 'V';
            ek_val_basmallah_sore = 1;


        } else {

            ek_basmallah_sore = '';
            ek_val_basmallah_sore = 0;
        }

        let ek_hasil_cek_sore = '';
        let ek_val_cek_sore = '';

        if (ek_cek_sore === true) {

            ek_hasil_cek_sore = 'V';
            ek_val_cek_sore = 1;


        } else {

            ek_hasil_cek_sore = '';
            ek_val_cek_sore = 0;
        }

        let ek_hasil_paraf_sore = '';
        let ek_val_paraf_sore = '';

        if (ek_paraf_sore === true) {

            ek_hasil_paraf_sore = 'V';
            ek_val_paraf_sore = 1;


        } else {

            ek_hasil_paraf_sore = '';
            ek_val_paraf_sore = 0;
        }

        let ek_hasil_hamdalah_sore = '';
        let ek_val_hamdalah_sore = '';

        if (ek_hamdalah_sore === true) {

            ek_hasil_hamdalah_sore = 'V';
            ek_val_hamdalah_sore = 1;


        } else {

            ek_hasil_hamdalah_sore = '';
            ek_val_hamdalah_sore = 0;

        }

        let ek_basmallah_malam = '';
        let ek_val_basmallah_malam = '';

        if (ek_bismillah_malam === true) {

            ek_basmallah_malam = 'V';
            ek_val_basmallah_malam = 1;


        } else {

            ek_basmallah_malam = '';
            ek_val_basmallah_malam = 0;
        }

        let ek_hasil_cek_malam = '';
        let ek_val_cek_malam = '';

        if (ek_cek_malam === true) {

            ek_hasil_cek_malam = 'V';
            ek_val_cek_malam = 1;


        } else {

            ek_hasil_cek_malam = '';
            ek_val_cek_malam = 0;
        }

        let ek_hasil_paraf_malam = '';
        let ek_val_paraf_malam = '';

        if (ek_paraf_malam === true) {

            ek_hasil_paraf_malam = 'V';
            ek_val_paraf_malam = 1;


        } else {

            ek_hasil_paraf_malam = '';
            ek_val_paraf_malam = 0;
        }

        let ek_hasil_hamdalah_malam = '';
        let ek_val_hamdalah_malam = '';

        if (ek_hamdalah_malam === true) {

            ek_hasil_hamdalah_malam = 'V';
            ek_val_hamdalah_malam = 1;


        } else {

            ek_hasil_hamdalah_malam = '';
            ek_val_hamdalah_malam = 0;

        }

        kirim_tanggal_catatan_tindakan = tanggalCTIND(ek_tanggal_catatan_tindakan);

        if (ek_tanggal_catatan_tindakan !== '') {

            kirim_tanggal_catatan_tindakan = tanggalCTIND(ek_tanggal_catatan_tindakan);

        } else {

            kirim_tanggal_catatan_tindakan = '';
        }

        // let selOp = '';
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        // if (accountGroup === 'Admin') {

            selOp =
                '<td width="1%" align="center"><input type="hidden" name="tanggal_catatan_tindakan_dibuat[]" value="<?= date("Y-m-d H:i:s") ?>"><?= date("Y-m-d H:i:s") ?></td><td width="1%" align="center"><input type="hidden" name="ek_operator_catatan_tindakan[]" value="<?= $this->session->userdata("id_translucent") ?>"><?= $this->session->userdata("nama") ?></td><td width="1%" align="center"><button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button></td>';

        // } else {

        //     selOp =
        //         '</td><td width="1%" align="center"><button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button></td>';
        // }
        
        if ($('#ek-cek-tindakan-manual').prop('checked')) {
            catatan_tindakan = `<td width="5%" align="left">${ek_catatan_tindakan_manual}</td>`;
        } else {
            catatan_tindakan = `<td width="5%" align="left">${ek_catatan_tindakan}</td>`;
        }

        html = /* html */ `
            <tr>
                <td width="1%" class="number-cttn-tindakan" align="center">${++number}</td>
                <input type="hidden" name="ek_catatan_tindakan_keperawatan_manual[]" value="${ek_catatan_tindakan_manual}">
                <input type="hidden" name="ek_catatan_tindakan_keperawatan[]" value="${id_ek_catatan_tindakan}">
                ${catatan_tindakan}
                <td width="1%" align="left"><input type="hidden" name="ek_keterangan_catatan[]" value="${ek_keterangan_catatan}">${ek_keterangan_catatan}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_tanggal_catatan_tindakan[]" value="${kirim_tanggal_catatan_tindakan}">${ek_tanggal_catatan_tindakan}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_bismillah_pagi[]" value="${ek_val_basmallah_pagi}">${ek_basmallah_pagi}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_cek_pagi[]" value="${ek_val_cek_pagi}">${ek_hasil_cek_pagi}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_jam_pagi[]" value="${ek_jam_pagi}">${ek_jam_pagi}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_paraf_pagi[]" value="${ek_val_paraf_pagi}">${ek_hasil_paraf_pagi}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_perawat_tindakan_pagi[]" value="${id_ek_perawat_tindakan_pagi}">${ek_perawat_tindakan_pagi}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_hamdalah_pagi[]" value="${ek_val_hamdalah_pagi}">${ek_hasil_hamdalah_pagi}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_bismillah_sore[]" value="${ek_val_basmallah_sore}">${ek_basmallah_sore}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_cek_sore[]" value="${ek_val_cek_sore}">${ek_hasil_cek_sore}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_jam_sore[]" value="${ek_jam_sore}">${ek_jam_sore}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_paraf_sore[]" value="${ek_val_paraf_sore}">${ek_hasil_paraf_sore}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_perawat_tindakan_sore[]" value="${id_ek_perawat_tindakan_sore}">${ek_perawat_tindakan_sore}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_hamdalah_sore[]" value="${ek_val_hamdalah_sore}">${ek_hasil_hamdalah_sore}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_bismillah_malam[]" value="${ek_val_basmallah_malam}">${ek_basmallah_malam}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_cek_malam[]" value="${ek_val_cek_malam}">${ek_hasil_cek_malam}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_jam_malam[]" value="${ek_jam_malam}">${ek_jam_malam}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_paraf_malam[]" value="${ek_val_paraf_malam}">${ek_hasil_paraf_malam}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_perawat_tindakan_malam[]" value="${id_ek_perawat_tindakan_malam}">${ek_perawat_tindakan_malam}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_hamdalah_malam[]" value="${ek_val_hamdalah_malam}">${ek_hasil_hamdalah_malam}</td>
                ${selOp}
            </tr>
            
        `;
        $('#tabel-catatan-tindakan-keperawatan tbody').append(html);
        resetFormEntriKeperawatan();

    }

    function tambahRTINDK() {
        if ($('#ek-rencana-tindakan').val() === '') {
            syams_validation('#ek-rencana-tindakan', 'Rencana Tindakan harus diisi.');
            return false;
        }

        if ($('#ek-tanggal-tindakan-satu').val() === '') {
            syams_validation('#ek-tanggal-tindakan-satu', 'Tanggal Rencana Tindakan awal harus diisi.');
            return false;
        }

        let html = '';
        let number = $('.number-rcn-tindakan').length;
        let tanggal_tindakan_satu = $('#ek-tanggal-tindakan-satu').val();
        let tanggal_tindakan_dua = $('#ek-tanggal-tindakan-dua').val();
        let tanggal_tindakan_tiga = $('#ek-tanggal-tindakan-tiga').val();
        let ek_waktu_pagi = $('#ek-waktu-pagi').is(':checked');
        let ek_waktu_siang = $('#ek-waktu-siang').is(':checked');
        let ek_waktu_malam = $('#ek-waktu-malam').is(':checked');
        let ek_waktu_pagi_dua = $('#ek-waktu-pagi-dua').is(':checked');
        let ek_waktu_siang_dua = $('#ek-waktu-siang-dua').is(':checked');
        let ek_waktu_malam_dua = $('#ek-waktu-malam-dua').is(':checked');
        let ek_waktu_pagi_tiga = $('#ek-waktu-pagi-tiga').is(':checked');
        let ek_waktu_siang_tiga = $('#ek-waktu-siang-tiga').is(':checked');
        let ek_waktu_malam_tiga = $('#ek-waktu-malam-tiga').is(':checked');
        let ek_tambahan_status = $('#ek-tambahan-status').is(':checked');
        let ek_tambahan_status_dua = $('#ek-tambahan-status-dua').is(':checked');
        let ek_tambahan_status_tiga = $('#ek-tambahan-status-tiga').is(':checked');
        let ek_rencana_tindakan = $('#s2id_ek-rencana-tindakan a .select2c-chosen').html();
        let id_ek_rencana_tindakan = $('#ek-rencana-tindakan').val();
        let ek_keterangan_tambahan = $('#ek-keterangan-tambahan').val();
        let kirim_tanggal_selesai = '';
        let lihat_tanggal_selesai = '';
        let kirim_tanggal_tindakan_satu = '';
        let kirim_tanggal_tindakan_dua = '';
        let kirim_tanggal_tindakan_tiga = '';

        function tanggalRTIND(waktu) {
            var el = waktu.split('/');
            return el[2] + '-' + el[1] + '-' + el[0];
        }

        let ek_jadwal_pagi = '';
        let ek_val_pagi = '';

        if (ek_waktu_pagi === true) {

            ek_jadwal_pagi = 'V';
            ek_val_pagi = 1;


        } else {

            ek_jadwal_pagi = '';
            ek_val_pagi = 0;
        }


        let ek_jadwal_siang = '';
        let ek_val_siang = '';

        if (ek_waktu_siang === true) {

            ek_jadwal_siang = 'V';
            ek_val_siang = 1;


        } else {

            ek_jadwal_siang = '';
            ek_val_siang = 0;
        }

        let ek_jadwal_malam = '';
        let ek_val_malam = '';

        if (ek_waktu_malam === true) {

            ek_jadwal_malam = 'V';
            ek_val_malam = 1;


        } else {

            ek_jadwal_malam = '';
            ek_val_malam = 0;
        }

        let ek_jadwal_pagi_dua = '';
        let ek_val_pagi_dua = '';

        if (ek_waktu_pagi_dua === true) {

            ek_jadwal_pagi_dua = 'V';
            ek_val_pagi_dua = 1;


        } else {

            ek_jadwal_pagi_dua = '';
            ek_val_pagi_dua = 0;
        }

        let ek_jadwal_siang_dua = '';
        let ek_val_siang_dua = '';

        if (ek_waktu_siang_dua === true) {

            ek_jadwal_siang_dua = 'V';
            ek_val_siang_dua = 1;


        } else {

            ek_jadwal_siang_dua = '';
            ek_val_siang_dua = 0;
        }

        let ek_jadwal_malam_dua = '';
        let ek_val_malam_dua = '';

        if (ek_waktu_malam_dua === true) {

            ek_jadwal_malam_dua = 'V';
            ek_val_malam_dua = 1;


        } else {

            ek_jadwal_malam_dua = '';
            ek_val_malam_dua = 0;
        }

        let ek_jadwal_pagi_tiga = '';
        let ek_val_pagi_tiga = '';

        if (ek_waktu_pagi_tiga === true) {

            ek_jadwal_pagi_tiga = 'V';
            ek_val_pagi_tiga = 1;


        } else {

            ek_jadwal_pagi_tiga = '';
            ek_val_pagi_tiga = 0;
        }

        let ek_jadwal_siang_tiga = '';
        let ek_val_siang_tiga = '';

        if (ek_waktu_siang_tiga === true) {

            ek_jadwal_siang_tiga = 'V';
            ek_val_siang_tiga = 1;


        } else {

            ek_jadwal_siang_tiga = '';
            ek_val_siang_tiga = 0;
        }

        let ek_jadwal_malam_tiga = '';
        let ek_val_malam_tiga = '';

        if (ek_waktu_malam_tiga === true) {

            ek_jadwal_malam_tiga = 'V';
            ek_val_malam_tiga = 1;


        } else {

            ek_jadwal_malam_tiga = '';
            ek_val_malam_tiga = 0;
        }

        let ek_jadwal_tambahan_status = '';
        let ek_val_tambahan_status = '';

        if (ek_tambahan_status === true) {

            ek_jadwal_tambahan_status = 'V';
            ek_val_tambahan_status = 1;


        } else {

            ek_jadwal_tambahan_status = '';
            ek_val_tambahan_status = 0;
        }

        let ek_jadwal_tambahan_status_dua = '';
        let ek_val_tambahan_status_dua = '';

        if (ek_tambahan_status_dua === true) {

            ek_jadwal_tambahan_status_dua = 'V';
            ek_val_tambahan_status_dua = 1;


        } else {

            ek_jadwal_tambahan_status_dua = '';
            ek_val_tambahan_status_dua = 0;
        }

        let ek_jadwal_tambahan_status_tiga = '';
        let ek_val_tambahan_status_tiga = '';

        if (ek_tambahan_status_tiga === true) {

            ek_jadwal_tambahan_status_tiga = 'V';
            ek_val_tambahan_status_tiga = 1;


        } else {

            ek_jadwal_tambahan_status_tiga = '';
            ek_val_tambahan_status_tiga = 0;
        }

        kirim_tanggal_tindakan_satu = tanggalRTIND(tanggal_tindakan_satu);

        if (tanggal_tindakan_dua !== '') {

            kirim_tanggal_tindakan_dua = tanggalRTIND(tanggal_tindakan_dua);

        } else {

            kirim_tanggal_tindakan_dua = '';
        }

        if (tanggal_tindakan_tiga !== '') {

            kirim_tanggal_tindakan_tiga = tanggalRTIND(tanggal_tindakan_tiga);

        } else {

            kirim_tanggal_tindakan_tiga = '';
        }

        let selOp = '';
        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        if (accountGroup === 'Admin') {

            selOp =
                '<td width="2%" align="center"></td><td width="5%" align="center"><input type="hidden" name="rencana_tindakan_keperawatan[]" value="' +
                id_ek_rencana_tindakan + '">' + ek_rencana_tindakan + '</td>';

        } else {

            selOp = '<td width="5%" align="center"><input type="hidden" name="rencana_tindakan_keperawatan[]" value="' +
                id_ek_rencana_tindakan + '">' + ek_rencana_tindakan + '</td>';
        }


        html = /* html */ `
            <tr>
                <td width="1%" class="number-rcn-tindakan" align="center">${++number}</td>
                
                ${selOp}
                <td width="1%" align="center"><input type="hidden" name="ek_keterangan_tambahan[]" value="${ek_keterangan_tambahan}">${ek_keterangan_tambahan}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_tindakan_satu[]" value="${kirim_tanggal_tindakan_satu}">${tanggal_tindakan_satu}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_tambahan_status[]" value="${ek_val_tambahan_status}">${ek_jadwal_tambahan_status}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_pagi[]" value="${ek_val_pagi}">${ek_jadwal_pagi}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_siang[]" value="${ek_val_siang}">${ek_jadwal_siang}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_malam[]" value="${ek_val_malam}">${ek_jadwal_malam}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_tindakan_dua[]" value="${kirim_tanggal_tindakan_dua}">${tanggal_tindakan_dua}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_tambahan_status_dua[]" value="${ek_val_tambahan_status_dua}">${ek_jadwal_tambahan_status_dua}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_pagi_dua[]" value="${ek_val_pagi_dua}">${ek_jadwal_pagi_dua}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_siang_dua[]" value="${ek_val_siang_dua}">${ek_jadwal_siang_dua}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_malam_dua[]" value="${ek_val_malam_dua}">${ek_jadwal_malam_dua}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_tindakan_tiga[]" value="${kirim_tanggal_tindakan_tiga}">${tanggal_tindakan_tiga}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_tambahan_status_tiga[]" value="${ek_val_tambahan_status_tiga}">${ek_jadwal_tambahan_status_tiga}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_pagi_tiga[]" value="${ek_val_pagi_tiga}">${ek_jadwal_pagi_tiga}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_siang_tiga[]" value="${ek_val_siang_tiga}">${ek_jadwal_siang_tiga}</td>
                <td width="1%" align="center"><input type="hidden" name="ek_waktu_malam_tiga[]" value="${ek_val_malam_tiga}">${ek_jadwal_malam_tiga}</td>
                <td width="5%" align="center"><input type="hidden" name="ek_operator_rencana_tindakan[]" value="<?= $this->session->userdata("id_translucent") ?>"><input type="hidden" name="tanggal_rencana_dibuat[]" value="<?= date("Y-m-d H:i:s") ?>"></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#tabel-ek-rencana-tindakan tbody').append(html);


    }

    function tambahDataVisit() {

        if ($('#tangal-waktu-visit').val() === '') {
            syams_validation('#tangal-waktu-visit', 'Tanggal mulai harus diisi.');
            return false;
        }

        if ($('#nama-dokter-visit').val() === '') {
            syams_validation('#nama-dokter-visit', 'Masalah Keperawatan harus diisi.');
            return false;
        }

        if ($('#ket-bukti-visit').val() === '') {
            syams_validation('#ket-bukti-visit', 'Keterangan bukti visit harus diisi.');
            return false;
        }

        let html = '';
        let number = $('.number-masalah').length;
        let tanggal_visit = $('#tangal-waktu-visit').val();
        let nama_dokter_visit = $('#s2id_nama-dokter-visit a .select2c-chosen').html();
        let id_nama_dokter_visit = $('#nama-dokter-visit').val();
        let keterangan_visit = $('#ket-bukti-visit').val();


        function tanggalVisitAja(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            return el[0] + ' ' + el[1];
        }

        function tanggalVisit(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            var tm = el[1].split(':');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0] + ' ' + tm[0] + ':' + tm[1] + ':' + '00';
        }

        var kirim_tanggal_visit = tanggalVisit(tanggal_visit);
        var lihat_tanggal_visit = tanggalVisitAja(tanggal_visit);



        html = /* html */ `
            <tr>
                <td width="1%" class="number-masalah" align="center">${++number}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_visit[]" value="${kirim_tanggal_visit}">${lihat_tanggal_visit}</td>
                <td width="5%" align="center"><input type="hidden" name="dokter_visit[]" value="${id_nama_dokter_visit}">${nama_dokter_visit}</td>
                <td width="5%" align="center"><input type="hidden" name="ket_bukti_visit[]" value="${keterangan_visit}">${keterangan_visit}</td>
                <td width="1%" align="center"><input type="hidden" name="operator_visit[]" value="<?= $this->session->userdata("id_translucent") ?>"><?= $this->session->userdata("nama") ?><input type="hidden" name="tanggal_visit_dibuat[]" value="<?= date("Y-m-d H:i:s") ?>"></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#tabel-data-visit tbody').append(html);


    }

    function tambahDokterDPJP() {

        if ($('#diagnosa-dpjp').val() === '') {
            syams_validation('#diagnosa-dpjp', 'Diagnosa harus diisi.');
            return false;
        }

        if ($('#keterangan-dpjp').val() === '') {
            syams_validation('#keterangan-dpjp', 'Keterangan wajib diisi.');
            return false;
        }

        if ($('#tanggal-mulai-dpjp').val() === '') {
            syams_validation('#tanggal-mulai-dpjp', 'Tanggal Mulai DPJP wajib diisi.');
            return false;
        }

        if ($('#tanggal-mulai-dpjp-utama').val() === '') {
            syams_validation('#tanggal-mulai-dpjp-utama', 'Tanggal MulaiDPJP Utama wajib diisi.');
            return false;
        }

        if ($('#tanggal-akhir-dpjp').val() === '') {
            syams_validation('#tanggal-akhir-dpjp', 'Tanggal Akhir wajib diisi.');
            return false;
        }

        if ($('#tanggal-akhir-dpjp-utama').val() === '') {
            syams_validation('#tanggal-akhir-dpjp-utama', 'Tanggal Akhir DPJP Utama wajib diisi.');
            return false;
        }

        if ($('#nama-dokter-dpjp').val() === '') {
            syams_validation('#nama-dokter-dpjp', 'Nama Dokter DPJP wajib diisi.');
            return false;
        }

        if ($('#nama-dokter-dpjp-utama').val() === '') {
            syams_validation('#nama-dokter-dpjp-utama', 'Nama Dokter DPJP Umum wajib diisi.');
            return false;
        }

        let html = '';
        let number = $('.number-daftar-dpjp').length;
        let diagnosis_dokter = $('#diagnosis-dokter').val();
        let keterangan_dpjp = $('#keterangan-dpjp').val();
        let tanggal_mulai_dpjp = $('#tanggal-mulai-dpjp').val();
        let tanggal_mulai_dpjp_utama = $('#tanggal-mulai-dpjp-utama').val();
        let tanggal_akhir_dpjp = $('#tanggal-akhir-dpjp').val();
        let tanggal_akhir_dpjp_utama = $('#tanggal-akhir-dpjp-utama').val();
        let nama_dokter_dpjp = $('#s2id_nama-dokter-dpjp a .select2c-chosen').html();
        let id_nama_dokter_dpjp = $('#nama-dokter-dpjp').val();
        let nama_dokter_dpjp_utama = $('#s2id_nama-dokter-dpjp-utama a .select2c-chosen').html();
        let id_nama_dokter_dpjp_utama = $('#nama-dokter-dpjp-utama').val();

        html = /* html */ `
            <tr>
                <td width="1%" class="number-daftar-dpjp" align="center">${++number}</td>
                <td width="5%" align="center"><input type="hidden" name="diagnosis_dokter[]" value="${diagnosis_dokter}">${diagnosis_dokter}</td>
                <td width="2%" align="center"><input type="hidden" name="nama_dokter_dpjp[]" value="${id_nama_dokter_dpjp}">${nama_dokter_dpjp}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_mulai_dpjp[]" value="${tanggal_mulai_dpjp}">${tanggal_mulai_dpjp}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_akhir_dpjp[]" value="${tanggal_akhir_dpjp}">${tanggal_akhir_dpjp}</td>
                <td width="2%" align="center"><input type="hidden" name="nama_dokter_dpjp_utama[]" value="${id_nama_dokter_dpjp_utama}">${nama_dokter_dpjp_utama}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_mulai_dpjp_utama[]" value="${tanggal_akhir_dpjp}">${tanggal_akhir_dpjp}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_akhir_dpjp_utama[]" value="${tanggal_akhir_dpjp_utama}">${tanggal_akhir_dpjp_utama}</td>
                <td width="5%" align="center"><input type="hidden" name="keterangan_dpjp[]" value="${keterangan_dpjp}">${keterangan_dpjp}</td>
                <td width="4%" align="center"><input type="hidden" name="user_dokter_dpjp[]" value="<?= $this->session->userdata("id_translucent") ?>"><?= $this->session->userdata("nama") ?></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#table-daftar-dokter-dpjp tbody').append(html);

    }

    //Catatan Operan Perawat

    function tambahRencanaPagi() {

        if ($('#perawat-mengover-pagi').val() === '') {
            syams_validation('#perawat-mengover-pagi', 'Perawat Harus Diisi!.');
            return false;
        }

        if ($('#perawat-menerima-pagi').val() === '') {
            syams_validation('#perawat-menerima-pagi', 'Perawat Harus Diisi!.');
            return false;
        }


        let html = '';
        let operan_diagnosa_keperawatan = $('#operan-diagnosa-keperawatan').val();
        let number = $('.number-rencana-pagi').length;
        let dpjp_utama_pagi = $('#s2id_dpjp-utama-pagi a .select2c-chosen').html();
        let id_dpjp_utama_pagi = $('#id-dpjp-utama-pagi-hidden').val();
        let konsulen_pagi = $('#s2id_konsulen-pagi a .select2c-chosen').html();
        let id_konsulen_pagi = $('#konsulen-pagi').val();
        let tanggal_waktu_pagi = $('#tanggal-waktu-pagi').val();
        let diagnosa_keprawatan_pagi = $('#diagnosa-keperawatan-pagi').val();
        let infus_pagi = $('#infus-pagi').val();
        let rencana_tindakan_pagi = $('#rencana-tindakan-pagi').val();
        let perawat_mengover_pagi = $('#s2id_perawat-mengover-pagi a .select2c-chosen').html();
        let id_perawat_mengover_pagi = $('#perawat-mengover-pagi').val();
        let perawat_menerima_pagi = $('#s2id_perawat-menerima-pagi a .select2c-chosen').html();
        let id_perawat_menerima_pagi = $('#perawat-menerima-pagi').val();


        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        function tanggalWaktuPagiAja(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            return el[0] + ' ' + el[1];
        }

        function tanggalWaktuPagi(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            var tm = el[1].split(':');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0] + ' ' + tm[0] + ':' + tm[1] + ':' + '00';
        }

        var kirim_tanggal_waktu_pagi = tanggalWaktuPagi(tanggal_waktu_pagi);
        var lihat_tanggal_waktu_pagi = tanggalWaktuPagiAja(tanggal_waktu_pagi);

        html = /* html */ `
            <tr>
                <td width="1%" class="number-pemasangan-alat" align="center">${++number}</td>
                <td width="2%" align="center"><input type="hidden" name="dpjp_utama_pagi[]" value="${id_dpjp_utama_pagi}">${dpjp_utama_pagi}</td>
                <td width="2%" align="center"><input type="hidden" name="konsulen_pagi[]" value="${id_konsulen_pagi}">${konsulen_pagi}</td>
                <td width="2%" align="center"><input type="hidden" name="diagnosa_keprawatan_pagi[]" value="${diagnosa_keprawatan_pagi}">${diagnosa_keprawatan_pagi}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_waktu_pagi[]" value="${kirim_tanggal_waktu_pagi}">${lihat_tanggal_waktu_pagi}</td>
                <td width="2%" align="center"><input type="hidden" name="rencana_tindakan_pagi[]" value="${rencana_tindakan_pagi}">${rencana_tindakan_pagi}</td>          
                <td width="2%" align="center"><input type="hidden" name="infus_pagi[]" value="${infus_pagi}">${infus_pagi}</td>
                <td width="2%" align="center"><input type="hidden" name="perawat_mengover_pagi[]" value="${id_perawat_mengover_pagi}">${perawat_mengover_pagi}</td>
                <td width="2%" align="center"><input type="hidden" name="perawat_menerima_pagi[]" value="${id_perawat_menerima_pagi}">${perawat_menerima_pagi}</td>
                <td width="2%" align="center"><input type="hidden" name="user_input_catatan[]" value="<?= $this->session->userdata("id_translucent") ?>"><?= $this->session->userdata("nama") ?></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#table-catatan-operan-perawat-pagi tbody').append(html);

    }

    function tambahRencanaSore() {
        if ($('#perawat-mengover-sore').val() === '') {
            syams_validation('#perawat-mengover-sore', 'Perawat Harus Diisi!.');
            return false;
        }

        if ($('#perawat-menerima-sore').val() === '') {
            syams_validation('#perawat-menerima-sore', 'Perawat Harus Diisi!.');
            return false;
        }

        let html = '';
        let number = $('.number-rencana-sore').length;
        let dokter_dpjp_sore = $('#s2id_dokter-dpjp-sore a .select2c-chosen').html();
        let id_dokter_dpjp_sore = $('#id-dokter-dpjp-sore-hidden').val();
        let konsulen_sore = $('#s2id_konsulen-sore a .select2c-chosen').html();
        let id_konsulen_sore = $('#konsulen-sore').val();
        let tanggal_waktu_sore = $('#tanggal-waktu-sore').val();
        let diagnosa_keperawatan_sore = $('#diagnosa-keperawatan-sore').val();
        let infus_sore = $('#infus-sore').val();
        let rencana_tindakan_sore = $('#rencana-tindakan-sore').val();
        let perawat_mengover_sore = $('#s2id_perawat-mengover-sore a .select2c-chosen').html();
        let id_perawat_mengover_sore = $('#perawat-mengover-sore').val();
        let perawat_menerima_sore = $('#s2id_perawat-menerima-sore a .select2c-chosen').html();
        let id_perawat_menerima_sore = $('#perawat-menerima-sore').val();


        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        function tanggalWaktuSoreAja(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            return el[0] + ' ' + el[1];
        }

        function tanggalWaktuSore(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            var tm = el[1].split(':');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0] + ' ' + tm[0] + ':' + tm[1] + ':' + '00';
        }

        var kirim_tanggal_waktu_sore = tanggalWaktuSore(tanggal_waktu_sore);
        var lihat_tanggal_waktu_sore = tanggalWaktuSoreAja(tanggal_waktu_sore);

        html = /* html */ `
            <tr>
                <td width="1%" class="number-pemasangan-alat" align="center">${++number}</td>
                <td width="2%" align="center"><input type="hidden" name="id_dokter_dpjp_sore[]" value="${id_dokter_dpjp_sore}">${dokter_dpjp_sore}</td>
                <td width="2%" align="center"><input type="hidden" name="konsulen_sore[]" value="${id_konsulen_sore}">${konsulen_sore}</td>
                <td width="2%" align="center"><input type="hidden" name="diagnosa_keperawatan_sore[]" value="${diagnosa_keperawatan_sore}">${diagnosa_keperawatan_sore}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_waktu_sore[]" value="${kirim_tanggal_waktu_sore}">${lihat_tanggal_waktu_sore}</td>
                <td width="2%" align="center"><input type="hidden" name="rencana_tindakan_sore[]" value="${rencana_tindakan_sore}">${rencana_tindakan_sore}</td>          
                <td width="2%" align="center"><input type="hidden" name="infus_sore[]" value="${infus_sore}">${infus_sore}</td>
                <td width="2%" align="center"><input type="hidden" name="perawat_mengover_sore[]" value="${id_perawat_mengover_sore}">${perawat_mengover_sore}</td>
                <td width="2%" align="center"><input type="hidden" name="perawat_menerima_sore[]" value="${id_perawat_menerima_sore}">${perawat_menerima_sore}</td>
                <td width="2%" align="center"><input type="hidden" name="user_input_catatan[]" value="<?= $this->session->userdata("id_translucent") ?>"><?= $this->session->userdata("nama") ?></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#table-catatan-operan-perawat-sore tbody').append(html);

    }

    function tambahRencanaMalam() {
        if ($('#perawat-mengover-malam').val() === '') {
            syams_validation('#sperawat-mengover-malam', 'Perawat Harus Diisi!.');
            return false;
        }

        if ($('#perawat-menerima-malam').val() === '') {
            syams_validation('#perawat-menerima-malam', 'Perawat Harus Diisi!.');
            return false;
        }

        let html = '';
        let number = $('.number-rencana-malam').length;
        let dokter_dpjp_malam = $('#s2id_dokter-dpjp-malam a .select2c-chosen').html();
        let id_dokter_dpjp_malam = $('#id-dokter-dpjp-malam-hidden').val();
        let konsulen_malam = $('#s2id_konsulen-malam a .select2c-chosen').html();
        let id_konsulen_malam = $('#konsulen-malam').val();
        let tanggal_waktu_malam = $('#tanggal-waktu-malam').val();
        let diagnosa_keperawatan_malam = $('#diagnosa-keperawatan-malam').val();
        let infus_malam = $('#infus-malam').val();
        let rencana_tindakan_malam = $('#rencana-tindakan-malam').val();
        let perawat_mengover_malam = $('#s2id_perawat-mengover-malam a .select2c-chosen').html();
        let id_perawat_mengover_malam = $('#perawat-mengover-malam').val();
        let perawat_menerima_malam = $('#s2id_perawat-menerima-malam a .select2c-chosen').html();
        let id_perawat_menerima_malam = $('#perawat-menerima-malam').val();


        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        function tanggalWaktuMalamAja(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            return el[0] + ' ' + el[1];
        }

        function tanggalWaktuMalam(waktu) {
            var el = waktu.split(' ');
            var tgl = el[0];
            var s_tgl = tgl.split('/');
            var tm = el[1].split(':');
            return s_tgl[2] + '-' + s_tgl[1] + '-' + s_tgl[0] + ' ' + tm[0] + ':' + tm[1] + ':' + '00';
        }

        var kirim_tanggal_waktu_malam = tanggalWaktuMalam(tanggal_waktu_malam);
        var lihat_tanggal_waktu_malam = tanggalWaktuMalamAja(tanggal_waktu_malam);

        html = /* html */ `
            <tr>
                <td width="1%" class="number-pemasangan-alat" align="center">${++number}</td>
                <td width="2%" align="center"><input type="hidden" name="id_dokter_dpjp_malam[]" value="${id_dokter_dpjp_malam}">${dokter_dpjp_malam}</td>
                <td width="2%" align="center"><input type="hidden" name="konsulen_malam[]" value="${id_konsulen_malam}">${konsulen_malam}</td>
                <td width="2%" align="center"><input type="hidden" name="diagnosa_keperawatan_malam[]" value="${diagnosa_keperawatan_malam}">${diagnosa_keperawatan_malam}</td>
                <td width="1%" align="center"><input type="hidden" name="tanggal_waktu_malam[]" value="${kirim_tanggal_waktu_malam}">${lihat_tanggal_waktu_malam}</td>
                <td width="2%" align="center"><input type="hidden" name="rencana_tindakan_malam[]" value="${rencana_tindakan_malam}">${rencana_tindakan_malam}</td>          
                <td width="2%" align="center"><input type="hidden" name="infus_malam[]" value="${infus_malam}">${infus_malam}</td>
                <td width="2%" align="center"><input type="hidden" name="perawat_mengover_malam[]" value="${id_perawat_mengover_malam}">${perawat_mengover_malam}</td>
                <td width="2%" align="center"><input type="hidden" name="perawat_menerima_malam[]" value="${id_perawat_menerima_malam}">${perawat_menerima_malam}</td>
                <td width="2%" align="center"><input type="hidden" name="user_input_catatan[]" value="<?= $this->session->userdata("id_translucent") ?>"><?= $this->session->userdata("nama") ?></td>
                <td width="1%" align="center">
                    <button type="button" class="btn btn-secondary btn-xxs" onclick="removeList(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            
        `;
        $('#table-catatan-operan-perawat-malam tbody').append(html);

    }



// MP-A + GRAFIK
// function grafik(data) {
//     let result = {
//         suhu: { category: [], value: [] },
//         rr: { category: [], value: [] },
//         nadi: { category: [], value: [] }
//     };

//     let categories = [];




//     // if (data !== undefined && data !== null) {
//     //     result = JSON.parse(data);

//     //     if (result.suhu && result.rr && result.nadi && result.nadi.category) {
//     //         $('#data-chart-mp').val(JSON.stringify(result));

//     //         categories = [
//     //             ...result.suhu.category,
//     //             ...result.rr.category,
//     //             ...result.nadi.category
//     //         ];

//     //         categories = categories.filter((value, index) => categories.indexOf(value) === index);
//     //     } else {
//     //         console.log('Data yang diperlukan tidak lengkap dalam hasil.');
//     //     }
//     // }


//     if (data !== undefined && data !== null) {
//         result = JSON.parse(data);
      
//         $('#data-chart-mp').val(JSON.stringify(result));

//         // console.log('wesa');
    
//         categories = [
//             ...result.suhu.category,
//             ...result.rr.category,
//             ...result.nadi.category         
//         ];  
        
//         categories = categories.filter((value, index) => categories.indexOf(value) === index);

//     }




 


















   









//     // let result = {suhu:{category:[],value:[]},rr:{category:[],value:[]},nadi:{category:[],value:[]}}
//     // let categories = []
//     // if (data !== undefined && data !== null){
//     //     result = JSON.parse(data);
//     //     // ditambah kan ini sama caris  = $('#data-chart-mp').val(JSON.stringify(result))
//     //     $('#data-chart-mp').val(JSON.stringify(result))      
//     //     categories = [...result.suhu.category, ...result.rr.category, ...result.nadi.category];      
//     //     categories = categories.filter((value,index) => categories.indexOf(value) === index)
//     // }
//     // console.log(data); 





//     // KODINGAN YANG DIBENERIN YANG ADA DI PROD
//     // let categories = [];
//     //     if (data !== undefined && data !== null) {
//     //     const result = JSON.parse(data);
//     //     $('#data-chart-mp').val(JSON.stringify(result));

//     //     if (result.suhu && Array.isArray(result.suhu.category)) {
//     //         categories = [...categories, ...result.suhu.category];
//     //     }

//     //     if (result.rr && Array.isArray(result.rr.category)) {
//     //         categories = [...categories, ...result.rr.category];
//     //     }

//     //     if (result.nadi && Array.isArray(result.nadi.category)) {
//     //         categories = [...categories, ...result.nadi.category];
//     //     }

//     //     categories = categories.filter((value, index) => categories.indexOf(value) === index);
//     // }



//     //   ========================================================= BUKA KALAU EROR
//     // const suhuInput = $(this).parent().parent().find('.suhu-edit').val();
//     // const rrInput = $(this).parent().parent().find('.rr-edit').val();
//     // const nadiInput = $(this).parent().parent().find('.nadi-edit').val();

//     const suhu = {
//         name: 'suhu',
//         data: result.suhu.value.map((value) => parseFloat(value)),
//         color: '#0000FF',
//         connectNulls: true,
//         tooltip: {
//             valueDecimals: 1
//         }
//     };
    

//     const rr = {
//         name: 'rr',
//         data: result.rr.value.map((value) => parseFloat(value)),
//         color: '#00FF00',
//         connectNulls: true,
//         tooltip: {
//             valueDecimals: 1
//         }
//     };


//     const nadi = {
//         name: 'nadi',
//         data: result.nadi.value.map((value) => parseFloat(value)),
//         color: '#FF0000',
//         connectNulls: true,
//         tooltip: {
//             valueDecimals: 1
//         }
//     };

//     const option = {  
//         title: {
//         text: 'Grafik TTV'
//         },    
//         cart:{
//             type: 'line',
//             restZoomButton: {
//                 position: {
//                     x: -10,
//                     y: 10
//                 }
//             },
//             responsive: {
//                 rules: [{
//                     condition: {
//                         maxWidth: 500
//                     },
//                     // Set options for small screens
//                 }, {
//                     // Set options for larger screens
//                 }]
//             }
//         },
//         xAxis: {
//             categories:categories
//         },
        
//         yAxis: [{
//             min: 0,
//             max: 200,
//             tickInterval: 10,
//             title: {
//                 text: '',
//                 rotation: 0,
//                 align: 'middle',
//                 offset: 0,
//                 y: -155,
//                 x:-50
//             }
//             }, 
//             {
//                 title: {
//                     text: '',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y: -145,
//                     x: -9                   
//             }
//             }, 
//             {
//                 title: {
//                     text: 'Nadi',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y:-140,
//                     x:-30
//                 }
//             }, 
//             {
//                 title: {
//                     text: '',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y:-120,
//                     x:- 5
//                 }
//             },
//             {
//                 title: {
//                     text: 'Suhu',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y:-55,
//                     x: + 3 
//                 }
//             }, 
//             {
//                 title: {
//                     text: '',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y:-35,
//                     x: + 30 
//                 }
//             },
//             {
//                 title: {
//                     text: 'RR',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y: + 30,
//                     x: + 40 
//                 }
//             }, 
//             {
//                 title: {
//                     text: 'x',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y: + 47,
//                     x: + 55
//                 }
//             }, 
//         ],
//         series: [suhu, rr, nadi]
//         // series: []
       
//     }

//     const grafik = $('#grafik_mp').highcharts(option);
//     $('#btn-reset-mp').on('click', function(){
//         let result1 = {suhu:{category:[],value:[]},rr:{category:[],value:[]},nadi:{category:[],value:[]}}
//         $('#data-chart-mp').val("") 
//         $('#tabel-mg .body-table').empty();
//         const suhu1 = {
//             name: 'suhu',
//             data: result1.suhu.value,
//             color: '#0000FF',
//             connectNulls : true
//             }
//         const rr1 = {
//             name: 'rr',
//             data: result1.rr.value,
//             color: '#00FF00',
//             connectNulls : true
//             }
            
//         const nadi1 = {
//             name: 'nadi',
//             data: result1.nadi.value,
//             color: '#FF0000',
//             connectNulls : true       
//             }
//         const option1 = {      
//             cart:{
//                 type: 'line',
//                 restZoomButton: {
//                     position: {
//                         x: -10,
//                         y: 10
//                     }
//                 },
//                 responsive: {
//                     rules: [{
//                         condition: {
//                             maxWidth: 500
//                         },
//                         // Set options for small screens
//                     }, {
//                         // Set options for larger screens
//                     }]
//                 }
//             },
//             xAxis: {
//                 categories:[]
//             },
//             yAxis: [{
//                 min: 0,
//                 max: 200,
//                 tickInterval: 10,
//                 title: {
//                     text: '',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y: -155,
//                     x:-50
//                 }
//                 }, 
//                 {
//                 title: {
//                     text: '',
//                     rotation: 0,
//                     align: 'middle',
//                     offset: 0,
//                     y: -145,
//                     x: -9                   
//                 }
//                 }, 
//                 {
//                     title: {
//                         text: 'Nadi',
//                         rotation: 0,
//                         align: 'middle',
//                         offset: 0,
//                         y:-140,
//                         x:-30
//                     }
//                 }, 
//                 {
//                     title: {
//                         text: '',
//                         rotation: 0,
//                         align: 'middle',
//                         offset: 0,
//                         y:-120,
//                         x:- 5
//                     }
//                 },
//                 {
//                     title: {
//                         text: 'Suhu',
//                         rotation: 0,
//                         align: 'middle',
//                         offset: 0,
//                         y:-55,
//                         x: + 3 
//                     }
//                 }, 
//                 {
//                     title: {
//                         text: '',
//                         rotation: 0,
//                         align: 'middle',
//                         offset: 0,
//                         y:-35,
//                         x: + 30 
//                     }
//                 },
//                 {
//                     title: {
//                         text: 'RR',
//                         rotation: 0,
//                         align: 'middle',
//                         offset: 0,
//                         y: + 30,
//                         x: + 40 
//                     }
//                 }, 
//                 {
//                     title: {
//                         text: 'x',
//                         rotation: 0,
//                         align: 'middle',
//                         offset: 0,
//                         y: + 47,
//                         x: + 55
//                     }
//                 }, 
//             ],
//             series: [suhu1, rr1, nadi1]
//             // series: []
//         }
//           grafik.highcharts().update(option1) 
//     }) 

//     // console.log('kuntul'); 
//     monitoringGrafik(data)
//     hapusMonitoringGrafik(grafik)
//     updateMonitoringGrafik(grafik)

//     $('#btn-mp-chart').on('click', function(){   

//         if($('#jam-mp').val() === ''){
//             syams_validation('#jam-mp', 'jam harus diisi.');        
//             return false;
//         }else {
//             syams_validation_remove('#jam-mp');
//         }
 
//         if($('#tgl-mp').val() === ''){
//             syams_validation('#tgl-mp', 'tanggal harus diisi.');
//             return false;
//         }else {
//             syams_validation_remove('#tgl-mp');
//         }

//         // const jam = $('#jam-mp').val().replace(',', '.');
//         // const tanggal = $('#tgl-mp').val().replace(',', '.');
//         // const suhu = $('#suhu-mp').val().replace(',', '.');
//         // const rr = $('#rr-mp').val().replace(',', '.');
//         // const nadi = $('#nadi-mp').val().replace(',', '.');
//         // const valJam = `jam: ${jam}<br>tanggal: ${tanggal}`;
//         // const valJam = 'jam: ' + jam + '<br>' + 'tanggal: ' + tanggal + '<br>' + 'suhu: ' + suhu +  '<br>' + ' rr: ' + rr + '<br>' + ' nadi: ' + nadi;
//         // $('#result').html('<div style="display: block;">' + valJam + '</div>');

//         const suhu = $('#suhu-mp').val().replace(',', '.');
//         const rr = $('#rr-mp').val().replace(',', '.');
//         const nadi = $('#nadi-mp').val().replace(',', '.');
//         const jam = $('#jam-mp').val().replace(',', '.');
//         const tanggal = $('#tgl-mp').val().replace(',', '.');  
//         const valJam = 'jam: ' + jam + '<br>' + 'tanggal: ' + tanggal + '<br>' + 'suhu: ' + suhu +  '<br>' + ' rr: ' + rr + '<br>' + ' nadi: ' + nadi;
//         $('#result').html('<div style="display: block;">' + valJam + '</div>');



//         let html = /* html */ `      
//             <tr class="row-in-${++numberMp}">
//                 <td class="number-pengkajiant" align="center">${numberMp}</td>       
//                 <td align="center">${suhu}</td>
//                 <td align="center">${rr}</td>
//                 <td align="center">${nadi}</td>
//                 <td align="center">${jam}</td>
//                 <td align="center">${tanggal}</td>
//                 <td align="center">              
//                     <button type="button"class="btn btn-secondary btn-xxs delete-button" index="${i}" jam="${jam}" tanggal="${tanggal}"><i class="fas fa-trash-alt"></i></button>
//                 </td>            
//             </tr>
//         `;
//        $('#tabel-mg .body-table').append(html);

//         const newGrafik=grafik.highcharts()

//         const dataJamSebelum = newGrafik.xAxis[0].categories;

//         newGrafik.xAxis[0].update({
//             categories: [...dataJamSebelum, valJam]
//         })
//         const valsuhu = $('#suhu-mp').val()
//         const valrr = $('#rr-mp').val()
//         const valnadi = $('#nadi-mp').val()       
//         const idxsuhu = newGrafik.series.findIndex(data => data.name === 'suhu')
//         const datasebelumsuhu = newGrafik.series[idxsuhu].processedYData;
//         newGrafik.series[idxsuhu].setData([...datasebelumsuhu, valsuhu !== '' ? parseFloat(valsuhu) : null]);

//         const idxrr = newGrafik.series.findIndex(data => data.name === 'rr')
//         const datasebelumrr = newGrafik.series[idxrr].processedYData;
//         newGrafik.series[idxrr].setData([...datasebelumrr, valrr !== '' ? parseFloat(valrr) : null]);

//         const idxnadi = newGrafik.series.findIndex(data => data.name === 'nadi')
//         const datasebelumnadi = newGrafik.series[idxnadi].processedYData;
//         newGrafik.series[idxnadi].setData([...datasebelumnadi, valnadi !== '' ? parseFloat(valnadi) : null]);

//         let dataCartMp = {}

//         if($('#data-chart-mp').val() !== '') dataCartMp = JSON.parse($('#data-chart-mp').val());
//         let newDataCartMp = {
//             ...dataCartMp,
//             [newGrafik.series[0].name] : newGrafik.series[0].data.map(point => ({category: point.category, value: point.y})).reduce((a,b)=>{
//                 const index = a.findIndex(item =>item.key === b.key );
//                 if (index === -1) {
//                     a.push({category : [b.category], value: [b.value]})
//                 }else{
//                     a[index].value.push(b.value);
//                     a[index].category.push(b.category);
//                 }
//                 return a;
//             },[])[0],          
//             [newGrafik.series[1].name] : newGrafik.series[1].data.map(point => ({category: point.category, value: point.y})).reduce((a,b)=>{
//                 const index = a.findIndex(item =>item.key === b.key );
//                 if (index === -1) {
//                     a.push({category : [b.category], value: [b.value]})
//                 }else{
//                     a[index].value.push(b.value);
//                     a[index].category.push(b.category); 
//                 }
//                 return a;
//             },[])[0],
//             [newGrafik.series[2].name] : newGrafik.series[2].data.map(point => ({category: point.category, value: point.y})).reduce((a,b)=>{
//                 const index = a.findIndex(item =>item.key === b.key );
//                 if (index === -1) {
//                     a.push({category : [b.category], value: [b.value]})
//                 }else{
//                     a[index].value.push(b.value);
//                     a[index].category.push(b.category);
//                 }
//                 return a;
//             },[])[0],
//         }

//         $('#data-chart-mp').val(JSON.stringify(newDataCartMp));    
//         $('#suhu-mp, #rr-mp, #nadi-mp, #jam-mp, #tgl-mp')
//             .val('');
//         monitoringGrafik(data)
//         hapusMonitoringGrafik(grafik)
//         updateMonitoringGrafik(grafik)
    
//     })
// }



// MP-A +
// function hapusMonitoringGrafik(grafik) {
//     $('.delete-button').on('click', function() {
//         const jam = $(this).attr('jam');
//         const tanggal = $(this).attr('tanggal');
//         const index = $(this).attr('index');
//         const valJam = $(this).closest('#result');
//         const dataChart = JSON.parse($('#data-chart-mp').val());

//         // Tampilkan konfirmasi
//         // const konfirmasi = window.confirm('Anda yakin ingin menghapus data ini....?');
//         // if (!konfirmasi) {
//         //     // Batal menghapus jika pengguna memilih "Cancel"
//         //     window.alert('Penghapusan data dibatalkan.');
//         //     return;
//         // }

//         Object.keys(dataChart).forEach(key => {
//             const category = dataChart[key].category;
//             const value = dataChart[key].value;
//             if (category[index] !== undefined) {
//                 category.splice(index, 1);
//                 value.splice(index, 1);
//             }
//         });
//         $('#data-chart-mp').val(JSON.stringify(dataChart));
//         $(this).closest('tr').remove();

//         const newGrafik = grafik.highcharts();
//         const series = newGrafik.series;

//         if (series && series.length > 0) {
//             for (let i = 0; i < series.length; i++) {
//                 const points = series[i].points;
//                 if (points && points.length > index) {
//                     points[index].remove();
//                     $('#result').empty();
//                 }
//             }
//         }
//         valJam.remove();
//     });
// }





// MP-A + PERUBAHAN
// function monitoringGrafik(data) {
//     // console.log(grafik_mp); 
//     if (data) {          
//         const grafik_mp = JSON.parse(data);   
//         let minLen = Math.max(
//             grafik_mp.suhu.value.length,
//             grafik_mp.nadi.value.length,
//             grafik_mp.rr.value.length     
//         );
//         // console.log(data); 
//         // PENAMBAHAN BARU 
//         let output = [];
//         for (let i = 0; i < minLen; i++) {
//             let suhuData = [];
//             if (grafik_mp.suhu.category[i] && typeof grafik_mp.suhu.category[i] === 'string') {
//                 suhuData = grafik_mp.suhu.category[i].split('<br>');
//             }        
//             let jamData = '';
//             let tanggalData = '';

//             for (let data of suhuData) {
//                 if (data.includes('jam:')) {
//                 jamData = data.replace('jam: ', '');
//                 } else if (data.includes('tanggal:')) {
//                 tanggalData = data.replace('tanggal: ', '');
//                 }
//             }
          
//             let obj = {
//                 suhu: grafik_mp.suhu.value[i],
//                 nadi: i < grafik_mp.nadi.value.length ? grafik_mp.nadi.value[i] : null,
//                 rr: i < grafik_mp.rr.value.length ? grafik_mp.rr.value[i] : null,
//                 jam: jamData,
//                 tanggal: tanggalData
//             };
//             output.push(obj);
//             // console.log(obj);
//             // console.log(output);
//         }      
//         numberMp = 0;     
//         $.each(output, function (i, v) {          
//             numberMp++;
//             let html = /* html */ `
//             <tr class="row-in-${numberMp}">
//                 <td class="number-pengkajiant" align="center">${numberMp}</td>
//                 <td align="center"> <span>${v.suhu}</span> <input type="hidden" class="custom-form suhu-edit clear-input d-inline-block col-lg-3"= value="${v.suhu}"></td>
//                 <td align="center"> <span>${v.rr}</span> <input type="hidden" class="custom-form rr-edit clear-input d-inline-block col-lg-3"= value="${v.rr}"></td>
//                 <td align="center"> <span>${v.nadi}</span><input type="hidden" class="custom-form nadi-edit clear-input d-inline-block col-lg-3"= value="${v.nadi}"></td>
//                 <td align="center"> <span>${v.jam}</span> <input type="hidden" class="custom-form jam-edit clear-input d-inline-block col-lg-3"= value="${v.jam}"></td>
//                 <td align="center"> <span>${v.tanggal}</span> <input type="hidden" class="custom-form tanggal-edit clear-input d-inline-block col-lg-5"= value="${v.tanggal}"></td>
//                 <td align="center">
//                 <button type="button" class="btn btn-secondary btn-xxs edit-button"><i class="fas fa-edit"></i></button>   
//                 <button type="button" class="hide btn btn-secondary btn-xxs update-grafik-button" index="${i}" jam="${v.jam}" tanggal="${v.tanggal}">Update</button>          
//                 <button type="button"class="btn btn-secondary btn-xxs delete-button" index="${i}" jam="${v.jam}" tanggal="${v.tanggal}"><i class="fas fa-trash-alt"></i></button>
//                 </td>
//             </tr>
//             `;          
//             if (!$(`.row-in-${numberMp}`).length) {
//             $('#tabel-mg .body-table').append(html);
//             }
//         });       
//     }
// }



// MP-A + update
// function updateMonitoringGrafik(grafik) {

//     $('.edit-button').on('click', function() {
//         const parentContainer = $(this).parent().parent();
//         const inputan = parentContainer.find('input');
//         const updatedValue = inputan.val(); // Ambil nilai yang diperbarui dari inputan

//         const updateButton = $(this).siblings('.update-grafik-button');
//         updateButton.attr('jam', $(this).attr('jam'));
//         updateButton.attr('tanggal', $(this).attr('tanggal'));
//         updateButton.show();

//         $(this).hide();
//         parentContainer.find('span').hide();
//         inputan.attr('type', 'text');
//     });

//     $('.update-grafik-button').on('click', function() {
//         const parentContainer = $(this).parent().parent();
//         const suhu = ($(this).parent().parent().find('.suhu-edit').val());
//         const rr = ($(this).parent().parent().find('.rr-edit').val());
//         const nadi = ($(this).parent().parent().find('.nadi-edit').val());
//         const jam = ($(this).parent().parent().find('.jam-edit').val());
//         const tanggal = ($(this).parent().parent().find('.tanggal-edit').val());
//         const indexX = $(this).attr('index');
//         const jamAttr = $(this).attr('jam');
//         const tanggalAttr = $(this).attr('tanggal');
//         const inputan = parentContainer.find('input.input-value');
//         const updatedValue = inputan.val();
//         const dataChart = JSON.parse($('#data-chart-mp').val());
    
//         let dataVal = {
//             suhu, rr, nadi, jam, tanggal,            
//         };
//         //fungsi update data di tabel
//         const updateValueTr = (id, val)=> {
//             $(this).parent().closest('tr').find(`input${id}`).parent().find('span').text(val)
//             $(this).parent().closest('tr').find(`input${id}`).val(val)
//         }
//         updateValueTr('.suhu-edit', dataVal.suhu);
//         updateValueTr('.rr-edit', dataVal.rr);
//         updateValueTr('.nadi-edit', dataVal.nadi);
//         updateValueTr('.jam-edit', dataVal.jam);
//         updateValueTr('.tanggal-edit', dataVal.tanggal);
//         // insial data untuk grafik 
//         let setdataGrafik = `jam: ${dataVal.jam}<br>`;
//             setdataGrafik += `tanggal: ${dataVal.tanggal}<br>`;
//             setdataGrafik += `suhu: ${dataVal.suhu}<br>`;
//             setdataGrafik += `rr: ${dataVal.rr}<br>`;
//             setdataGrafik += `nadi: ${dataVal.nadi}`;

//         const newData = {
//             suhu: { category: [setdataGrafik], value: [dataVal.suhu] },
//             rr: { category: [setdataGrafik], value: [dataVal.rr] },
//             nadi: { category: [setdataGrafik], value: [dataVal.nadi] }                  
//         };

//         Object.keys(newData).forEach(key => {
//             const newCategory = newData[key].category;
//             const newValue = newData[key].value;

//             const existingCategory = dataChart[key].category[indexX];
//             const existingValue = dataChart[key].value[indexX];
        
//             if (newCategory[0] !== existingCategory) {
//                 dataChart[key].category[indexX] = newCategory[0];
//                 dataChart[key].value[indexX] = newValue[0];
//             }         
//         });

//         // Mengupdate kategori pada sumbu x
//         const newGrafik=grafik.highcharts();
//         newGrafik.xAxis[0].update({
//             categories: dataChart.suhu.category,
//             categories: dataChart.rr.category,
//             categories: dataChart.nadi.category
//         });
//         $('#data-chart-mp').val(JSON.stringify(dataChart));
//         $(this).hide();
//         $(this).siblings('.edit-button').show();
//         parentContainer.find('span').each(function(index) {
//             $(this).text(updatedValue).show();
//         });
//         parentContainer.find('input').attr('type', 'hidden');
//     });
                                   
//     $('.jam-edit')
//     .on('click', function() {
//         $(this).timepicker({
//             format: 'HH:mm',
//             showInputs: false,
//             showMeridian: false
//         });
//     })

//     $('.tanggal-edit')
//     .datetimepicker({
//         format: 'DD/MM/YYYY',
//         pickSecond: false,
//         pick12HourFormat: false,
//         maxDate: new Date(),
//         beforeShow: function(i) {
//             if ($(i).attr('readonly')) {
//                 return false;
//             }
//         }
//     });
// }








// MP-A
// SKALA EARLY WARNING NEWS AWAL MONITORING PASIEN
// function hitungSkalaEarlyNewsMp() {
//     var total = 0;   
//     // looping vertical
//     for (let i = 1; i <= 6; i++) {
//         // looping horizontal
//         var sub_total = 0
//         for (let j = 1; j <= 6; j++) {
//             var value = 0;
//             if ($('#mpnews-' + i + '-' + j).is(':checked')) {
//                 var getNilai = $('#mpnews-' + i + '-' + j).val()
//                 value = getNilai.split('-', 1)
//                 if (value[0] === 'bk') {
//                     value = 6;
//                 }
//             }

//             sub_total = sub_total + parseInt(value)
//             // console.log(getNilai);
//         }

//         total = total + parseInt(sub_total)
//     }

//     if (total == 0) {
//         $('#total-mpnews-1').prop('checked', true)
//     } else if (total >= 1 && total <= 3) {
//         $('#total-mpnews-2').prop('checked', true)
//     } else if (total >= 4 && total <= 5) {
//         $('#total-mpnews-3').prop('checked', true)
//     } else if (total >= 6) {
//         $('#total-mpnews-4').prop('checked', true)
//     }
// }
// SKALA EARLY WARNING NEWS AAKHR


// MP-A
// SKALA EARLY WARNING MEOWS AWAL MONITORING PASIEN
// function hitungSkalaEarlyMeowsMp() {
//     var total = 0;
//     // looping vertical
//     for (let i = 1; i <= 11; i++) {
//         // looping horizontal
//         var sub_total = 0
//         for (let j = 1; j <= 11; j++) {
//             var value = 0;
//             if ($('#mpmeows-' + i + '-' + j).is(':checked')) {
//                 var getNilai = $('#mpmeows-' + i + '-' + j).val()
//                 value = getNilai.split('-', 1)
//                 if (value[0] === 'bk') {
//                     value = 8;
//                 }
//             }

//             sub_total = sub_total + parseInt(value)
//         }

//         total = total + parseInt(sub_total)
//     }

//     if (total == 0) {
//         $('#total-mpmeows-1').prop('checked', true)
//     } else if (total >= 1 && total <= 4) {
//         $('#total-mpmeows-2').prop('checked', true)
//     } else if (total >= 5 && total <= 6) {
//         $('#total-mpmeows-3').prop('checked', true)
//     } else if (total >= 7) {
//         $('#total-mpmeows-4').prop('checked', true)
//     }
// }
// SKALA EARLY WARNING MEOWS AAKHR MONITORING PASIEN

// MP-A
// SKALA PEWS ANAK MONITORING PASIEN
// function hitungSkalaEarlyPews() {
//     var total = 0;
//     // looping vertical
//     for (let i = 1; i <= 19; i++) {
//         // looping horizontal
//         var sub_total = 0
//         for (let j = 1; j <= 7; j++) {
//             var value = 0;
//             if ($('#skalapews_' + i + '_' + j).is(':checked')) {
//                 var getNilai = $('#skalapews_' + i + '_' + j).val()
//                 value = getNilai.split('_', 1)
//             }

//             sub_total = sub_total + parseInt(value)
//         }

//         total = total + parseInt(sub_total)
//     }

//     if (total >= 0 && total <= 2) {
//         $('#total_skalapews_1').prop('checked', true)
//     } else if (total >= 3 && total <= 4) {
//         $('#total_skalapews_2').prop('checked', true)
//     } else if (total >= 5) {
//         $('#total_skalapews_3').prop('checked', true)
//     }
// }

    // transfer pasien intra rumah sakit
    function getListTransferPasien (id_pendaftaran, bed, page) {
        $('#wizard-transfer-group').bwizard('show', '1');

        let accountGroup = "<?= $this->session->userdata('account_group') ?>";

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_list_transfer_pasien") ?>/page/' + page +
                '/id_pendaftaran/' + id_pendaftaran,
            data: 'keyword=' + $('#tpi-keyword').val() + '&waktu=' + $('#tpi-waktu-search').val(),
            cache: false,
            dataType: 'JSON',
            beforeSend: function() {
                showLoader();
            },
            success: function(data) {
                if ((page - 1) & (data.data.length === 0)) {
                    getListTransferPasien('', bed, page - 1);
                    return false;
                }

                $('#tpi-pagination').html(pagination2(data.jumlah, data.limit, data.page, 1));
                $('#tpi-summary').html(page_summary(data.jumlah, data.data.length, data.limit, data.page));

                $('#table-transfer-pasien tbody').empty();

                $.each(data.data, function(i, v) {

                    let no = ((i + 1) + ((data.page - 1) * data.limit));

                    let selPetugas = '';
                    let idEkLayanan = $('#ek_id_layanan_pendaftaran').val();
                    let butHapus = '';
                    if (v.id_layanan_pendaftaran === idEkLayanan) {

                        butHapus =
                            `<button type="button" class="btn btn-secondary btn-xs" onclick="hapusTransfer(this, ${v.id_transfer})"><i class="fas fa-fw fa-trash-alt mr-1"></i>Hapus</button>`;
                    } else {
                        butHapus = '';
                    }

                    let html = /* html */ `
                        <tr>
                            <td class="center">${no}</td>
                            <td class="center">${((v.tpi_kp_waktu_ttd_petugas_tf !== null) ? datetime2date(v.tpi_kp_waktu_ttd_petugas_tf) : '')}</td>
                            <td class="center">${((v.tpi_ruang_asal !== null) ? v.tpi_ruang_asal : '')}</td>
                            <td class="center">${((v.nama_petugas_transer !== null) ? v.nama_petugas_transer : '')}</td>
                            <td class="center">${((v.tpi_kp_waktu_ttd_petugas_penerima !== null) ? datetime2date(v.tpi_kp_waktu_ttd_petugas_penerima) : '')}</td>
                            <td class="center">${((v.tpi_ruang_tujuan !== null) ? v.tpi_ruang_tujuan : '')}</td>
                            <td class="center">${((v.nama_petugas_penerima_transfer !== null) ? v.nama_petugas_penerima_transfer : '')}</td>
                            <td class="right aksi">
                                <button type="button" class="btn btn-secondary btn-xxs" onclick="detailTransfer(${v.id_transfer})"><i class="fas fa-eye m-r-5"></i>Lihat Transfer</button>
                                ${butHapus}
                            </td>
                        </tr>
                    `;
                    // let html = /* html */ ``;

                    $('#table-transfer-pasien tbody').append(html);

                })


            },
            complete: function() {
                hideLoader();
            },
            error: function(e) {
                accessFailed('Gagal mendapatkan data!');
            }
        });
    }

    function detailTransfer(id) {

        resetFormResume();
        $('#wizard-transfer-group').bwizard('show', '0');

        $.ajax({
            type: 'GET',
            url: '<?= base_url("pelayanan/api/pelayanan/get_detail_transfer") ?>/id/' + id,
            cache: false,
            dataType: 'JSON',
            beforeSend: function() {
                showLoader()
            },
            success: function(data) {
                console.log(data);

                $('#id_transfer').val(data.data.id_transfer);
                $('#tpi_id_layanan_pendaftaran').val(data.data.id_layanan_pendaftaran);

                if (data !== null) {
                    $('#tpi_tanggal_masuk, #tpi_ruang_asal, #tpi_diagnosis_utama, #tpi_indikasi_masuk_rs, #tpi_pf_composmentis, #tpi_pf_apatis, #tpi_pf_samnolen, #tpi_pf_sopor, #tpi_pf_koma, #tpi_pf_gcs_e, #tpi_pf_gcs_m, #tpi_pf_gcs_v, #tpi_pf_tensi_sis, #tpi_pf_tensi_dis, #tpi_pf_suhu, #tpi_pf_nadi, #tpi_pf_nafas, #tpi_pf_tinggi_badan, #tpi_pf_berat_badan, #tpi_pf_keadaan_umum, #tpi_pf_alergi_ya, #tpi_pf_alergi_tidak, #tpi_pf_riwayat_alergi, #tpi_pf_skala_nyeri_pasien_tidak, #tpi_pf_skala_nyeri_pasien_ya, #tpi_pf_riwayat_nyeri_pasien, #tpi_pf_resiko_jatuh_pasien_tidak, #tpi_pf_resiko_jatuh_pasien_ya, #tpi_pf_riwayat_resiko_jatuh_pasien, #tpi_pf_mobilisasi_pasien_jalan, #tpi_pf_mobilisasi_pasien_duduk, #tpi_pf_mobilisasi_pasien_tirah_barang, #tpi_pf_mobilisasi_pasien_transfer, #tpi_pf_mobilisasi_pasien_transfer_mandiri, #tpi_pf_mobilisasi_pasien_transfer_dibantu_sebagian, #tpi_pf_mobilisasi_pasien_transfer_tirah_diabantu_penuh, #tpi_pf_resiko_dekubitus_pasien_tidak, #tpi_pf_resiko_dekubitus_pasien_ya, #tpi_pf_riwayat_resiko_dekubitus_pasien, #tpi_pf_infus, #tpi_pf_tanggal_infus, #tpi_pf_ngt_pasien, #tpi_pf_tanggal_ngt, #tpi_pf_ett, #tpi_pf_tanggal_ett, #tpi_pf_cvc, #tpi_pf_tanggal_cvc, #tpi_pf_dc, #tpi_pf_tanggal_dc, #tpi_pf_lain, #tpi_pf_tanggal_lain, #tpi_pf_pump, #tpi_pf_bidai, #tpi_pt_infus, #tpi_pt_obat, #tpi_pp_labolatorium, #tpi_pp_ket_labolatorium, #tpi_pp_radiologi, #tpi_pp_ket_radiologi, #tpi_pp_lainnya, #tpi_pp_ket_lainnya, #tpi_tm_tindakan_medis, #tpi_st_sudah_kondisi_pasien_memburuk').attr('disabled', true);

                    $('#tpi_dpjp').select2c('readonly', true);

                    $('#tpi_tanggal_masuk').val(data.data.tpi_tanggal_masuk !== null ? datetimefmysql(data.data.tpi_tanggal_masuk) : "");
                    $('#tpi_tanggal_pindah').val(data.data.tpi_tanggal_pindah !== null ? datetimefmysql(data.data.tpi_tanggal_pindah) : "");
                    $('#tpi_ruang_asal').val(data.data.tpi_ruang_asal);
                    $('#tpi_ruang_tujuan').val(data.data.tpi_ruang_tujuan);
                    $('#tpi_diagnosis_utama').val(data.data.tpi_diagnosis_utama);
                    $('#tpi_diagnosis_sekunder').val(data.data.tpi_diagnosis_sekunder);
                    $('#tpi_dpjp').val(data.data.tpi_dpjp);
                    $('#s2id_tpi_dpjp a .select2c-chosen').html(data.data.nama_dpjp);
                    $('#tpi_riwayat_kewaspadan').val(data.data.tpi_riwayat_kewaspadan);
                    $('#tpi_indikasi_masuk_rs').val(data.data.tpi_indikasi_masuk_rs);
                    $('#tpi_riwayat_kesehatan').val(data.data.tpi_riwayat_kesehatan);
                    $('#tpi_pf_gcs_e').val(data.data.tpi_pf_gcs_e);
                    $('#tpi_pf_gcs_m').val(data.data.tpi_pf_gcs_m);
                    $('#tpi_pf_gcs_v').val(data.data.tpi_pf_gcs_v);
                    $('#tpi_pf_tensi_sis').val(data.data.tpi_pf_tensi_sis);
                    $('#tpi_pf_tensi_dis').val(data.data.tpi_pf_tensi_dis);
                    $('#tpi_pf_suhu').val(data.data.tpi_pf_suhu);
                    $('#tpi_pf_nadi').val(data.data.tpi_pf_nadi);
                    $('#tpi_pf_nafas').val(data.data.tpi_pf_nafas);
                    $('#tpi_pf_tinggi_badan').val(data.data.tpi_pf_tinggi_badan);
                    $('#tpi_pf_berat_badan').val(data.data.tpi_pf_berat_badan);
                    $('#tpi_pf_keadaan_umum').val(data.data.tpi_pf_keadaan_umum);
                    $('#tpi_pf_riwayat_alergi').val(data.data.tpi_pf_riwayat_alergi);
                    $('#tpi_pf_riwayat_nyeri_pasien').val(data.data.tpi_pf_riwayat_nyeri_pasien);
                    $('#tpi_pf_riwayat_resiko_jatuh_pasien').val(data.data.tpi_pf_riwayat_resiko_jatuh_pasien);
                    $('#tpi_pf_riwayat_resiko_dekubitus_pasien').val(data.data.tpi_pf_riwayat_resiko_dekubitus_pasien);
                    $('#tpi_pf_tanggal_infus').val(data.data.tpi_pf_tanggal_infus !== null ? datefmysql(data.data.tpi_pf_tanggal_infus) : "");
                    $('#tpi_pf_tanggal_ngt').val(data.data.tpi_pf_tanggal_ngt !== null ? datefmysql(data.data.tpi_pf_tanggal_ngt) : "");
                    $('#tpi_pf_tanggal_ett').val(data.data.tpi_pf_tanggal_ett !== null ? datefmysql(data.data.tpi_pf_tanggal_ett) : "");
                    $('#tpi_pf_tanggal_cvc').val(data.data.tpi_pf_tanggal_cvc !== null ? datefmysql(data.data.tpi_pf_tanggal_cvc) : "");
                    $('#tpi_pf_tanggal_dc').val(data.data.tpi_pf_tanggal_dc !== null ? datefmysql(data.data.tpi_pf_tanggal_dc) : "");
                    $('#tpi_pf_tanggal_lain').val(data.data.tpi_pf_tanggal_lain !== null ? datefmysql(data.data.tpi_pf_tanggal_lain) : "");
                    $('#tpi_pt_infus').val(data.data.tpi_pt_infus);
                    $('#tpi_pt_obat').val(data.data.tpi_pt_obat);
                    $('#tpi_pp_ket_labolatorium').val(data.data.tpi_pp_ket_labolatorium);
                    $('#tpi_pp_ket_radiologi').val(data.data.tpi_pp_ket_radiologi);
                    $('#tpi_pp_ket_lainnya').val(data.data.tpi_pp_ket_lainnya);
                    $('#tpi_tm_tindakan_medis').val(data.data.tpi_tm_tindakan_medis);
                    $('#tpi_kp_sebelum_keadaan_umum').val(data.data.tpi_kp_sebelum_keadaan_umum);
                    $('#tpi_kp_sebelum_gcs_e').val(data.data.tpi_kp_sebelum_gcs_e);
                    $('#tpi_kp_sebelum_gcs_m').val(data.data.tpi_kp_sebelum_gcs_m);
                    $('#tpi_kp_sebelum_gcs_v').val(data.data.tpi_kp_sebelum_gcs_v);
                    $('#tpi_kp_sebelum_gcs_total').val(data.data.tpi_kp_sebelum_gcs_total);
                    $('#tpi_kp_sebelum_catatan').val(data.data.tpi_kp_sebelum_catatan);
                    $('#tpi_kp_perjalanan_masalah_selama_trasnfer').val(data.data.tpi_kp_perjalanan_masalah_selama_trasnfer);
                    $('#tpi_kp_perjalanan_penanganan_masalah').val(data.data.tpi_kp_perjalanan_penanganan_masalah);
                    $('#tpi_kp_sudah_keadaan_umum').val(data.data.tpi_kp_sudah_keadaan_umum);
                    $('#tpi_kp_sudah_gcs_e').val(data.data.tpi_kp_sudah_gcs_e);
                    $('#tpi_kp_sudah_gcs_m').val(data.data.tpi_kp_sudah_gcs_m);
                    $('#tpi_kp_sudah_gcs_v').val(data.data.tpi_kp_sudah_gcs_v);
                    $('#tpi_kp_sudah_gcs_total').val(data.data.tpi_kp_sudah_gcs_total);
                    $('#tpi_kp_sudah_tensi_sis').val(data.data.tpi_kp_sudah_tensi_sis);
                    $('#tpi_kp_sudah_tensi_dis').val(data.data.tpi_kp_sudah_tensi_dis);
                    $('#tpi_kp_sudah_nadi').val(data.data.tpi_kp_sudah_nadi);
                    $('#tpi_kp_sudah_pernafasan').val(data.data.tpi_kp_sudah_pernafasan);
                    $('#tpi_kp_sudah_suhu').val(data.data.tpi_kp_sudah_suhu);
                    $('#tpi_kp_sudah_ket_nama_obat').val(data.data.tpi_kp_sudah_ket_nama_obat);
                    $('#tpi_kp_sudah_ket_pemeriksaan_penunjang').val(data.data.tpi_kp_sudah_ket_pemeriksaan_penunjang);
                    $('#tpi_kp_sudah_catatan_penting').val(data.data.tpi_kp_sudah_catatan_penting);
                    $('#tpi_kp_waktu_ttd_petugas_tf').val(data.data.tpi_kp_waktu_ttd_petugas_tf !== null ? datetimefmysql(data.data.tpi_kp_waktu_ttd_petugas_tf) : "");
                    $('#tpi_kp_waktu_ttd_petugas_penerima').val(data.data.tpi_kp_waktu_ttd_petugas_penerima !== null ? datetimefmysql(data.data.tpi_kp_waktu_ttd_petugas_penerima) : "");
                    $('#tpi_kp_petugas_tansfer').val(data.data.tpi_kp_petugas_tansfer);
                    $('#s2id_tpi_kp_petugas_tansfer a .select2c-chosen').html(data.data.nama_kp_petugas_tansfer);
                    $('#tpi_kp_petugas_terima_transfer').val(data.data.tpi_kp_petugas_terima_transfer);
                    $('#s2id_tpi_kp_petugas_terima_transfer a .select2c-chosen').html(data.data.nama_kp_petugas_terima_transfer);
                    $('#tpi_st_sebelum_keadaan_umum').val(data.data.tpi_st_sebelum_keadaan_umum);
                    $('#tpi_st_sebelum_gcs_e').val(data.data.tpi_st_sebelum_gcs_e);
                    $('#tpi_st_sebelum_gcs_m').val(data.data.tpi_st_sebelum_gcs_m);
                    $('#tpi_st_sebelum_gcs_v').val(data.data.tpi_st_sebelum_gcs_v);
                    $('#tpi_st_sebelum_gcs_total').val(data.data.tpi_st_sebelum_gcs_total);
                    $('#tpi_st_sebelum_tensi_sis').val(data.data.tpi_st_sebelum_tensi_sis);
                    $('#tpi_st_sebelum_tensi_dis').val(data.data.tpi_st_sebelum_tensi_dis);
                    $('#tpi_st_sebelum_nadi').val(data.data.tpi_st_sebelum_nadi);
                    $('#tpi_st_sebelum_pernafasan').val(data.data.tpi_st_sebelum_pernafasan);
                    $('#tpi_st_sebelum_suhu').val(data.data.tpi_st_sebelum_suhu);
                    $('#tpi_st_sebelum_catatan').val(data.data.tpi_st_sebelum_catatan);
                    $('#tpi_st_perjalanan_masalah_selama_transfer').val(data.data.tpi_st_perjalanan_masalah_selama_transfer);
                    $('#tpi_st_perjalanan_penanganan_masalah').val(data.data.tpi_st_perjalanan_penanganan_masalah);
                    $('#tpi_st_sudah_keadaan_umum').val(data.data.tpi_st_sudah_keadaan_umum);
                    $('#tpi_st_sudah_gcs_e').val(data.data.tpi_st_sudah_gcs_e);
                    $('#tpi_st_sudah_gcs_m').val(data.data.tpi_st_sudah_gcs_m);
                    $('#tpi_st_sudah_gcs_v').val(data.data.tpi_st_sudah_gcs_v);
                    $('#tpi_st_sudah_gcs_total').val(data.data.tpi_st_sudah_gcs_total);
                    $('#tpi_st_sudah_tensi_sis').val(data.data.tpi_st_sudah_tensi_sis);
                    $('#tpi_st_sudah_tensi_dis').val(data.data.tpi_st_sudah_tensi_dis);
                    $('#tpi_st_sudah_nadi').val(data.data.tpi_st_sudah_nadi);
                    $('#tpi_st_sudah_pernafasan').val(data.data.tpi_st_sudah_pernafasan);
                    $('#tpi_st_sudah_suhu').val(data.data.tpi_st_sudah_suhu);
                    $('#tpi_st_sudah_ket_nama_obat').val(data.data.tpi_st_sudah_ket_nama_obat);
                    $('#tpi_st_sudah_ket_pemeriksaan_penunjang').val(data.data.tpi_st_sudah_ket_pemeriksaan_penunjang);
                    $('#tpi_st_sudah_catatan_penting').val(data.data.tpi_st_sudah_catatan_penting);
                    $('#tpi_st_waktu_ttd_petugas_tf').val(data.data.tpi_st_waktu_ttd_petugas_tf !== null ? datetimefmysql(data.data.tpi_st_waktu_ttd_petugas_tf) : "");
                    $('#tpi_st_waktu_ttd_petugas_penerima').val(data.data.tpi_st_waktu_ttd_petugas_penerima !== null ? datetimefmysql(data.data.tpi_st_waktu_ttd_petugas_penerima) : "");
                    $('#tpi_st_petugas_tansfer').val(data.data.tpi_st_petugas_tansfer);
                    $('#s2id_tpi_st_petugas_tansfer a .select2c-chosen').html(data.data.nama_st_petugas_tansfer);
                    $('#tpi_st_petugas_terima_transfer').val(data.data.tpi_st_petugas_terima_transfer);
                    $('#s2id_tpi_st_petugas_terima_transfer a .select2c-chosen').html(data.data.nama_st_petugas_terima_transfer);

                    // checkbox
                    if (data.data.tpi_pf_composmentis === '1') {
                        $('#tpi_pf_composmentis').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_apatis === '1') {
                        $('#tpi_pf_apatis').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_samnolen === '1') {
                        $('#tpi_pf_samnolen').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_sopor === '1') {
                        $('#tpi_pf_sopor').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_koma === '1') {
                        $('#tpi_pf_koma').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_infus === '1') {
                        $('#tpi_pf_infus').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_ngt_pasien === '1') {
                        $('#tpi_pf_ngt_pasien').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_ett === '1') {
                        $('#tpi_pf_ett').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_cvc === '1') {
                        $('#tpi_pf_cvc').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_dc === '1') {
                        $('#tpi_pf_dc').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_lain === '1') {
                        $('#tpi_pf_lain').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_pump === '1') {
                        $('#tpi_pf_pump').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_bidai === '1') {
                        $('#tpi_pf_bidai').prop('checked', true).change()
                    }
                    if (data.data.tpi_pp_labolatorium === '1') {
                        $('#tpi_pp_labolatorium').prop('checked', true).change()
                    }
                    if (data.data.tpi_pp_radiologi === '1') {
                        $('#tpi_pp_radiologi').prop('checked', true).change()
                    }
                    if (data.data.tpi_pp_lainnya === '1') {
                        $('#tpi_pp_lainnya').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sebelum_composmentis === '1') {
                        $('#tpi_kp_sebelum_composmentis').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sebelum_apatis === '1') {
                        $('#tpi_kp_sebelum_apatis').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sebelum_samnolen === '1') {
                        $('#tpi_kp_sebelum_samnolen').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sebelum_sopor === '1') {
                        $('#tpi_kp_sebelum_sopor').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sebelum_koma === '1') {
                        $('#tpi_kp_sebelum_koma').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_composmentis === '1') {
                        $('#tpi_kp_sudah_composmentis').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_apatis === '1') {
                        $('#tpi_kp_sudah_apatis').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_samnolen === '1') {
                        $('#tpi_kp_sudah_samnolen').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_sopor === '1') {
                        $('#tpi_kp_sudah_sopor').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_koma === '1') {
                        $('#tpi_kp_sudah_koma').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_ttd_petugas_transfer === '1') {
                        $('#tpi_kp_ttd_petugas_transfer').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_ttd_petugas_terima_transfer === '1') {
                        $('#tpi_kp_ttd_petugas_terima_transfer').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sebelum_composmentis === '1') {
                        $('#tpi_st_sebelum_composmentis').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sebelum_apatis === '1') {
                        $('#tpi_st_sebelum_apatis').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sebelum_samnolen === '1') {
                        $('#tpi_st_sebelum_samnolen').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sebelum_sopor === '1') {
                        $('#tpi_st_sebelum_sopor').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sebelum_koma === '1') {
                        $('#tpi_st_sebelum_koma').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_composmentis === '1') {
                        $('#tpi_st_sudah_composmentis').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_apatis === '1') {
                        $('#tpi_st_sudah_apatis').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_samnolen === '1') {
                        $('#tpi_st_sudah_samnolen').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_sopor === '1') {
                        $('#tpi_st_sudah_sopor').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_koma === '1') {
                        $('#tpi_st_sudah_koma').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_ttd_petugas_transfer === '1') {
                        $('#tpi_st_ttd_petugas_transfer').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_ttd_petugas_terima_transfer === '1') {
                        $('#tpi_st_ttd_petugas_terima_transfer').prop('checked', true).change()
                    }


                    //radio
                    if (data.data.tpi_kewaspadaan === '1') {
                        $('#tpi_kewaspadaan_precaution').prop('checked', true).change()
                    }
                    if (data.data.tpi_kewaspadaan === '2') {
                        $('#tpi_kewaspadaan_contac').prop('checked', true).change()
                    }
                    if (data.data.tpi_kewaspadaan === '3') {
                        $('#tpi_kewaspadaan_airbone').prop('checked', true).change()
                    }
                    if (data.data.tpi_kewaspadaan === '4') {
                        $('#tpi_kewaspadaan_droplet').prop('checked', true).change()
                    }
                    if (data.data.tpi_kewaspadaan === '5') {
                        $('#tpi_kewaspadaan_lain').prop('checked', true).change()
                    }

                    if (data.data.tpi_pf_alergi === '0') {
                        $('#tpi_pf_alergi_tidak').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_alergi === '1') {
                        $('#tpi_pf_alergi_ya').prop('checked', true).change()
                    }
                    
                    if (data.data.tpi_pf_skala_nyeri_pasien === '0') {
                        $('#tpi_pf_skala_nyeri_pasien_tidak').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_skala_nyeri_pasien === '1') {
                        $('#tpi_pf_skala_nyeri_pasien_ya').prop('checked', true).change()
                    }
                    
                    if (data.data.tpi_pf_resiko_jatuh_pasien === '0') {
                        $('#tpi_pf_resiko_jatuh_pasien_tidak').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_resiko_jatuh_pasien === '1') {
                        $('#tpi_pf_resiko_jatuh_pasien_ya').prop('checked', true).change()
                    }

                    if (data.data.tpi_pf_mobilisasi_pasien === '0') {
                        $('#tpi_pf_mobilisasi_pasien_jalan').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_mobilisasi_pasien === '1') {
                        $('#tpi_pf_mobilisasi_pasien_duduk').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_mobilisasi_pasien === '2') {
                        $('#tpi_pf_mobilisasi_pasien_tirah_barang').prop('checked', true).change()
                    }
                    
                    if (data.data.tpi_pf_resiko_dekubitus_pasien === '0') {
                        $('#tpi_pf_resiko_dekubitus_pasien_tidak').prop('checked', true).change()
                    }
                    if (data.data.tpi_pf_resiko_dekubitus_pasien === '1') {
                        $('#tpi_pf_resiko_dekubitus_pasien_ya').prop('checked', true).change()
                    }
                    
                    if (data.data.tpi_kp_sudah_kondisi_pasien === '0') {
                        $('#tpi_kp_sudah_kondisi_pasien_memburuk').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_kondisi_pasien === '1') {
                        $('#tpi_kp_sudah_kondisi_pasien_stabil').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_kondisi_pasien === '2') {
                        $('#tpi_kp_sudah_kondisi_pasien_tidak_berubah').prop('checked', true).change()
                    }

                    if (data.data.tpi_kp_sudah_nama_obat === '0') {
                        $('#tpi_kp_sudah_nama_obat_komplit').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_nama_obat === '1') {
                        $('#tpi_kp_sudah_nama_obat_lainnya').prop('checked', true).change()
                    }

                    if (data.data.tpi_kp_sudah_pemeriksaan_penunjang === '0') {
                        $('#tpi_kp_sudah_pemeriksaan_penunjang_komplit').prop('checked', true).change()
                    }
                    if (data.data.tpi_kp_sudah_pemeriksaan_penunjang === '1') {
                        $('#tpi_kp_sudah_pemeriksaan_penunjang_lainnya').prop('checked', true).change()
                    }

                    if (data.data.tpi_st_sudah_kondisi_pasien === '0') {
                        $('#tpi_st_sudah_kondisi_pasien_memburuk').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_kondisi_pasien === '1') {
                        $('#tpi_st_sudah_kondisi_pasien_stabil').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_kondisi_pasien === '2') {
                        $('#tpi_st_sudah_kondisi_pasien_tidak_berubah').prop('checked', true).change()
                    }

                    if (data.data.tpi_st_sudah_nama_obat === '0') {
                        $('#tpi_st_sudah_nama_obat_komplit').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_nama_obat === '1') {
                        $('#tpi_st_sudah_nama_obat_lainnya').prop('checked', true).change()
                    }

                    if (data.data.tpi_st_sudah_pemeriksaan_penunjang === '0') {
                        $('#tpi_st_sudah_pemeriksaan_penunjang_komplit').prop('checked', true).change()
                    }
                    if (data.data.tpi_st_sudah_pemeriksaan_penunjang === '1') {
                        $('#tpi_st_sudah_pemeriksaan_penunjang_lainnya').prop('checked', true).change()
                    }

                }


            },
            complete: function() {
                hideLoader()
            },
            error: function(e) {
                accessFailed(e.status);
            },
        });

    }

    function resetFormTransfer() {

        $('#id_transfer, #tpi_tanggal_masuk, #tpi_tanggal_pindah, #tpi_ruang_asal, #tpi_ruang_tujuan, #tpi_diagnosis_utama, #tpi_diagnosis_sekunder, #tpi_dpjp, #tpi_riwayat_kewaspadan, #tpi_indikasi_masuk_rs, #tpi_riwayat_kesehatan, #tpi_pf_gcs_e, #tpi_pf_gcs_m, #tpi_pf_gcs_v, #tpi_pf_tensi_sis, #tpi_pf_tensi_dis, #tpi_pf_suhu, #tpi_pf_nadi, #tpi_pf_nafas, #tpi_pf_tinggi_badan, #tpi_pf_berat_badan, #tpi_pf_keadaan_umum, #tpi_pf_riwayat_alergi, #tpi_pf_riwayat_nyeri_pasien, #tpi_pf_riwayat_resiko_jatuh_pasien, #tpi_pf_riwayat_resiko_dekubitus_pasien, #tpi_pf_tanggal_infus, #tpi_pf_tanggal_ngt, #tpi_pf_tanggal_ett, #tpi_pf_tanggal_cvc, #tpi_pf_tanggal_dc, #tpi_pf_tanggal_lain, #tpi_pt_infus, #tpi_pt_obat, #tpi_pp_ket_labolatorium, #tpi_pp_ket_radiologi, #tpi_pp_ket_lainnya, #tpi_tm_tindakan_medis, #tpi_kp_sebelum_keadaan_umum, #tpi_kp_sebelum_gcs_e, #tpi_kp_sebelum_gcs_m, #tpi_kp_sebelum_gcs_v, #tpi_kp_sebelum_gcs_total, #tpi_kp_sebelum_catatan, #tpi_kp_perjalanan_masalah_selama_trasnfer, #tpi_kp_perjalanan_penanganan_masalah, #tpi_kp_sudah_keadaan_umum, #tpi_kp_sudah_gcs_e, #tpi_kp_sudah_gcs_m, #tpi_kp_sudah_gcs_v, #tpi_kp_sudah_gcs_total, #tpi_kp_sudah_tensi_sis, #tpi_kp_sudah_tensi_dis, #tpi_kp_sudah_nadi, #tpi_kp_sudah_st_pernafasan, #tpi_kp_sudah_st_suhu,  #tpi_kp_sudah_ket_nama_obat, #tpi_kp_sudah_ket_pemeriksaan_penunjang, #tpi_kp_sudah_catatan_penting, #tpi_kp_waktu_ttd_petugas_tf, #tpi_kp_waktu_ttd_petugas_penerima, #tpi_kp_petugas_tansfer, #tpi_kp_petugas_terima_transfer, #tpi_st_sebelum_keadaan_umum, #tpi_st_sebelum_gcs_e, #tpi_st_sebelum_gcs_m, #tpi_st_sebelum_gcs_v, #tpi_st_sebelum_gcs_total, #tpi_st_sebelum_catatan, #tpi_st_perjalanan_masalah_selama_transfer, #tpi_st_perjalanan_penanganan_masalah,#tpi_st_sudah_keadaan_umum, #tpi_st_sudah_gcs_e, #tpi_st_sudah_gcs_m, #tpi_st_sudah_gcs_v, #tpi_st_sudah_gcs_total, #tpi_st_sudah_tensi_sis, #tpi_st_sudah_tensi_dis, #tpi_st_sudah_st_nadi, #tpi_st_sudah_st_pernafasan, #tpi_st_sudah_st_suhu, #tpi_st_sudah_ket_nama_obat, #tpi_st_sudah_ket_pemeriksaan_penunjang, #tpi_st_sudah_catatan_penting, #tpi_st_waktu_ttd_petugas_tf, #tpi_st_waktu_ttd_petugas_penerima, #tpi_st_petugas_tansfer, #tpi_st_petugas_terima_transfer').val('');

        $('#tpi_kewaspadaan_precaution, #tpi_kewaspadaan_contac, #tpi_kewaspadaan_airbone, #tpi_kewaspadaan_droplet, #tpi_kewaspadaan_lain, #tpi_pf_alergi_tidak, #tpi_pf_alergi_ya, #tpi_pf_skala_nyeri_pasien_tidak, #tpi_pf_skala_nyeri_pasien_ya, #tpi_pf_resiko_jatuh_pasien_tidak, #resiko_jatuh_pasien_ya, #tpi_pf_mobilisasi_pasien_jalan, #tpi_pf_mobilisasi_pasien_duduk, #tpi_pf_mobilisasi_pasien_tirah_barang, #tpi_pf_mobilisasi_pasien_transfer_mandiri, #tpi_pf_mobilisasi_pasien_transfer_dibantu_sebagian, #tpi_pf_mobilisasi_pasien_transfer_tirah_diabantu_penuh, #tpi_pf_resiko_dekubitus_pasien_tidak, #tpi_pf_resiko_dekubitus_pasien_ya, #tpi_kp_sudah_nama_obat_komplit, #tpi_kp_sudah_nama_obat_lainnya, #tpi_kp_sudah_pemeriksaan_penunjang_komplit, #tpi_kp_sudah_pemeriksaan_penunjang_lainnya,#tpi_st_sudah_nama_obat_komplit, #tpi_st_sudah_nama_obat_lainnya, #tpi_st_sudah_pemeriksaan_penunjang_komplit, #tpi_st_sudah_pemeriksaan_penunjang_lainnya, #tpi_pf_composmentis, #tpi_pf_apatis, #tpi_pf_samnolen, #tpi_pf_sopor, #tpi_pf_koma, #tpi_pf_infus, #tpi_pf_ngt_pasien, #tpi_pf_ett, #tpi_pf_cvc, #tpi_pf_dc, #tpi_pf_lain, #tpi_pf_pump, #tpi_pf_bidai, #tpi_pp_labolatorium, #tpi_pp_radiologi, #tpi_pp_lainnya, #tpi_kp_sebelum_composmentis, #tpi_kp_sebelum_apatis, #tpi_kp_sebelum_samnolen, #tpi_kp_sebelum_sopor, #tpi_kp_sebelum_koma, #tpi_kp_sudah_composmentis, #tpi_kp_sudah_apatis, #tpi_kp_sudah_samnolen, #tpi_kp_sudah_sopor, #tpi_kp_sudah_koma, #tpi_kp_sudah_memburuk, #tpi_kp_sudah_stabil, #tpi_kp_sudah_tidak_berubah, #tpi_kp_ttd_petugas_transfer, #tpi_kp_ttd_petugas_terima_transfer,#tpi_st_sebelum_composmentis, #tpi_st_sebelum_apatis, #tpi_st_sebelum_samnolen, #tpi_st_sebelum_sopor, #tpi_st_sebelum_koma, #tpi_st_sudah_composmentis, #tpi_st_sudah_apatis, #tpi_st_sudah_samnolen, #tpi_st_sudah_sopor, #tpi_st_sudah_koma, #tpi_st_sudah_memburuk, #tpi_st_sudah_stabil, #tpi_st_sudah_tidak_berubah, #tpi_st_ttd_petugas_transfer, #tpi_st_ttd_petugas_terima_transfer, #tpi_pf_resiko_jatuh_pasien_ya, #tpi_st_sudah_kondisi_pasien_memburuk').prop('checked', false);

        $('#s2id_tpi_dpjp a .select2c-chosen, #s2id_tpi_kp_petugas_tansfer a .select2c-chosen, #s2id_tpi_kp_petugas_terima_transfer a .select2c-chosen, #s2id_tpi_st_petugas_tansfer a .select2c-chosen, #s2id_tpi_st_petugas_terima_transfer a .select2c-chosen').html('');
    }

    function hapusTransfer(obj, id) {

        bootbox.dialog({
            message: "Anda yakin akan menghapus data ini?",
            title: "Hapus Data",
            buttons: {
                batal: {
                    label: '<i class="fas fa-times-circle mr-1"></i>Batal',
                    className: "btn-secondary",
                    callback: function() {

                    }
                },
                hapus: {
                    label: '<i class="fas fa-trash-alt mr-1"></i>Hapus',
                    className: "btn-info",
                    callback: function() {
                        $.ajax({
                            type: 'DELETE',
                            url: '<?= base_url("pelayanan/api/pelayanan/hapus_transfer") ?>/' + id,
                            cache: false,
                            dataType: 'JSON',
                            success: function(data) {
                                if (data.status) {
                                    messageCustom(data.message, 'Success');
                                    removeList(obj);
                                } else {
                                    customAlert('Hapus Transfer Pasien Intra Rumah Sakit', data.message);
                                }
                            },
                            error: function(e) {
                                messageDeleteFailed();
                            }
                        });
                    }
                }
            }
        });

    }

</script>